"use strict";(self.webpackChunkshoppingApp=self.webpackChunkshoppingApp||[]).push([[179],{273:()=>{function ae(e){return"function"==typeof e}function Yo(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const el=Yo(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Zo(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Et{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ae(r))try{r()}catch(o){t=o instanceof el?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{m_(o)}catch(s){t=t??[],s instanceof el?t=[...t,...s.errors]:t.push(s)}}if(t)throw new el(t)}}add(t){var n;if(t&&t!==this)if(this.closed)m_(t);else{if(t instanceof Et){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Zo(n,t)}remove(t){const{_finalizers:n}=this;n&&Zo(n,t),t instanceof Et&&t._removeParent(this)}}Et.EMPTY=(()=>{const e=new Et;return e.closed=!0,e})();const p_=Et.EMPTY;function g_(e){return e instanceof Et||e&&"closed"in e&&ae(e.remove)&&ae(e.add)&&ae(e.unsubscribe)}function m_(e){ae(e)?e():e.unsubscribe()}const Pr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},tl={setTimeout(e,t,...n){const{delegate:r}=tl;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=tl;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function __(e){tl.setTimeout(()=>{const{onUnhandledError:t}=Pr;if(!t)throw e;t(e)})}function yd(){}const uA=vd("C",void 0,void 0);function vd(e,t,n){return{kind:e,value:t,error:n}}let kr=null;function nl(e){if(Pr.useDeprecatedSynchronousErrorHandling){const t=!kr;if(t&&(kr={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=kr;if(kr=null,n)throw r}}else e()}class Cd extends Et{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,g_(t)&&t.add(this)):this.destination=mA}static create(t,n,r){return new Ko(t,n,r)}next(t){this.isStopped?wd(function dA(e){return vd("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?wd(function cA(e){return vd("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?wd(uA,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const hA=Function.prototype.bind;function Dd(e,t){return hA.call(e,t)}class pA{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){rl(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){rl(r)}else rl(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){rl(n)}}}class Ko extends Cd{constructor(t,n,r){let i;if(super(),ae(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Pr.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Dd(t.next,o),error:t.error&&Dd(t.error,o),complete:t.complete&&Dd(t.complete,o)}):i=t}this.destination=new pA(i)}}function rl(e){Pr.useDeprecatedSynchronousErrorHandling?function fA(e){Pr.useDeprecatedSynchronousErrorHandling&&kr&&(kr.errorThrown=!0,kr.error=e)}(e):__(e)}function wd(e,t){const{onStoppedNotification:n}=Pr;n&&tl.setTimeout(()=>n(e,t))}const mA={closed:!0,next:yd,error:function gA(e){throw e},complete:yd},Ed="function"==typeof Symbol&&Symbol.observable||"@@observable";function rr(e){return e}function y_(e){return 0===e.length?rr:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let Pe=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function vA(e){return e&&e instanceof Cd||function yA(e){return e&&ae(e.next)&&ae(e.error)&&ae(e.complete)}(e)&&g_(e)}(n)?n:new Ko(n,r,i);return nl(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=v_(r))((i,o)=>{const s=new Ko({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Ed](){return this}pipe(...n){return y_(n)(this)}toPromise(n){return new(n=v_(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function v_(e){var t;return null!==(t=e??Pr.Promise)&&void 0!==t?t:Promise}const CA=Yo(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Qt=(()=>{class e extends Pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new C_(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new CA}next(n){nl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){nl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){nl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?p_:(this.currentObservers=null,o.push(n),new Et(()=>{this.currentObservers=null,Zo(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Pe;return n.source=this,n}}return e.create=(t,n)=>new C_(t,n),e})();class C_ extends Qt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:p_}}function D_(e){return ae(e?.lift)}function Le(e){return t=>{if(D_(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ke(e,t,n,r,i){return new DA(e,t,n,r,i)}class DA extends Cd{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function ue(e,t){return Le((n,r)=>{let i=0;n.subscribe(ke(r,o=>{r.next(e.call(t,o,i++))}))})}function ir(e){return this instanceof ir?(this.v=e,this):new ir(e)}function I_(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Md(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}(a,l,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const S_=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function M_(e){return ae(e?.then)}function T_(e){return ae(e[Ed])}function A_(e){return Symbol.asyncIterator&&ae(e?.[Symbol.asyncIterator])}function N_(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const R_=function HA(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function x_(e){return ae(e?.[R_])}function O_(e){return function b_(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(p,g){o.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{!function l(f){f.value instanceof ir?Promise.resolve(f.value.v).then(u,c):d(o[0][2],f)}(r[f](h))}catch(p){d(o[0][3],p)}}function u(f){a("next",f)}function c(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield ir(n.read());if(i)return yield ir(void 0);yield yield ir(r)}}finally{n.releaseLock()}})}function P_(e){return ae(e?.getReader)}function bt(e){if(e instanceof Pe)return e;if(null!=e){if(T_(e))return function GA(e){return new Pe(t=>{const n=e[Ed]();if(ae(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(S_(e))return function zA(e){return new Pe(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(M_(e))return function WA(e){return new Pe(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,__)})}(e);if(A_(e))return k_(e);if(x_(e))return function qA(e){return new Pe(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(P_(e))return function QA(e){return k_(O_(e))}(e)}throw N_(e)}function k_(e){return new Pe(t=>{(function YA(e,t){var n,r,i,o;return function w_(e,t,n,r){return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=I_(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function On(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function ze(e,t,n=1/0){return ae(t)?ze((r,i)=>ue((o,s)=>t(r,o,i,s))(bt(e(r,i))),n):("number"==typeof t&&(n=t),Le((r,i)=>function ZA(e,t,n,r,i,o,s,a){const l=[];let u=0,c=0,d=!1;const f=()=>{d&&!l.length&&!u&&t.complete()},h=g=>u<r?p(g):l.push(g),p=g=>{o&&t.next(g),u++;let _=!1;bt(n(g,c++)).subscribe(ke(t,D=>{i?.(D),o?h(D):t.next(D)},()=>{_=!0},void 0,()=>{if(_)try{for(u--;l.length&&u<r;){const D=l.shift();s?On(t,s,()=>p(D)):p(D)}f()}catch(D){t.error(D)}}))};return e.subscribe(ke(t,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,e,n)))}function gi(e=1/0){return ze(rr,e)}const cn=new Pe(e=>e.complete());function Td(e){return e[e.length-1]}function F_(e){return ae(Td(e))?e.pop():void 0}function Xo(e){return function XA(e){return e&&ae(e.schedule)}(Td(e))?e.pop():void 0}function L_(e,t=0){return Le((n,r)=>{n.subscribe(ke(r,i=>On(r,e,()=>r.next(i),t),()=>On(r,e,()=>r.complete(),t),i=>On(r,e,()=>r.error(i),t)))})}function V_(e,t=0){return Le((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function B_(e,t){if(!e)throw new Error("Iterable cannot be null");return new Pe(n=>{On(n,t,()=>{const r=e[Symbol.asyncIterator]();On(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function $e(e,t){return t?function oN(e,t){if(null!=e){if(T_(e))return function eN(e,t){return bt(e).pipe(V_(t),L_(t))}(e,t);if(S_(e))return function nN(e,t){return new Pe(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(M_(e))return function tN(e,t){return bt(e).pipe(V_(t),L_(t))}(e,t);if(A_(e))return B_(e,t);if(x_(e))return function rN(e,t){return new Pe(n=>{let r;return On(n,t,()=>{r=e[R_](),On(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>ae(r?.return)&&r.return()})}(e,t);if(P_(e))return function iN(e,t){return B_(O_(e),t)}(e,t)}throw N_(e)}(e,t):bt(e)}class Ft extends Qt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function F(...e){return $e(e,Xo(e))}function j_(e={}){const{connector:t=(()=>new Qt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,l,u=0,c=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=l=void 0,c=d=!1},p=()=>{const g=s;h(),g?.unsubscribe()};return Le((g,_)=>{u++,!d&&!c&&f();const D=l=l??t();_.add(()=>{u--,0===u&&!d&&!c&&(a=Ad(p,i))}),D.subscribe(_),!s&&u>0&&(s=new Ko({next:m=>D.next(m),error:m=>{d=!0,f(),a=Ad(h,n,m),D.error(m)},complete:()=>{c=!0,f(),a=Ad(h,r),D.complete()}}),bt(g).subscribe(s))})(o)}}function Ad(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Ko({next:()=>{r.unsubscribe(),e()}});return bt(t(...n)).subscribe(r)}function dn(e,t){return Le((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(ke(r,l=>{i?.unsubscribe();let u=0;const c=o++;bt(e(l,c)).subscribe(i=ke(r,d=>r.next(t?t(l,d,c,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function lN(e,t){return e===t}function ie(e){for(let t in e)if(e[t]===ie)return t;throw Error("Could not find renamed property on target object.")}function il(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ve(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ve).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Nd(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const uN=ie({__forward_ref__:ie});function fe(e){return e.__forward_ref__=fe,e.toString=function(){return Ve(this())},e}function P(e){return Rd(e)?e():e}function Rd(e){return"function"==typeof e&&e.hasOwnProperty(uN)&&e.__forward_ref__===fe}function xd(e){return e&&!!e.\u0275providers}const U_="https://g.co/ng/security#xss";class C extends Error{constructor(t,n){super(function ol(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function L(e){return"string"==typeof e?e:null==e?"":String(e)}function Od(e,t){throw new C(-201,!1)}function Lt(e,t){null==e&&function x(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function M(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Yt(e){return{providers:e.providers||[],imports:e.imports||[]}}function sl(e){return $_(e,ll)||$_(e,H_)}function $_(e,t){return e.hasOwnProperty(t)?e[t]:null}function al(e){return e&&(e.hasOwnProperty(Pd)||e.hasOwnProperty(_N))?e[Pd]:null}const ll=ie({\u0275prov:ie}),Pd=ie({\u0275inj:ie}),H_=ie({ngInjectableDef:ie}),_N=ie({ngInjectorDef:ie});var W=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(W||{});let kd;function ht(e){const t=kd;return kd=e,t}function z_(e,t,n){const r=sl(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&W.Optional?null:void 0!==t?t:void Od(Ve(e))}const he=globalThis;class I{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=M({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Jo={},jd="__NG_DI_FLAG__",ul="ngTempTokenPath",CN=/\n/gm,q_="__source";let mi;function or(e){const t=mi;return mi=e,t}function EN(e,t=W.Default){if(void 0===mi)throw new C(-203,!1);return null===mi?z_(e,void 0,t):mi.get(e,t&W.Optional?null:void 0,t)}function T(e,t=W.Default){return(function G_(){return kd}()||EN)(P(e),t)}function b(e,t=W.Default){return T(e,cl(t))}function cl(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Ud(e){const t=[];for(let n=0;n<e.length;n++){const r=P(e[n]);if(Array.isArray(r)){if(0===r.length)throw new C(900,!1);let i,o=W.Default;for(let s=0;s<r.length;s++){const a=r[s],l=bN(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}t.push(T(i,o))}else t.push(T(r))}return t}function es(e,t){return e[jd]=t,e.prototype[jd]=t,e}function bN(e){return e[jd]}function Pn(e){return{toString:e}.toString()}var dl=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(dl||{}),Zt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Zt||{});const fn={},K=[],fl=ie({\u0275cmp:ie}),$d=ie({\u0275dir:ie}),Hd=ie({\u0275pipe:ie}),Y_=ie({\u0275mod:ie}),kn=ie({\u0275fac:ie}),ts=ie({__NG_ELEMENT_ID__:ie}),Z_=ie({__NG_ENV_ID__:ie});function K_(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Gd(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{const o=i,s=n[++r];J_(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function X_(e){return 3===e||4===e||6===e}function J_(e){return 64===e.charCodeAt(0)}function ns(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||ey(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function ey(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const ty="ng-template";function MN(e,t,n){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const s=e[r++];if(n&&"class"===o&&-1!==K_(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function ny(e){return 4===e.type&&e.value!==ty}function TN(e,t,n){return t===(4!==e.type||n?e.value:ty)}function AN(e,t,n){let r=4;const i=e.attrs||[],o=function xN(e){for(let t=0;t<e.length;t++)if(X_(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!TN(e,l,n)||""===l&&1===t.length){if(Kt(r))return!1;s=!0}}else{const u=8&r?l:t[++a];if(8&r&&null!==e.attrs){if(!MN(e.attrs,u,n)){if(Kt(r))return!1;s=!0}continue}const d=NN(8&r?"class":l,i,ny(e),n);if(-1===d){if(Kt(r))return!1;s=!0;continue}if(""!==u){let f;f=d>o?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==K_(h,u,0)||2&r&&u!==f){if(Kt(r))return!1;s=!0}}}}else{if(!s&&!Kt(r)&&!Kt(l))return!1;if(s&&Kt(l))continue;s=!1,r=l|1&r}}return Kt(r)||s}function Kt(e){return 0==(1&e)}function NN(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function ON(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function ry(e,t,n=!1){for(let r=0;r<t.length;r++)if(AN(e,t[r],n))return!0;return!1}function iy(e,t){return e?":not("+t.trim()+")":t}function kN(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Kt(s)&&(t+=iy(o,i),i=""),r=s,o=o||!Kt(r);n++}return""!==i&&(t+=iy(o,i)),t}function hn(e){return Pn(()=>{const t=sy(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===dl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Zt.Emulated,styles:e.styles||K,_:null,schemas:e.schemas||null,tView:null,id:""};ay(n);const r=e.dependencies;return n.directiveDefs=hl(r,!1),n.pipeDefs=hl(r,!0),n.id=function HN(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function BN(e){return Y(e)||We(e)}function jN(e){return null!==e}function pn(e){return Pn(()=>({type:e.type,bootstrap:e.bootstrap||K,declarations:e.declarations||K,imports:e.imports||K,exports:e.exports||K,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function oy(e,t){if(null==e)return fn;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}function k(e){return Pn(()=>{const t=sy(e);return ay(t),t})}function Y(e){return e[fl]||null}function We(e){return e[$d]||null}function rt(e){return e[Hd]||null}function St(e,t){const n=e[Y_]||null;if(!n&&!0===t)throw new Error(`Type ${Ve(e)} does not have '\u0275mod' property.`);return n}function sy(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||fn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||K,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:oy(e.inputs,t),outputs:oy(e.outputs)}}function ay(e){e.features?.forEach(t=>t(e))}function hl(e,t){if(!e)return null;const n=t?rt:BN;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(jN)}const Se=0,E=1,j=2,De=3,Xt=4,rs=5,Ke=6,yi=7,Ae=8,sr=9,vi=10,V=11,is=12,ly=13,Ci=14,Ne=15,os=16,Di=17,gn=18,ss=19,uy=20,ar=21,Fn=22,as=23,ls=24,q=25,zd=1,cy=2,mn=7,wi=9,qe=11;function gt(e){return Array.isArray(e)&&"object"==typeof e[zd]}function it(e){return Array.isArray(e)&&!0===e[zd]}function Wd(e){return 0!=(4&e.flags)}function Lr(e){return e.componentOffset>-1}function gl(e){return 1==(1&e.flags)}function Jt(e){return!!e.template}function qd(e){return 0!=(512&e[j])}function Vr(e,t){return e.hasOwnProperty(kn)?e[kn]:null}let Qe=null,ml=!1;function Vt(e){const t=Qe;return Qe=e,t}const hy={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function gy(e){if(!cs(e)||e.dirty){if(!e.producerMustRecompute(e)&&!yy(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function _y(e){e.dirty=!0,function my(e){if(void 0===e.liveConsumerNode)return;const t=ml;ml=!0;try{for(const n of e.liveConsumerNode)n.dirty||_y(n)}finally{ml=t}}(e),e.consumerMarkedDirty?.(e)}function Yd(e){return e&&(e.nextProducerIndex=0),Vt(e)}function Zd(e,t){if(Vt(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(cs(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)_l(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function yy(e){Ei(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(gy(n),r!==n.version))return!0}return!1}function vy(e){if(Ei(e),cs(e))for(let t=0;t<e.producerNode.length;t++)_l(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function _l(e,t){if(function Dy(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Ei(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)_l(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Ei(i),i.producerIndexOfThis[r]=t}}function cs(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ei(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let wy=null;const Sy=()=>{},nR=(()=>({...hy,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:Sy}))();class rR{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Bt(){return My}function My(e){return e.type.prototype.ngOnChanges&&(e.setInput=oR),iR}function iR(){const e=Ay(this),t=e?.current;if(t){const n=e.previous;if(n===fn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function oR(e,t,n,r){const i=this.declaredInputs[n],o=Ay(e)||function sR(e,t){return e[Ty]=t}(e,{previous:fn,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[i];s[i]=new rR(l&&l.currentValue,t,a===fn),e[r]=t}Bt.ngInherit=!0;const Ty="__ngSimpleChanges__";function Ay(e){return e[Ty]||null}const _n=function(e,t,n){};function pe(e){for(;Array.isArray(e);)e=e[Se];return e}function yl(e,t){return pe(t[e])}function mt(e,t){return pe(t[e.index])}function xy(e,t){return e.data[t]}function Mt(e,t){const n=t[e];return gt(n)?n:n[Se]}function ur(e,t){return null==t?null:e[t]}function Oy(e){e[Di]=0}function fR(e){1024&e[j]||(e[j]|=1024,ky(e,1))}function Py(e){1024&e[j]&&(e[j]&=-1025,ky(e,-1))}function ky(e,t){let n=e[De];if(null===n)return;n[rs]+=t;let r=n;for(n=n[De];null!==n&&(1===t&&1===r[rs]||-1===t&&0===r[rs]);)n[rs]+=t,r=n,n=n[De]}const O={lFrame:Wy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Vy(){return O.bindingsEnabled}function y(){return O.lFrame.lView}function Z(){return O.lFrame.tView}function vl(e){return O.lFrame.contextLView=e,e[Ae]}function Cl(e){return O.lFrame.contextLView=null,e}function Ye(){let e=By();for(;null!==e&&64===e.type;)e=e.parent;return e}function By(){return O.lFrame.currentTNode}function yn(e,t){const n=O.lFrame;n.currentTNode=e,n.isParent=t}function tf(){return O.lFrame.isParent}function Si(){return O.lFrame.bindingIndex++}function bR(e,t){const n=O.lFrame;n.bindingIndex=n.bindingRootIndex=e,rf(t)}function rf(e){O.lFrame.currentDirectiveIndex=e}function af(e){O.lFrame.currentQueryIndex=e}function SR(e){const t=e[E];return 2===t.type?t.declTNode:1===t.type?e[Ke]:null}function Gy(e,t,n){if(n&W.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&W.Host||(i=SR(o),null===i||(o=o[Ci],10&i.type))););if(null===i)return!1;t=i,e=o}const r=O.lFrame=zy();return r.currentTNode=t,r.lView=e,!0}function lf(e){const t=zy(),n=e[E];O.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function zy(){const e=O.lFrame,t=null===e?null:e.child;return null===t?Wy(e):t}function Wy(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function qy(){const e=O.lFrame;return O.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Qy=qy;function uf(){const e=qy();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function st(){return O.lFrame.selectedIndex}function Br(e){O.lFrame.selectedIndex=e}function be(){const e=O.lFrame;return xy(e.tView,e.selectedIndex)}let Zy=!0;function Dl(){return Zy}function cr(e){Zy=e}function wl(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),null!=c&&(e.destroyHooks??=[]).push(n,c)}}function El(e,t,n){Ky(e,t,3,n)}function bl(e,t,n,r){(3&e[j])===n&&Ky(e,t,n,r)}function cf(e,t){let n=e[j];(3&n)===t&&(n&=8191,n+=1,e[j]=n)}function Ky(e,t,n,r){const o=r??-1,s=t.length-1;let a=0;for(let l=void 0!==r?65535&e[Di]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(e[Di]+=65536),(a<o||-1==o)&&(PR(e,n,t,l),e[Di]=(4294901760&e[Di])+l+2),l++}function Xy(e,t){_n(4,e,t);const n=Vt(null);try{t.call(e)}finally{Vt(n),_n(5,e,t)}}function PR(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[j]>>13<e[Di]>>16&&(3&e[j])===t&&(e[j]+=8192,Xy(a,o)):Xy(a,o)}const Mi=-1;class fs{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function ff(e){return e!==Mi}function hs(e){return 32767&e}function ps(e,t){let n=function VR(e){return e>>16}(e),r=t;for(;n>0;)r=r[Ci],n--;return r}let hf=!0;function Il(e){const t=hf;return hf=e,t}const Jy=255,ev=5;let BR=0;const vn={};function Sl(e,t){const n=tv(e,t);if(-1!==n)return n;const r=t[E];r.firstCreatePass&&(e.injectorIndex=t.length,pf(r.data,e),pf(t,null),pf(r.blueprint,null));const i=Ml(e,t),o=e.injectorIndex;if(ff(i)){const s=hs(i),a=ps(i,t),l=a[E].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|l[s+u]}return t[o+8]=i,o}function pf(e,t){e.push(0,0,0,0,0,0,0,0,t)}function tv(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Ml(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=lv(i),null===r)return Mi;if(n++,i=i[Ci],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Mi}function gf(e,t,n){!function jR(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ts)&&(r=n[ts]),null==r&&(r=n[ts]=BR++);const i=r&Jy;t.data[e+(i>>ev)]|=1<<i}(e,t,n)}function nv(e,t,n){if(n&W.Optional||void 0!==e)return e;Od()}function rv(e,t,n,r){if(n&W.Optional&&void 0===r&&(r=null),!(n&(W.Self|W.Host))){const i=e[sr],o=ht(void 0);try{return i?i.get(t,r,n&W.Optional):z_(t,r,n&W.Optional)}finally{ht(o)}}return nv(r,0,n)}function iv(e,t,n,r=W.Default,i){if(null!==e){if(2048&t[j]&&!(r&W.Self)){const s=function WR(e,t,n,r,i){let o=e,s=t;for(;null!==o&&null!==s&&2048&s[j]&&!(512&s[j]);){const a=ov(o,s,n,r|W.Self,vn);if(a!==vn)return a;let l=o.parent;if(!l){const u=s[uy];if(u){const c=u.get(n,vn,r);if(c!==vn)return c}l=lv(s),s=s[Ci]}o=l}return i}(e,t,n,r,vn);if(s!==vn)return s}const o=ov(e,t,n,r,vn);if(o!==vn)return o}return rv(t,n,r,i)}function ov(e,t,n,r,i){const o=function HR(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ts)?e[ts]:void 0;return"number"==typeof t?t>=0?t&Jy:zR:t}(n);if("function"==typeof o){if(!Gy(t,e,r))return r&W.Host?nv(i,0,r):rv(t,n,r,i);try{let s;if(s=o(r),null!=s||r&W.Optional)return s;Od()}finally{Qy()}}else if("number"==typeof o){let s=null,a=tv(e,t),l=Mi,u=r&W.Host?t[Ne][Ke]:null;for((-1===a||r&W.SkipSelf)&&(l=-1===a?Ml(e,t):t[a+8],l!==Mi&&av(r,!1)?(s=t[E],a=hs(l),t=ps(l,t)):a=-1);-1!==a;){const c=t[E];if(sv(o,a,c.data)){const d=$R(a,t,n,s,r,u);if(d!==vn)return d}l=t[a+8],l!==Mi&&av(r,t[E].data[a+8]===u)&&sv(o,a,t)?(s=c,a=hs(l),t=ps(l,t)):a=-1}}return i}function $R(e,t,n,r,i,o){const s=t[E],a=s.data[e+8],c=function Tl(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,l=e.directiveStart,c=o>>20,f=i?a+c:e.directiveEnd;for(let h=r?a:a+c;h<f;h++){const p=s[h];if(h<l&&n===p||h>=l&&p.type===n)return h}if(i){const h=s[l];if(h&&Jt(h)&&h.type===n)return l}return null}(a,s,n,null==r?Lr(a)&&hf:r!=s&&0!=(3&a.type),i&W.Host&&o===a);return null!==c?jr(t,s,c,a):vn}function jr(e,t,n,r){let i=e[n];const o=t.data;if(function kR(e){return e instanceof fs}(i)){const s=i;s.resolving&&function cN(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new C(-200,`Circular dependency in DI detected for ${e}${n}`)}(function ne(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():L(e)}(o[n]));const a=Il(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?ht(s.injectImpl):null;Gy(e,r,W.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function OR(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=My(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}(n,o[n],t)}finally{null!==u&&ht(u),Il(a),s.resolving=!1,Qy()}}return i}function sv(e,t,n){return!!(n[t+(e>>ev)]&1<<e)}function av(e,t){return!(e&W.Self||e&W.Host&&t)}class at{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return iv(this._tNode,this._lView,t,cl(r),n)}}function zR(){return new at(Ye(),y())}function Ze(e){return Pn(()=>{const t=e.prototype.constructor,n=t[kn]||mf(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[kn]||mf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function mf(e){return Rd(e)?()=>{const t=mf(P(e));return t&&t()}:Vr(e)}function lv(e){const t=e[E],n=t.type;return 2===n?t.declTNode:1===n?e[Ke]:null}const Ai="__parameters__";function Ri(e,t,n){return Pn(()=>{const r=function _f(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,u,c){const d=l.hasOwnProperty(Ai)?l[Ai]:Object.defineProperty(l,Ai,{value:[]})[Ai];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function Oi(e,t){e.forEach(n=>Array.isArray(n)?Oi(n,t):t(n))}function cv(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Nl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Tt(e,t,n){let r=Pi(e,t);return r>=0?e[1|r]=n:(r=~r,function JR(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function yf(e,t){const n=Pi(e,t);if(n>=0)return e[1|n]}function Pi(e,t){return function dv(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const xl=es(Ri("Optional"),8),Ol=es(Ri("SkipSelf"),4);function Vl(e){return 128==(128&e.flags)}var dr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(dr||{});const Ef=new Map;let Ex=0;const If="__ngContext__";function Xe(e,t){gt(t)?(e[If]=t[ss],function Ix(e){Ef.set(e[ss],e)}(t)):e[If]=t}let Sf;function Mf(e,t){return Sf(e,t)}function Cs(e){const t=e[De];return it(t)?t[De]:t}function Rv(e){return Ov(e[is])}function xv(e){return Ov(e[Xt])}function Ov(e){for(;null!==e&&!it(e);)e=e[Xt];return e}function Li(e,t,n,r,i){if(null!=r){let o,s=!1;it(r)?o=r:gt(r)&&(s=!0,r=r[Se]);const a=pe(r);0===e&&null!==n?null==i?Lv(t,n,a):Ur(t,n,a,i||null,!0):1===e&&null!==n?Ur(t,n,a,i||null,!0):2===e?function zl(e,t,n){const r=Hl(e,t);r&&function Gx(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function qx(e,t,n,r,i){const o=n[mn];o!==pe(n)&&Li(t,e,r,o,i);for(let a=qe;a<n.length;a++){const l=n[a];ws(l[E],l,e,t,r,o)}}(t,e,o,n,i)}}function Ul(e,t,n){return e.createElement(t,n)}function kv(e,t){const n=e[wi],r=n.indexOf(t);Py(t),n.splice(r,1)}function $l(e,t){if(e.length<=qe)return;const n=qe+t,r=e[n];if(r){const i=r[os];null!==i&&i!==e&&kv(i,r),t>0&&(e[n-1][Xt]=r[Xt]);const o=Nl(e,qe+t);!function Fx(e,t){ws(e,t,t[V],2,null,null),t[Se]=null,t[Ke]=null}(r[E],r);const s=o[gn];null!==s&&s.detachView(o[E]),r[De]=null,r[Xt]=null,r[j]&=-129}return r}function Af(e,t){if(!(256&t[j])){const n=t[V];t[as]&&vy(t[as]),t[ls]&&vy(t[ls]),n.destroyNode&&ws(e,t,n,3,null,null),function Bx(e){let t=e[is];if(!t)return Nf(e[E],e);for(;t;){let n=null;if(gt(t))n=t[is];else{const r=t[qe];r&&(n=r)}if(!n){for(;t&&!t[Xt]&&t!==e;)gt(t)&&Nf(t[E],t),t=t[De];null===t&&(t=e),gt(t)&&Nf(t[E],t),n=t&&t[Xt]}t=n}}(t)}}function Nf(e,t){if(!(256&t[j])){t[j]&=-129,t[j]|=256,function Hx(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof fs)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];_n(4,a,l);try{l.call(a)}finally{_n(5,a,l)}}else{_n(4,i,o);try{o.call(i)}finally{_n(5,i,o)}}}}}(e,t),function $x(e,t){const n=e.cleanup,r=t[yi];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(t[yi]=null);const i=t[ar];if(null!==i){t[ar]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,t),1===t[E].type&&t[V].destroy();const n=t[os];if(null!==n&&it(t[De])){n!==t[De]&&kv(n,t);const r=t[gn];null!==r&&r.detachView(e)}!function Sx(e){Ef.delete(e[ss])}(t)}}function Rf(e,t,n){return function Fv(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Se];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===Zt.None||o===Zt.Emulated)return null}return mt(r,n)}}(e,t.parent,n)}function Ur(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Lv(e,t,n){e.appendChild(t,n)}function Vv(e,t,n,r,i){null!==r?Ur(e,t,n,r,i):Lv(e,t,n)}function Hl(e,t){return e.parentNode(t)}let xf,Ff,ql,Uv=function jv(e,t,n){return 40&e.type?mt(e,n):null};function Gl(e,t,n,r){const i=Rf(e,r,t),o=t[V],a=function Bv(e,t,n){return Uv(e,t,n)}(r.parent||t[Ke],r,t);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)Vv(o,i,n[l],a,!1);else Vv(o,i,n,a,!1);void 0!==xf&&xf(o,r,t,n,i)}function Ds(e,t){if(null!==t){const n=t.type;if(3&n)return mt(t,e);if(4&n)return Of(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Ds(e,r);{const i=e[t.index];return it(i)?Of(-1,i):pe(i)}}if(32&n)return Mf(t,e)()||pe(e[t.index]);{const r=Hv(e,t);return null!==r?Array.isArray(r)?r[0]:Ds(Cs(e[Ne]),r):Ds(e,t.next)}}return null}function Hv(e,t){return null!==t?e[Ne][Ke].projection[t.projection]:null}function Of(e,t){const n=qe+e+1;if(n<t.length){const r=t[n],i=r[E].firstChild;if(null!==i)return Ds(r,i)}return t[mn]}function Pf(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===t&&(a&&Xe(pe(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)Pf(e,t,n.child,r,i,o,!1),Li(t,e,i,a,o);else if(32&l){const u=Mf(n,r);let c;for(;c=u();)Li(t,e,i,c,o);Li(t,e,i,a,o)}else 16&l?zv(e,t,r,n,i,o):Li(t,e,i,a,o);n=s?n.projectionNext:n.next}}function ws(e,t,n,r,i,o){Pf(n,r,e.firstChild,t,i,o,!1)}function zv(e,t,n,r,i,o){const s=n[Ne],l=s[Ke].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Li(t,e,i,l[u],o);else{let u=l;const c=s[De];Vl(r)&&(u.flags|=128),Pf(e,t,u,c,i,o,!0)}}function Wv(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function qv(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Gd(e,t,r),null!==i&&Wv(e,t,i),null!==o&&function Yx(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}function Zv(e){return function Lf(){if(void 0===ql&&(ql=null,he.trustedTypes))try{ql=he.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ql}()?.createScriptURL(e)||e}class Kv{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${U_})`}}function fr(e){return e instanceof Kv?e.changingThisBreaksApplicationSecurity:e}function Es(e,t){const n=function oO(e){return e instanceof Kv&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${U_})`)}return n===t}const uO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ji=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ji||{});function iC(e){const t=Is();return t?t.sanitize(ji.URL,e)||"":Es(e,"URL")?fr(e):function Vf(e){return(e=String(e)).match(uO)?e:"unsafe:"+e}(L(e))}function oC(e){const t=Is();if(t)return Zv(t.sanitize(ji.RESOURCE_URL,e)||"");if(Es(e,"ResourceURL"))return Zv(fr(e));throw new C(904,!1)}function Is(){const e=y();return e&&e[vi].sanitizer}const Ss=new I("ENVIRONMENT_INITIALIZER"),aC=new I("INJECTOR",-1),lC=new I("INJECTOR_DEF_TYPES");class $f{get(t,n=Jo){if(n===Jo){const r=new Error(`NullInjectorError: No provider for ${Ve(t)}!`);throw r.name="NullInjectorError",r}return n}}function wO(...e){return{\u0275providers:cC(0,e),\u0275fromNgModule:!0}}function cC(e,...t){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Oi(t,s=>{const a=s;Yl(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&dC(i,o),n}function dC(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];Hf(i,o=>{t(o,r)})}}function Yl(e,t,n,r){if(!(e=P(e)))return!1;let i=null,o=al(e);const s=!o&&Y(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const l=e.ngModule;if(o=al(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of l)Yl(u,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{Oi(o.imports,c=>{Yl(c,t,n,r)&&(u||=[],u.push(c))})}finally{}void 0!==u&&dC(u,t)}if(!a){const u=Vr(i)||(()=>new i);t({provide:i,useFactory:u,deps:K},i),t({provide:lC,useValue:i,multi:!0},i),t({provide:Ss,useValue:()=>T(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const u=e;Hf(l,c=>{t(c,u)})}}}return i!==e&&void 0!==e.providers}function Hf(e,t){for(let n of e)xd(n)&&(n=n.\u0275providers),Array.isArray(n)?Hf(n,t):t(n)}const EO=ie({provide:String,useValue:ie});function Gf(e){return null!==e&&"object"==typeof e&&EO in e}function $r(e){return"function"==typeof e}const zf=new I("Set Injector scope."),Zl={},IO={};let Wf;function Kl(){return void 0===Wf&&(Wf=new $f),Wf}class Ut{}class Ui extends Ut{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Qf(t,s=>this.processProvider(s)),this.records.set(aC,$i(void 0,this)),i.has("environment")&&this.records.set(Ut,$i(void 0,this));const o=this.records.get(zf);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(lC.multi,K,W.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=or(this),r=ht(void 0);try{return t()}finally{or(n),ht(r)}}get(t,n=Jo,r=W.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Z_))return t[Z_](this);r=cl(r);const o=or(this),s=ht(void 0);try{if(!(r&W.SkipSelf)){let l=this.records.get(t);if(void 0===l){const u=function NO(e){return"function"==typeof e||"object"==typeof e&&e instanceof I}(t)&&sl(t);l=u&&this.injectableDefInScope(u)?$i(qf(t),Zl):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(r&W.Self?Kl():this.parent).get(t,n=r&W.Optional&&n===Jo?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[ul]=a[ul]||[]).unshift(Ve(t)),o)throw a;return function IN(e,t,n,r){const i=e[ul];throw t[q_]&&i.unshift(t[q_]),e.message=function SN(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=Ve(t);if(Array.isArray(t))i=t.map(Ve).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ve(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(CN,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[ul]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{ht(s),or(o)}}resolveInjectorInitializers(){const t=or(this),n=ht(void 0);try{const i=this.get(Ss.multi,K,W.Self);for(const o of i)o()}finally{or(t),ht(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Ve(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(t){let n=$r(t=P(t))?t:P(t&&t.provide);const r=function MO(e){return Gf(e)?$i(void 0,e.useValue):$i(pC(e),Zl)}(t);if($r(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=$i(void 0,Zl,!0),i.factory=()=>Ud(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Zl&&(n.value=IO,n.value=n.factory()),"object"==typeof n.value&&n.value&&function AO(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=P(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function qf(e){const t=sl(e),n=null!==t?t.factory:Vr(e);if(null!==n)return n;if(e instanceof I)throw new C(204,!1);if(e instanceof Function)return function SO(e){const t=e.length;if(t>0)throw function _s(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new C(204,!1);const n=function mN(e){return e&&(e[ll]||e[H_])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new C(204,!1)}function pC(e,t,n){let r;if($r(e)){const i=P(e);return Vr(i)||qf(i)}if(Gf(e))r=()=>P(e.useValue);else if(function hC(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Ud(e.deps||[]));else if(function fC(e){return!(!e||!e.useExisting)}(e))r=()=>T(P(e.useExisting));else{const i=P(e&&(e.useClass||e.provide));if(!function TO(e){return!!e.deps}(e))return Vr(i)||qf(i);r=()=>new i(...Ud(e.deps))}return r}function $i(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Qf(e,t){for(const n of e)Array.isArray(n)?Qf(n,t):n&&xd(n)?Qf(n.\u0275providers,t):t(n)}const Xl=new I("AppId",{providedIn:"root",factory:()=>RO}),RO="ng",gC=new I("Platform Initializer"),Hi=new I("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),mC=new I("CSP nonce",{providedIn:"root",factory:()=>function Bi(){if(void 0!==Ff)return Ff;if(typeof document<"u")return document;throw new C(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let _C=(e,t,n)=>null;function nh(e,t,n=!1){return _C(e,t,n)}class UO{}class CC{}class HO{resolveComponentFactory(t){throw function $O(e){const t=Error(`No component factory found for ${Ve(e)}.`);return t.ngComponent=e,t}(t)}}let iu=(()=>{class e{static#e=this.NULL=new HO}return e})();function GO(){return Wi(Ye(),y())}function Wi(e,t){return new At(mt(e,t))}let At=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=GO}return e})();class wC{}let jn=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function WO(){const e=y(),n=Mt(Ye().index,e);return(gt(n)?n:e)[V]}()}return e})(),qO=(()=>{class e{static#e=this.\u0275prov=M({token:e,providedIn:"root",factory:()=>null})}return e})();class As{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const QO=new As("16.2.12"),oh={};function SC(e,t=null,n=null,r){const i=MC(e,t,n,r);return i.resolveInjectorInitializers(),i}function MC(e,t=null,n=null,r,i=new Set){const o=[n||K,wO(e)];return r=r||("object"==typeof e?void 0:Ve(e)),new Ui(o,t||Kl(),r||null,i)}let Nt=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Jo;static#t=this.NULL=new $f;static create(n,r){if(Array.isArray(n))return SC({name:""},r,n,"");{const i=n.name??"";return SC({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=M({token:e,providedIn:"any",factory:()=>T(aC)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function ah(e){return e.ngOriginalError}class Un{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&ah(t);for(;n&&ah(n);)n=ah(n);return n||null}}function uh(e){return t=>{setTimeout(e,void 0,t)}}const Me=class tP extends Qt{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&"object"==typeof t){const l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=uh(o),i&&(i=uh(i)),s&&(s=uh(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof Et&&t.add(a),a}};function AC(...e){}class ge{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Me(!1),this.onMicrotaskEmpty=new Me(!1),this.onStable=new Me(!1),this.onError=new Me(!1),typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function nP(){const e="function"==typeof he.requestAnimationFrame;let t=he[e?"requestAnimationFrame":"setTimeout"],n=he[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function oP(e){const t=()=>{!function iP(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(he,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,dh(e),e.isCheckStableRunning=!0,ch(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),dh(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function aP(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return NC(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),RC(e)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return NC(e),n.invoke(i,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),RC(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,dh(e),ch(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ge.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(ge.isInAngularZone())throw new C(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,rP,AC,AC);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const rP={};function ch(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function dh(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function NC(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function RC(e){e._nesting--,ch(e)}class sP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Me,this.onMicrotaskEmpty=new Me,this.onStable=new Me,this.onError=new Me}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const xC=new I("",{providedIn:"root",factory:OC});function OC(){const e=b(ge);let t=!0;return function sN(...e){const t=Xo(e),n=function JA(e,t){return"number"==typeof Td(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?bt(r[0]):gi(n)($e(r,t)):cn}(new Pe(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),new Pe(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const s=e.onUnstable.subscribe(()=>{ge.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(j_()))}function $n(e){return e instanceof Function?e():e}let fh=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=M({token:e,providedIn:"root",factory:()=>new e})}return e})();function Ns(e){for(;e;){e[j]|=64;const t=Cs(e);if(qd(e)&&!t)return e;e=t}return null}const VC=new I("",{providedIn:"root",factory:()=>!1});let su=null;function $C(e,t){return e[t]??zC()}function HC(e,t){const n=zC();n.producerNode?.length&&(e[t]=su,n.lView=e,su=GC())}const _P={...hy,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Ns(e.lView)},lView:null};function GC(){return Object.create(_P)}function zC(){return su??=GC(),su}const B={};function Re(e){WC(Z(),y(),st()+e,!1)}function WC(e,t,n,r){if(!r)if(3==(3&t[j])){const o=e.preOrderCheckHooks;null!==o&&El(t,o,n)}else{const o=e.preOrderHooks;null!==o&&bl(t,o,0,n)}Br(n)}function v(e,t=W.Default){const n=y();return null===n?T(e,t):iv(Ye(),n,P(e),t)}function au(e,t,n,r,i,o,s,a,l,u,c){const d=t.blueprint.slice();return d[Se]=i,d[j]=140|r,(null!==u||e&&2048&e[j])&&(d[j]|=2048),Oy(d),d[De]=d[Ci]=e,d[Ae]=n,d[vi]=s||e&&e[vi],d[V]=a||e&&e[V],d[sr]=l||e&&e[sr]||null,d[Ke]=o,d[ss]=function bx(){return Ex++}(),d[Fn]=c,d[uy]=u,d[Ne]=2==t.type?e[Ne]:d,d}function Yi(e,t,n,r,i){let o=e.data[t];if(null===o)o=function hh(e,t,n,r,i){const o=By(),s=tf(),l=e.data[t]=function IP(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return function Ii(){return null!==O.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(e,t,n,r,i),function ER(){return O.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function ds(){const e=O.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return yn(o,!0),o}function Rs(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function QC(e,t,n,r,i){const o=$C(t,as),s=st(),a=2&r;try{Br(-1),a&&t.length>q&&WC(e,t,q,!1),_n(a?2:0,i);const u=a?o:null,c=Yd(u);try{null!==u&&(u.dirty=!1),n(r,i)}finally{Zd(u,c)}}finally{a&&null===t[as]&&HC(t,as),Br(s),_n(a?3:1,i)}}function ph(e,t,n){if(Wd(t)){const r=Vt(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Vt(r)}}}function gh(e,t,n){Vy()&&(function xP(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;Lr(n)&&function BP(e,t,n){const r=mt(t,e),i=YC(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=lu(e,au(e,i,null,s,r,t,null,e[vi].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||Sl(n,t),Xe(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const l=e.data[a],u=jr(t,e,a,n);Xe(u,t),null!==s&&jP(0,a-i,u,l,0,s),Jt(l)&&(Mt(n.index,t)[Ae]=jr(t,e,a,n))}}(e,t,n,mt(n,t)),64==(64&n.flags)&&eD(e,t,n))}function mh(e,t,n=mt){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}function YC(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=_h(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function _h(e,t,n,r,i,o,s,a,l,u,c){const d=q+r,f=d+i,h=function vP(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:B);return n}(d,f),p="function"==typeof u?u():u;return h[E]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:c}}let ZC=e=>null;function KC(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const o=e[i];null===r?XC(n,t,i,o):r.hasOwnProperty(i)&&XC(n,t,r[i],o)}return n}function XC(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function yh(e,t,n,r){if(Vy()){const i=null===r?null:{"":-1},o=function PP(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(ry(t,s.selectors,!1))if(r||(r=[]),Jt(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),vh(e,t,a.length)}else r.unshift(s),vh(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&JC(e,t,n,s,i,a),i&&function kP(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new C(-301,!1);r.push(t[i],o)}}}(n,r,i)}n.mergedAttrs=ns(n.mergedAttrs,n.attrs)}function JC(e,t,n,r,i,o){for(let u=0;u<r.length;u++)gf(Sl(n,t),e,r[u].type);!function LP(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let u=0;u<r.length;u++){const c=r[u];c.providersResolver&&c.providersResolver(c)}let s=!1,a=!1,l=Rs(e,t,r.length,null);for(let u=0;u<r.length;u++){const c=r[u];n.mergedAttrs=ns(n.mergedAttrs,c.hostAttrs),VP(e,n,t,l,c),FP(l,c,i),null!==c.contentQueries&&(n.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(n.flags|=64);const d=c.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function SP(e,t,n){const i=t.directiveEnd,o=e.data,s=t.attrs,a=[];let l=null,u=null;for(let c=t.directiveStart;c<i;c++){const d=o[c],f=n?n.get(d):null,p=f?f.outputs:null;l=KC(d.inputs,c,l,f?f.inputs:null),u=KC(d.outputs,c,u,p);const g=null===l||null===s||ny(t)?null:UP(l,c,s);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=u}(e,n,o)}function eD(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function IR(){return O.lFrame.currentDirectiveIndex}();try{Br(o);for(let a=r;a<i;a++){const l=e.data[a],u=t[a];rf(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&OP(l,u)}}finally{Br(-1),rf(s)}}function OP(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function vh(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function FP(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Jt(t)&&(n[""]=e)}}function VP(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=Vr(i.type)),s=new fs(o,Jt(i),v);e.blueprint[r]=s,n[r]=s,function NP(e,t,n,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function RP(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(e,t,r,Rs(e,n,i.hostVars,B),i)}function Cn(e,t,n,r,i,o){const s=mt(e,t);!function Ch(e,t,n,r,i,o,s){if(null==o)e.removeAttribute(t,i,n);else{const a=null==s?L(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}(t[V],s,o,e.value,n,r,i)}function jP(e,t,n,r,i,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)tD(r,n,s[a++],s[a++],s[a++])}function tD(e,t,n,r,i){const o=Vt(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(t,i)),null!==e.setInput?e.setInput(t,i,n,r):t[r]=i}finally{Vt(o)}}function UP(e,t,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function nD(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function rD(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=e.data[o];af(n[r]),s.contentQueries(2,t[o],o)}}}function lu(e,t){return e[is]?e[ly][Xt]=t:e[is]=t,e[ly]=t,t}function Dh(e,t,n){af(0);const r=Vt(null);try{t(e,n)}finally{Vt(r)}}function aD(e,t){const n=e[sr],r=n?n.get(Un,null):null;r&&r.handleError(t)}function wh(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];tD(e.data[s],t[s],r,a,i)}}function $P(e,t){const n=Mt(t,e),r=n[E];!function HP(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[Se];null!==i&&null===n[Fn]&&(n[Fn]=nh(i,n[sr])),Eh(r,n,n[Ae])}function Eh(e,t,n){lf(t);try{const r=e.viewQuery;null!==r&&Dh(1,r,n);const i=e.template;null!==i&&QC(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&rD(e,t),e.staticViewQueries&&Dh(2,e.viewQuery,n);const o=e.components;null!==o&&function GP(e,t){for(let n=0;n<t.length;n++)$P(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[j]&=-5,uf()}}let lD=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function tR(e,t,n){const r=Object.create(nR);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>_y(r),run:()=>{if(r.dirty=!1,r.hasRun&&!yy(r))return;r.hasRun=!0;const s=Yd(r);try{r.cleanupFn(),r.cleanupFn=Sy,r.fn(i)}finally{Zd(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(n,u=>{this.all.has(u)&&this.queue.set(u,o)},i);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=M({token:e,providedIn:"root",factory:()=>new e})}return e})();function uu(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=Nd(i,a):2==o&&(r=Nd(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function xs(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];null!==o&&r.push(pe(o)),it(o)&&uD(o,r);const s=n.type;if(8&s)xs(e,t,n.child,r);else if(32&s){const a=Mf(n,t);let l;for(;l=a();)r.push(l)}else if(16&s){const a=Hv(t,n);if(Array.isArray(a))r.push(...a);else{const l=Cs(t[Ne]);xs(l[E],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function uD(e,t){for(let n=qe;n<e.length;n++){const r=e[n],i=r[E].firstChild;null!==i&&xs(r[E],r,i,t)}e[mn]!==e[Se]&&t.push(e[mn])}function cu(e,t,n,r=!0){const i=t[vi],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{cD(e,t,e.template,n)}catch(l){throw r&&aD(t,l),l}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function cD(e,t,n,r){const i=t[j];if(256!=(256&i)){t[vi].effectManager?.flush(),lf(t);try{Oy(t),function Uy(e){return O.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&QC(e,t,n,2,r);const s=3==(3&i);if(s){const u=e.preOrderCheckHooks;null!==u&&El(t,u,null)}else{const u=e.preOrderHooks;null!==u&&bl(t,u,0,null),cf(t,0)}if(function qP(e){for(let t=Rv(e);null!==t;t=xv(t)){if(!t[cy])continue;const n=t[wi];for(let r=0;r<n.length;r++){fR(n[r])}}}(t),dD(t,2),null!==e.contentQueries&&rD(e,t),s){const u=e.contentCheckHooks;null!==u&&El(t,u)}else{const u=e.contentHooks;null!==u&&bl(t,u,1),cf(t,1)}!function yP(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=$C(t,ls);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)Br(~o);else{const s=o,a=n[++i],l=n[++i];bR(a,s),r.dirty=!1;const u=Yd(r);try{l(2,t[s])}finally{Zd(r,u)}}}}finally{null===t[ls]&&HC(t,ls),Br(-1)}}(e,t);const a=e.components;null!==a&&hD(t,a,0);const l=e.viewQuery;if(null!==l&&Dh(2,l,r),s){const u=e.viewCheckHooks;null!==u&&El(t,u)}else{const u=e.viewHooks;null!==u&&bl(t,u,2),cf(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[j]&=-73,Py(t)}finally{uf()}}}function dD(e,t){for(let n=Rv(e);null!==n;n=xv(n))for(let r=qe;r<n.length;r++)fD(n[r],t)}function QP(e,t,n){fD(Mt(t,e),n)}function fD(e,t){if(!function cR(e){return 128==(128&e[j])}(e))return;const n=e[E],r=e[j];if(80&r&&0===t||1024&r||2===t)cD(n,e,n.template,e[Ae]);else if(e[rs]>0){dD(e,1);const i=n.components;null!==i&&hD(e,i,1)}}function hD(e,t,n){for(let r=0;r<t.length;r++)QP(e,t[r],n)}class Os{get rootNodes(){const t=this._lView,n=t[E];return xs(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ae]}set context(t){this._lView[Ae]=t}get destroyed(){return 256==(256&this._lView[j])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[De];if(it(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&($l(t,r),Nl(n,r))}this._attachedToViewContainer=!1}Af(this._lView[E],this._lView)}onDestroy(t){!function Fy(e,t){if(256==(256&e[j]))throw new C(911,!1);null===e[ar]&&(e[ar]=[]),e[ar].push(t)}(this._lView,t)}markForCheck(){Ns(this._cdRefInjectingView||this._lView)}detach(){this._lView[j]&=-129}reattach(){this._lView[j]|=128}detectChanges(){cu(this._lView[E],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Vx(e,t){ws(e,t,t[V],2,null,null)}(this._lView[E],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=t}}class YP extends Os{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;cu(t[E],t,t[Ae],!1)}checkNoChanges(){}get context(){return null}}class pD extends iu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Y(t);return new Ps(n,this.ngModule)}}function gD(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class KP{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=cl(r);const i=this.injector.get(t,oh,r);return i!==oh||n===oh?i:this.parentInjector.get(t,n,r)}}class Ps extends CC{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=gD(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return gD(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function FN(e){return e.map(kN).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=(i=i||this.ngModule)instanceof Ut?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new KP(t,o):t,a=s.get(wC,null);if(null===a)throw new C(407,!1);const d={rendererFactory:a,sanitizer:s.get(qO,null),effectManager:s.get(lD,null),afterRenderEventManager:s.get(fh,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function CP(e,t,n,r){const o=r.get(VC,!1)||n===Zt.ShadowDom,s=e.selectRootElement(t,o);return function DP(e){ZC(e)}(s),s}(f,r,this.componentDef.encapsulation,s):Ul(f,h,function ZP(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(h)),D=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let m=null;null!==p&&(m=nh(p,s,!0));const S=_h(0,null,null,1,0,null,null,null,null,null,null),R=au(null,S,null,D,null,null,d,f,s,null,m);let Q,wt;lf(R);try{const nr=this.componentDef;let Qo,h_=null;nr.findHostDirectiveDefs?(Qo=[],h_=new Map,nr.findHostDirectiveDefs(nr,Qo,h_),Qo.push(nr)):Qo=[nr];const RW=function JP(e,t){const n=e[E],r=q;return e[r]=t,Yi(n,r,2,"#host",null)}(R,p),xW=function e1(e,t,n,r,i,o,s){const a=i[E];!function t1(e,t,n,r){for(const i of e)t.mergedAttrs=ns(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(uu(t,t.mergedAttrs,!0),null!==n&&qv(r,n,t))}(r,e,t,s);let l=null;null!==t&&(l=nh(t,i[sr]));const u=o.rendererFactory.createRenderer(t,n);let c=16;n.signals?c=4096:n.onPush&&(c=64);const d=au(i,YC(n),null,c,i[e.index],e,o,u,null,null,l);return a.firstCreatePass&&vh(a,e,r.length-1),lu(i,d),i[e.index]=d}(RW,p,nr,Qo,R,d,f);wt=xy(S,q),p&&function r1(e,t,n,r){if(r)Gd(e,n,["ng-version",QO.full]);else{const{attrs:i,classes:o}=function LN(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Kt(i))break;i=o}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&Gd(e,n,i),o&&o.length>0&&Wv(e,n,o.join(" "))}}(f,nr,p,r),void 0!==n&&function i1(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(wt,this.ngContentSelectors,n),Q=function n1(e,t,n,r,i,o){const s=Ye(),a=i[E],l=mt(s,i);JC(a,i,s,n,null,r);for(let c=0;c<n.length;c++)Xe(jr(i,a,s.directiveStart+c,s),i);eD(a,i,s),l&&Xe(l,i);const u=jr(i,a,s.directiveStart+s.componentOffset,s);if(e[Ae]=i[Ae]=u,null!==o)for(const c of o)c(u,t);return ph(a,s,e),u}(xW,nr,Qo,h_,R,[o1]),Eh(S,R,null)}finally{uf()}return new XP(this.componentType,Q,Wi(wt,R),R,wt)}}class XP extends UO{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new YP(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;wh(o[E],o,i,t,n),this.previousInputValues.set(t,n),Ns(Mt(this._tNode.index,o))}}get injector(){return new at(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function o1(){const e=Ye();wl(y()[E],e)}function oe(e){let t=function mD(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(Jt(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new C(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const s=e;s.inputs=du(e.inputs),s.inputTransforms=du(e.inputTransforms),s.declaredInputs=du(e.declaredInputs),s.outputs=du(e.outputs);const a=i.hostBindings;a&&u1(e,a);const l=i.viewQuery,u=i.contentQueries;if(l&&a1(e,l),u&&l1(e,u),il(e.inputs,i.inputs),il(e.declaredInputs,i.declaredInputs),il(e.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),il(s.inputTransforms,i.inputTransforms)),Jt(i)&&i.data.animation){const c=e.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===oe&&(n=!1)}}t=Object.getPrototypeOf(t)}!function s1(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=ns(i.hostAttrs,n=ns(n,i.hostAttrs))}}(r)}function du(e){return e===fn?{}:e===K?[]:e}function a1(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function l1(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,o)=>{t(r,i,o),n(r,i,o)}:t}function u1(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}function CD(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}e.inputTransforms=n}function Je(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function wn(e,t,n,r){const i=y();return Je(i,Si(),t)&&(Z(),Cn(be(),i,e,t,n,r)),wn}function oo(e,t,n,r,i,o,s,a){const l=y(),u=Z(),c=e+q,d=u.firstCreatePass?function P1(e,t,n,r,i,o,s,a,l){const u=t.consts,c=Yi(t,e,4,s||null,ur(u,a));yh(t,n,c,ur(u,l)),wl(t,c);const d=c.tView=_h(2,c,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u,null);return null!==t.queries&&(t.queries.template(t,c),d.queries=t.queries.embeddedTView(c)),c}(c,u,l,t,n,r,i,o,s):u.data[c];yn(d,!1);const f=OD(u,l,d,e);Dl()&&Gl(u,l,f,d),Xe(f,l),lu(l,l[c]=nD(f,l,f,d)),gl(d)&&gh(u,l,d),null!=s&&mh(l,d,a)}let OD=function PD(e,t,n,r){return cr(!0),t[V].createComment("")};function xe(e,t,n){const r=y();return Je(r,Si(),t)&&function Rt(e,t,n,r,i,o,s,a){const l=mt(t,n);let c,u=t.inputs;!a&&null!=u&&(c=u[r])?(wh(e,n,c,r,i),Lr(t)&&function TP(e,t){const n=Mt(t,e);16&n[j]||(n[j]|=64)}(n,t.index)):3&t.type&&(r=function MP(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,o.setProperty(l,r,i))}(Z(),be(),r,e,t,r[V],n,!1),xe}function Nh(e,t,n,r,i){const s=i?"class":"style";wh(e,n,t.inputs[s],s,r)}function A(e,t,n,r){const i=y(),o=Z(),s=q+e,a=i[V],l=o.firstCreatePass?function B1(e,t,n,r,i,o){const s=t.consts,l=Yi(t,e,2,r,ur(s,i));return yh(t,n,l,ur(s,o)),null!==l.attrs&&uu(l,l.attrs,!1),null!==l.mergedAttrs&&uu(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,i,t,n,r):o.data[s],u=kD(o,i,l,a,t,e);i[s]=u;const c=gl(l);return yn(l,!0),qv(a,u,l),32!=(32&l.flags)&&Dl()&&Gl(o,i,u,l),0===function pR(){return O.lFrame.elementDepthCount}()&&Xe(u,i),function gR(){O.lFrame.elementDepthCount++}(),c&&(gh(o,i,l),ph(o,l,i)),null!==r&&mh(i,l),A}function N(){let e=Ye();tf()?function nf(){O.lFrame.isParent=!1}():(e=e.parent,yn(e,!1));const t=e;(function _R(e){return O.skipHydrationRootTNode===e})(t)&&function DR(){O.skipHydrationRootTNode=null}(),function mR(){O.lFrame.elementDepthCount--}();const n=Z();return n.firstCreatePass&&(wl(n,e),Wd(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function FR(e){return 0!=(8&e.flags)}(t)&&Nh(n,t,y(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function LR(e){return 0!=(16&e.flags)}(t)&&Nh(n,t,y(),t.stylesWithoutHost,!1),N}function xt(e,t,n,r){return A(e,t,n,r),N(),xt}let kD=(e,t,n,r,i,o)=>(cr(!0),Ul(r,i,function Yy(){return O.lFrame.currentNamespace}()));function _u(){return y()}function Bs(e){return!!e&&"function"==typeof e.then}function VD(e){return!!e&&"function"==typeof e.subscribe}function le(e,t,n,r){const i=y(),o=Z(),s=Ye();return function jD(e,t,n,r,i,o,s){const a=gl(r),u=e.firstCreatePass&&function oD(e){return e.cleanup||(e.cleanup=[])}(e),c=t[Ae],d=function iD(e){return e[yi]||(e[yi]=[])}(t);let f=!0;if(3&r.type||s){const g=mt(r,t),_=s?s(g):g,D=d.length,m=s?R=>s(pe(R[r.index])):r.index;let S=null;if(!s&&a&&(S=function z1(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=t[yi],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==S)(S.__ngLastListenerFn__||S).__ngNextListenerFn__=o,S.__ngLastListenerFn__=o,f=!1;else{o=$D(r,t,c,o,!1);const R=n.listen(_,i,o);d.push(o,R),u&&u.push(i,m,D,D+1)}}else o=$D(r,t,c,o,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let _=0;_<g;_+=2){const Q=t[p[_]][p[_+1]].subscribe(o),wt=d.length;d.push(o,Q),u&&u.push(i,r.index,wt,-(wt+1))}}}(o,i,i[V],s,e,t,r),le}function UD(e,t,n,r){try{return _n(6,t,n),!1!==n(r)}catch(i){return aD(e,i),!1}finally{_n(7,t,n)}}function $D(e,t,n,r,i){return function o(s){if(s===Function)return r;Ns(e.componentOffset>-1?Mt(e.index,t):t);let l=UD(t,n,r,s),u=o.__ngNextListenerFn__;for(;u;)l=UD(t,n,u,s)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function so(e=1){return function MR(e){return(O.lFrame.contextLView=function TR(e,t){for(;e>0;)t=t[Ci],e--;return t}(e,O.lFrame.contextLView))[Ae]}(e)}function yu(e,t){return e<<17|t<<2}function hr(e){return e>>17&32767}function Ph(e){return 2|e}function Gr(e){return(131068&e)>>2}function kh(e,t){return-131069&e|t<<2}function Fh(e){return 1|e}function XD(e,t,n,r,i){const o=e[n+1],s=null===t;let a=r?hr(o):Gr(o),l=!1;for(;0!==a&&(!1===l||s);){const c=e[a+1];ek(e[a],t)&&(l=!0,e[a+1]=r?Fh(c):Ph(c)),a=r?hr(c):Gr(c)}l&&(e[n+1]=r?Ph(o):Fh(o))}function ek(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Pi(e,t)>=0}function vu(e,t){return function en(e,t,n,r){const i=y(),o=Z(),s=function Vn(e){const t=O.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);o.firstUpdatePass&&function aw(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[st()],s=function sw(e,t){return t>=e.expandoStartIndex}(e,n);(function dw(e,t){return 0!=(e.flags&(t?8:16))})(o,r)&&null===t&&!s&&(t=!1),t=function uk(e,t,n,r){const i=function sf(e){const t=O.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=js(n=Lh(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=Lh(i,e,t,n,r),null===o){let l=function ck(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Gr(r))return e[hr(r)]}(e,t,r);void 0!==l&&Array.isArray(l)&&(l=Lh(null,e,t,l[1],r),l=js(l,t.attrs,r),function dk(e,t,n,r){e[hr(n?t.classBindings:t.styleBindings)]=r}(e,t,r,l))}else o=function fk(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=js(r,e[o].hostAttrs,n);return js(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function X1(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=hr(s),l=Gr(s);e[r]=n;let c,u=!1;if(Array.isArray(n)?(c=n[1],(null===c||Pi(n,c)>0)&&(u=!0)):c=n,i)if(0!==l){const f=hr(e[a+1]);e[r+1]=yu(f,a),0!==f&&(e[f+1]=kh(e[f+1],r)),e[a+1]=function Z1(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=yu(a,0),0!==a&&(e[a+1]=kh(e[a+1],r)),a=r;else e[r+1]=yu(l,0),0===a?a=r:e[l+1]=kh(e[l+1],r),l=r;u&&(e[r+1]=Ph(e[r+1])),XD(e,c,r,!0),XD(e,c,r,!1),function J1(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&Pi(o,t)>=0&&(n[r+1]=Fh(n[r+1]))}(t,c,e,r,o),s=yu(a,l),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}(o,e,s,r),t!==B&&Je(i,s,t)&&function uw(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const l=e.data,u=l[a+1],c=function K1(e){return 1==(1&e)}(u)?cw(l,t,n,i,Gr(u),s):void 0;Cu(c)||(Cu(o)||function Y1(e){return 2==(2&e)}(u)&&(o=cw(l,null,n,i,a,s)),function Qx(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:dr.DashCase;null==i?e.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=dr.Important),e.setStyle(n,r,i,o))}}(r,s,yl(st(),n),i,o))}(o,o.data[st()],i,i[V],e,i[s+1]=function mk(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Ve(fr(e)))),e}(t,n),r,s)}(e,t,null,!0),vu}function Lh(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=js(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function js(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Tt(e,s,!!n||t[++o]))}return void 0===e?null:e}function cw(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const l=e[i],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let f=n[i+1];f===B&&(f=d?K:void 0);let h=d?yf(f,r):c===r?f:void 0;if(u&&!Cu(h)&&(h=yf(l,r)),Cu(h)&&(a=h,s))return a;const p=e[i+1];i=s?hr(p):Gr(p)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=yf(l,r))}return a}function Cu(e){return void 0!==e}function X(e,t=""){const n=y(),r=Z(),i=e+q,o=r.firstCreatePass?Yi(r,i,1,t,null):r.data[i],s=fw(r,n,o,t,e);n[i]=s,Dl()&&Gl(r,n,s,o),yn(o,!1)}let fw=(e,t,n,r,i)=>(cr(!0),function jl(e,t){return e.createText(t)}(t[V],r));function lo(e,t,n){const r=y(),i=function Ki(e,t,n,r){return Je(e,Si(),n)?t+L(n)+r:B}(r,e,t,n);return i!==B&&function Hn(e,t,n){const r=yl(t,e);!function Pv(e,t,n){e.setValue(t,n)}(e[V],r,n)}(r,st(),i),lo}const co="en-US";let kw=co;function jh(e,t,n,r,i){if(e=P(e),Array.isArray(e))for(let o=0;o<e.length;o++)jh(e[o],t,n,r,i);else{const o=Z(),s=y(),a=Ye();let l=$r(e)?e:P(e.provide);const u=pC(e),c=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if($r(e)||!e.multi){const h=new fs(u,i,v),p=$h(l,t,i?c:c+f,d);-1===p?(gf(Sl(a,s),o,l),Uh(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{const h=$h(l,t,c+f,d),p=$h(l,t,c,c+f),_=p>=0&&n[p];if(i&&!_||!i&&!(h>=0&&n[h])){gf(Sl(a,s),o,l);const D=function LF(e,t,n,r,i){const o=new fs(e,n,v);return o.multi=[],o.index=t,o.componentProviders=0,sE(o,i,r&&!n),o}(i?FF:kF,n.length,i,r,u);!i&&_&&(n[p].providerFactory=D),Uh(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(D),s.push(D)}else Uh(o,e,h>-1?h:p,sE(n[i?p:h],u,!i&&r));!i&&r&&_&&n[p].componentProviders++}}}function Uh(e,t,n,r){const i=$r(t),o=function bO(e){return!!e.useClass}(t);if(i||o){const l=(o?P(t.useClass):t).prototype.ngOnDestroy;if(l){const u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const c=u.indexOf(n);-1===c?u.push(n,[r,l]):u[c+1].push(r,l)}else u.push(n,l)}}}function sE(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function $h(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function kF(e,t,n,r){return Hh(this.multi,[])}function FF(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=jr(n,n[E],this.providerFactory.index,r);o=a.slice(0,s),Hh(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Hh(i,o);return o}function Hh(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function we(e,t=[]){return n=>{n.providersResolver=(r,i)=>function PF(e,t,n){const r=Z();if(r.firstCreatePass){const i=Jt(e);jh(n,r.data,r.blueprint,i,!0),jh(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class Wr{}class aE{}class Gh extends Wr{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pD(this);const i=St(t);this._bootstrapComponents=$n(i.bootstrap),this._r3Injector=MC(t,n,[{provide:Wr,useValue:this},{provide:iu,useValue:this.componentFactoryResolver},...r],Ve(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class zh extends aE{constructor(t){super(),this.moduleType=t}create(t){return new Gh(this.moduleType,t,[])}}class lE extends Wr{constructor(t){super(),this.componentFactoryResolver=new pD(this),this.instance=null;const n=new Ui([...t.providers,{provide:Wr,useValue:this},{provide:iu,useValue:this.componentFactoryResolver}],t.parent||Kl(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Wh(e,t,n=null){return new lE({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let jF=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=cC(0,n.type),i=r.length>0?Wh([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=M({token:e,providedIn:"environment",factory:()=>new e(T(Ut))})}return e})();function uE(e){e.getStandaloneInjector=t=>t.get(jF).getOrCreateStandaloneInjector(e)}function qr(e,t,n){const r=function ot(){const e=O.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}()+e,i=y();return i[r]===B?function Dn(e,t,n){return e[t]=n}(i,r,n?t.call(n):t()):function ks(e,t){return e[t]}(i,r)}function hL(e,t,n,r=!0){const i=t[E];if(function jx(e,t,n,r){const i=qe+r,o=n.length;r>0&&(n[i-1][Xt]=t),r<o-qe?(t[Xt]=n[i],cv(n,qe+r,t)):(n.push(t),t[Xt]=null),t[De]=n;const s=t[os];null!==s&&n!==s&&function Ux(e,t){const n=e[wi];t[Ne]!==t[De][De][Ne]&&(e[cy]=!0),null===n?e[wi]=[t]:n.push(t)}(s,t);const a=t[gn];null!==a&&a.insertView(e),t[j]|=128}(i,t,e,n),r){const o=Of(n,e),s=t[V],a=Hl(s,e[mn]);null!==a&&function Lx(e,t,n,r,i,o){r[Se]=i,r[Ke]=t,ws(e,r,n,1,i,o)}(i,e[Ke],s,t,a,o)}}Symbol;let Gn=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=mL}return e})();const pL=Gn,gL=class extends pL{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=function fL(e,t,n,r){const i=t.tView,a=au(e,i,n,4096&e[j]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[os]=e[t.index];const u=e[gn];return null!==u&&(a[gn]=u.createEmbeddedView(i)),Eh(i,a,n),a}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new Os(i)}};function mL(){return function Iu(e,t){return 4&e.type?new gL(t,e,Wi(e,t)):null}(Ye(),y())}let nn=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=wL}return e})();function wL(){return function ME(e,t){let n;const r=t[e.index];return it(r)?n=r:(n=nD(r,t,null,e),t[e.index]=n,lu(t,n)),TE(n,t,e,r),new IE(n,e,t)}(Ye(),y())}const EL=nn,IE=class extends EL{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Wi(this._hostTNode,this._hostLView)}get injector(){return new at(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ml(this._hostTNode,this._hostLView);if(ff(t)){const n=ps(t,this._hostLView),r=hs(t);return new at(n[E].data[r+8],n)}return new at(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=SE(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-qe}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=t.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(t,n,r,i,o){const s=t&&!function ms(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const l=s?t:new Ps(Y(t)),u=r||this.parentInjector;if(!o&&null==l.ngModule){const _=(s?u:this.parentInjector).get(Ut,null);_&&(o=_)}Y(l.componentType??{});const h=l.create(u,i,null,o);return this.insertImpl(h.hostView,a,false),h}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const i=t._lView;if(function dR(e){return it(e[De])}(i)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const u=i[De],c=new IE(u,u[Ke],u[De]);c.detach(c.indexOf(t))}}const s=this._adjustIndex(n),a=this._lContainer;return hL(a,i,s,!r),t.attachToViewContainerRef(),cv(Yh(a),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=SE(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=$l(this._lContainer,n);r&&(Nl(Yh(this._lContainer),n),Af(r[E],r))}detach(t){const n=this._adjustIndex(t,-1),r=$l(this._lContainer,n);return r&&null!=Nl(Yh(this._lContainer),n)?new Os(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function SE(e){return e[8]}function Yh(e){return e[8]||(e[8]=[])}let TE=function AE(e,t,n,r){if(e[mn])return;let i;i=8&n.type?pe(r):function bL(e,t){const n=e[V],r=n.createComment(""),i=mt(t,e);return Ur(n,Hl(n,i),r,function zx(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[mn]=i};const sp=new I("Application Initializer");let ap=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=b(sp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(Bs(o))n.push(o);else if(VD(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),eb=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const zn=new I("LocaleId",{providedIn:"root",factory:()=>b(zn,W.Optional|W.SkipSelf)||function tV(){return typeof $localize<"u"&&$localize.locale||co}()});let tb=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ft(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class iV{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let nb=(()=>{class e{compileModuleSync(n){return new zh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=$n(St(n).declarations).reduce((s,a)=>{const l=Y(a);return l&&s.push(new Ps(l)),s},[]);return new iV(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const sb=new I(""),Au=new I("");let fp,cp=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,fp||(function SV(e){fp=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(T(ge),T(dp),T(Au))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),dp=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return fp?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),pr=null;const ab=new I("AllowMultipleToken"),hp=new I("PlatformDestroyListeners"),pp=new I("appBootstrapListener");class ub{constructor(t,n){this.name=t,this.token=n}}function db(e,t,n=[]){const r=`Platform: ${t}`,i=new I(r);return(o=[])=>{let s=gp();if(!s||s.injector.get(ab,!1)){const a=[...n,...o,{provide:i,useValue:!0}];e?e(a):function AV(e){if(pr&&!pr.get(ab,!1))throw new C(400,!1);(function lb(){!function ZN(e){wy=e}(()=>{throw new C(600,!1)})})(),pr=e;const t=e.get(hb);(function cb(e){e.get(gC,null)?.forEach(n=>n())})(e)}(function fb(e=[],t){return Nt.create({name:t,providers:[{provide:zf,useValue:"platform"},{provide:hp,useValue:new Set([()=>pr=null])},...e]})}(a,r))}return function RV(e){const t=gp();if(!t)throw new C(401,!1);return t}()}}function gp(){return pr?.get(hb)??null}let hb=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function xV(e="zone.js",t){return"noop"===e?new sP:"zone.js"===e?new ge(t):e}(r?.ngZone,function pb(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function BF(e,t,n){return new Gh(e,t,n)}(n.moduleType,this.injector,function vb(e){return[{provide:ge,useFactory:e},{provide:Ss,multi:!0,useFactory:()=>{const t=b(PV,{optional:!0});return()=>t.initialize()}},{provide:yb,useFactory:OV},{provide:xC,useFactory:OC}]}(()=>i)),s=o.injector.get(Un,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{Nu(this._modules,o),a.unsubscribe()})}),function gb(e,t,n){try{const r=n();return Bs(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(ap);return a.runInitializers(),a.donePromise.then(()=>(function Fw(e){Lt(e,"Expected localeId to be defined"),"string"==typeof e&&(kw=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(zn,co)||co),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=mb({},r);return function MV(e,t,n){const r=new zh(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(po);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new C(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new C(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(hp,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(T(Nt))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function mb(e,t){return Array.isArray(t)?t.reduce(mb,e):{...e,...t}}let po=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=b(yb),this.zoneIsStable=b(xC),this.componentTypes=[],this.components=[],this.isStable=b(tb).hasPendingTasks.pipe(dn(n=>n?F(!1):this.zoneIsStable),function aN(e,t=rr){return e=e??lN,Le((n,r)=>{let i,o=!0;n.subscribe(ke(r,s=>{const a=t(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}(),j_()),this._injector=b(Ut)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof CC;if(!this._injector.get(ap).done)throw!i&&function _i(e){const t=Y(e)||We(e)||rt(e);return null!==t&&t.standalone}(n),new C(405,!1);let s;s=i?n:this._injector.get(iu).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function TV(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Wr),u=s.create(Nt.NULL,[],r||s.selector,a),c=u.location.nativeElement,d=u.injector.get(sb,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),Nu(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new C(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Nu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(pp,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Nu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new C(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Nu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const yb=new I("",{providedIn:"root",factory:()=>b(Un).handleError.bind(void 0)});function OV(){const e=b(ge),t=b(Un);return n=>e.runOutsideAngular(()=>t.handleError(n))}let PV=(()=>{class e{constructor(){this.zone=b(ge),this.applicationRef=b(po)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let Ru=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=FV}return e})();function FV(e){return function LV(e,t,n){if(Lr(e)&&!n){const r=Mt(e.index,t);return new Os(r,r)}return 47&e.type?new Os(t[Ne],t):null}(Ye(),y(),16==(16&e))}const ZV=db(null,"core",[]);let KV=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||e)(T(po))};static#t=this.\u0275mod=pn({type:e});static#n=this.\u0275inj=Yt({})}return e})();function go(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let Dp=null;function gr(){return Dp}class d2{}const Ht=new I("DocumentToken");let wp=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:function(){return b(h2)},providedIn:"platform"})}return e})();const f2=new I("Location Initialized");let h2=(()=>{class e extends wp{constructor(){super(),this._doc=b(Ht),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gr().getBaseHref(this._doc)}onPopState(n){const r=gr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=gr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function Ep(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function Lb(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Wn(e){return e&&"?"!==e[0]?"?"+e:e}let Yr=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:function(){return b(Bb)},providedIn:"root"})}return e})();const Vb=new I("appBaseHref");let Bb=(()=>{class e extends Yr{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??b(Ht).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ep(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Wn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Wn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Wn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(T(wp),T(Vb,8))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),p2=(()=>{class e extends Yr{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Ep(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Wn(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Wn(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(T(wp),T(Vb,8))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),bp=(()=>{class e{constructor(n){this._subject=new Me,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function _2(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(Lb(jb(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Wn(r))}normalize(n){return e.stripTrailingSlash(function m2(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,jb(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Wn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Wn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Wn;static#t=this.joinWithSlash=Ep;static#n=this.stripTrailingSlash=Lb;static#r=this.\u0275fac=function(r){return new(r||e)(T(Yr))};static#i=this.\u0275prov=M({token:e,factory:function(){return function g2(){return new bp(T(Yr))}()},providedIn:"root"})}return e})();function jb(e){return e.replace(/\/index.html$/,"")}let Wu=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new sB,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Xb("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Xb("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(v(nn),v(Gn))};static#t=this.\u0275dir=k({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class sB{constructor(){this.$implicit=null,this.ngIf=null}}function Xb(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Ve(t)}'.`)}let RB=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=pn({type:e});static#n=this.\u0275inj=Yt({})}return e})();function nI(e){return"server"===e}let kB=(()=>{class e{static#e=this.\u0275prov=M({token:e,providedIn:"root",factory:()=>new FB(T(Ht),window)})}return e})();class FB{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function LB(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class aj extends d2{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Up extends aj{static makeCurrent(){!function c2(e){Dp||(Dp=e)}(new Up)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function lj(){return ea=ea||document.querySelector("base"),ea?ea.getAttribute("href"):null}();return null==n?null:function uj(e){Yu=Yu||document.createElement("a"),Yu.setAttribute("href",e);const t=Yu.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){ea=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function tB(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Yu,ea=null,dj=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})();const $p=new I("EventManagerPlugins");let aI=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new C(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(T($p),T(ge))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})();class lI{constructor(t){this._doc=t}}const Hp="ng-app-id";let uI=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=nI(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Hp}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Hp),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Hp,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(T(Ht),T(Xl),T(mC,8),T(Hi))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})();const Gp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zp=/%COMP%/g,gj=new I("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function dI(e,t){return t.map(n=>n.replace(zp,e))}let fI=(()=>{class e{constructor(n,r,i,o,s,a,l,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=nI(a),this.defaultRenderer=new Wp(n,s,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Zt.ShadowDom&&(r={...r,encapsulation:Zt.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof pI?i.applyToHost(n):i instanceof qp&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Zt.Emulated:o=new pI(l,u,r,this.appId,c,s,a,d);break;case Zt.ShadowDom:return new vj(l,u,n,r,s,a,this.nonce,d);default:o=new qp(l,u,r,c,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(T(aI),T(uI),T(Xl),T(gj),T(Ht),T(Hi),T(ge),T(mC))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})();class Wp{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Gp[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(hI(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(hI(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new C(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=Gp[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=Gp[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(dr.DashCase|dr.Important)?t.style.setProperty(n,r,i&dr.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&dr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=gr().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function hI(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class vj extends Wp{constructor(t,n,r,i,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=dI(i.id,i.styles);for(const c of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=c,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class qp extends Wp{constructor(t,n,r,i,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?dI(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class pI extends qp{constructor(t,n,r,i,o,s,a,l){const u=i+"-"+r.id;super(t,n,r,o,s,a,l,u),this.contentAttr=function mj(e){return"_ngcontent-%COMP%".replace(zp,e)}(u),this.hostAttr=function _j(e){return"_nghost-%COMP%".replace(zp,e)}(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let Cj=(()=>{class e extends lI{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||e)(T(Ht))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})();const gI=["alt","control","meta","shift"],Dj={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wj={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Ej=(()=>{class e extends lI{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gr().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),gI.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=Dj[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),gI.forEach(s=>{s!==i&&(0,wj[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||e)(T(Ht))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})();const Mj=db(ZV,"browser",[{provide:Hi,useValue:"browser"},{provide:gC,useValue:function bj(){Up.makeCurrent()},multi:!0},{provide:Ht,useFactory:function Sj(){return function Jx(e){Ff=e}(document),document},deps:[]}]),Tj=new I(""),yI=[{provide:Au,useClass:class cj{addToWindow(t){he.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new C(5103,!1);return o},he.getAllAngularTestabilities=()=>t.getAllTestabilities(),he.getAllAngularRootElements=()=>t.getAllRootElements(),he.frameworkStabilizers||(he.frameworkStabilizers=[]),he.frameworkStabilizers.push(r=>{const i=he.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?gr().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:sb,useClass:cp,deps:[ge,dp,Au]},{provide:cp,useClass:cp,deps:[ge,dp,Au]}],vI=[{provide:zf,useValue:"root"},{provide:Un,useFactory:function Ij(){return new Un},deps:[]},{provide:$p,useClass:Cj,multi:!0,deps:[Ht,ge,Hi]},{provide:$p,useClass:Ej,multi:!0,deps:[Ht]},fI,uI,aI,{provide:wC,useExisting:fI},{provide:class VB{},useClass:dj,deps:[]},[]];let Aj=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Xl,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(T(Tj,12))};static#t=this.\u0275mod=pn({type:e});static#n=this.\u0275inj=Yt({providers:[...vI,...yI],imports:[RB,KV]})}return e})(),CI=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||e)(T(Ht))};static#t=this.\u0275prov=M({token:e,factory:function(r){let i=null;return i=r?new r:function Rj(){return new CI(T(Ht))}(),i},providedIn:"root"})}return e})();typeof window<"u"&&window;const{isArray:Lj}=Array,{getPrototypeOf:Vj,prototype:Bj,keys:jj}=Object;function bI(e){if(1===e.length){const t=e[0];if(Lj(t))return{args:t,keys:null};if(function Uj(e){return e&&"object"==typeof e&&Vj(e)===Bj}(t)){const n=jj(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:$j}=Array;function II(e){return ue(t=>function Hj(e,t){return $j(t)?e(...t):e(t)}(e,t))}function SI(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Yp(...e){const t=Xo(e),n=F_(e),{args:r,keys:i}=bI(e);if(0===r.length)return $e([],t);const o=new Pe(function Gj(e,t,n=rr){return r=>{MI(t,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)MI(t,()=>{const u=$e(e[l],t);let c=!1;u.subscribe(ke(r,d=>{o[l]=d,c||(c=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>SI(i,s):rr));return n?o.pipe(II(n)):o}function MI(e,t,n){e?On(n,e,t):t()}const Zu=Yo(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Zp(...e){return function zj(){return gi(1)}()($e(e,Xo(e)))}function TI(e){return new Pe(t=>{bt(e()).subscribe(t)})}function ta(e,t){const n=ae(e)?e:()=>e,r=i=>i.error(n());return new Pe(t?i=>t.schedule(r,0,i):r)}function Kp(){return Le((e,t)=>{let n=null;e._refCount++;const r=ke(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class AI extends Pe{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,D_(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Et;const n=this.getSubject();t.add(this.source.subscribe(ke(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Et.EMPTY)}return t}refCount(){return Kp()(this)}}function _o(e){return e<=0?()=>cn:Le((t,n)=>{let r=0;t.subscribe(ke(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function _r(e,t){return Le((n,r)=>{let i=0;n.subscribe(ke(r,o=>e.call(t,o,i++)&&r.next(o)))})}function Ku(e){return Le((t,n)=>{let r=!1;t.subscribe(ke(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function NI(e=qj){return Le((t,n)=>{let r=!1;t.subscribe(ke(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function qj(){return new Zu}function Zr(e,t){const n=arguments.length>=2;return r=>r.pipe(e?_r((i,o)=>e(i,o,r)):rr,_o(1),n?Ku(t):NI(()=>new Zu))}function na(e,t){return ae(t)?ze(e,t,1):ze(e,1)}function et(e,t,n){const r=ae(e)||t||n?{next:e,error:t,complete:n}:e;return r?Le((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(ke(o,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),o.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):rr}function Kr(e){return Le((t,n)=>{let o,r=null,i=!1;r=t.subscribe(ke(n,void 0,void 0,s=>{o=bt(e(s,Kr(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Xp(e){return e<=0?()=>cn:Le((t,n)=>{let r=[];t.subscribe(ke(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Jp(e){return Le((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const $="primary",ra=Symbol("RouteTitle");class Jj{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function yo(e){return new Jj(e)}function eU(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function In(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!RI(e[i],t[i]))return!1;return!0}function RI(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}return e===t}function xI(e){return e.length>0?e[e.length-1]:null}function yr(e){return function Fj(e){return!!e&&(e instanceof Pe||ae(e.lift)&&ae(e.subscribe))}(e)?e:Bs(e)?$e(Promise.resolve(e)):F(e)}const nU={exact:function kI(e,t,n){if(!Xr(e.segments,t.segments)||!Xu(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!kI(e.children[r],t.children[r],n))return!1;return!0},subset:FI},OI={exact:function rU(e,t){return In(e,t)},subset:function iU(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>RI(e[n],t[n]))},ignored:()=>!0};function PI(e,t,n){return nU[n.paths](e.root,t.root,n.matrixParams)&&OI[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function FI(e,t,n){return LI(e,t,t.segments,n)}function LI(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!Xr(i,n)||t.hasChildren()||!Xu(i,n,r))}if(e.segments.length===n.length){if(!Xr(e.segments,n)||!Xu(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!FI(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(Xr(e.segments,i)&&Xu(e.segments,i,r)&&e.children[$])&&LI(e.children[$],t,o,r)}}function Xu(e,t,n){return t.every((r,i)=>OI[n](e[i].parameters,r.parameters))}class vo{constructor(t=new se([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yo(this.queryParams)),this._queryParamMap}toString(){return aU.serialize(this)}}class se{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ju(this)}}class ia{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=yo(this.parameters)),this._parameterMap}toString(){return jI(this)}}function Xr(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let oa=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:function(){return new eg},providedIn:"root"})}return e})();class eg{parse(t){const n=new yU(t);return new vo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${sa(t.root,!0)}`,r=function cU(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${ec(n)}=${ec(i)}`).join("&"):`${ec(n)}=${ec(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function lU(e){return encodeURI(e)}(t.fragment)}`:""}`}}const aU=new eg;function Ju(e){return e.segments.map(t=>jI(t)).join("/")}function sa(e,t){if(!e.hasChildren())return Ju(e);if(t){const n=e.children[$]?sa(e.children[$],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==$&&r.push(`${i}:${sa(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function sU(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===$&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==$&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===$?[sa(e.children[$],!1)]:[`${i}:${sa(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[$]?`${Ju(e)}/${n[0]}`:`${Ju(e)}/(${n.join("//")})`}}function VI(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ec(e){return VI(e).replace(/%3B/gi,";")}function tg(e){return VI(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tc(e){return decodeURIComponent(e)}function BI(e){return tc(e.replace(/\+/g,"%20"))}function jI(e){return`${tg(e.path)}${function uU(e){return Object.keys(e).map(t=>`;${tg(t)}=${tg(e[t])}`).join("")}(e.parameters)}`}const dU=/^[^\/()?;#]+/;function ng(e){const t=e.match(dU);return t?t[0]:""}const fU=/^[^\/()?;=#]+/,pU=/^[^=?&#]+/,mU=/^[^&#]+/;class yU{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new se([],{}):new se([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[$]=new se(t,n)),r}parseSegment(){const t=ng(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(t),new ia(tc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function hU(e){const t=e.match(fU);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=ng(this.remaining);i&&(r=i,this.capture(r))}t[tc(n)]=tc(r)}parseQueryParam(t){const n=function gU(e){const t=e.match(pU);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function _U(e){const t=e.match(mU);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=BI(n),o=BI(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ng(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new C(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=$);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[$]:new se([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new C(4011,!1)}}function UI(e){return e.segments.length>0?new se([],{[$]:e}):e}function $I(e){const t={};for(const r of Object.keys(e.children)){const o=$I(e.children[r]);if(r===$&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function vU(e){if(1===e.numberOfChildren&&e.children[$]){const t=e.children[$];return new se(e.segments.concat(t.segments),t.children)}return e}(new se(e.segments,t))}function Jr(e){return e instanceof vo}function HI(e){let t;const i=UI(function n(o){const s={};for(const l of o.children){const u=n(l);s[l.outlet]=u}const a=new se(o.url,s);return o===e&&(t=a),a}(e.root));return t??i}function GI(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return rg(i,i,i,n,r);const o=function DU(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new WI(!0,0,e);let t=0,n=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new WI(n,t,r)}(t);if(o.toRoot())return rg(i,i,new se([],{}),n,r);const s=function wU(e,t,n){if(e.isAbsolute)return new rc(t,!0,0);if(!n)return new rc(t,!1,NaN);if(null===n.parent)return new rc(n,!0,0);const r=nc(e.commands[0])?0:1;return function EU(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new C(4005,!1);i=r.segments.length}return new rc(r,!1,i-o)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),a=s.processChildren?la(s.segmentGroup,s.index,o.commands):qI(s.segmentGroup,s.index,o.commands);return rg(i,s.segmentGroup,a,n,r)}function nc(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function aa(e){return"object"==typeof e&&null!=e&&e.outlets}function rg(e,t,n,r,i){let s,o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`}),s=e===t?n:zI(e,t,n);const a=UI($I(s));return new vo(a,o,i)}function zI(e,t,n){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===t?n:zI(o,t,n)}),new se(e.segments,r)}class WI{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&nc(r[0]))throw new C(4003,!1);const i=r.find(aa);if(i&&i!==xI(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rc{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function qI(e,t,n){if(e||(e=new se([],{})),0===e.segments.length&&e.hasChildren())return la(e,t,n);const r=function IU(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const s=e.segments[i],a=n[r];if(aa(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!YI(l,u,s))return o;r+=2}else{if(!YI(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new se(e.segments.slice(0,r.pathIndex),{});return o.children[$]=new se(e.segments.slice(r.pathIndex),e.children),la(o,0,i)}return r.match&&0===i.length?new se(e.segments,{}):r.match&&!e.hasChildren()?ig(e,t,n):r.match?la(e,0,i):ig(e,t,n)}function la(e,t,n){if(0===n.length)return new se(e.segments,{});{const r=function bU(e){return aa(e[0])?e[0].outlets:{[$]:e}}(n),i={};if(Object.keys(r).some(o=>o!==$)&&e.children[$]&&1===e.numberOfChildren&&0===e.children[$].segments.length){const o=la(e.children[$],t,n);return new se(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=qI(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new se(e.segments,i)}}function ig(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(aa(o)){const l=SU(o.outlets);return new se(r,l)}if(0===i&&nc(n[0])){r.push(new ia(e.segments[t].path,QI(n[0]))),i++;continue}const s=aa(o)?o.outlets[$]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&nc(a)?(r.push(new ia(s,QI(a))),i+=2):(r.push(new ia(s,{})),i++)}return new se(r,{})}function SU(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=ig(new se([],{}),0,r))}),t}function QI(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function YI(e,t,n){return e==n.path&&In(t,n.parameters)}const ua="imperative";class Sn{constructor(t,n){this.id=t,this.url=n}}class ic extends Sn{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class vr extends Sn{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ca extends Sn{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Co extends Sn{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class oc extends Sn{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ZI extends Sn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MU extends Sn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TU extends Sn{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class AU extends Sn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NU extends Sn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RU{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xU{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class OU{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PU{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kU{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FU{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KI{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class og{}class sg{constructor(t){this.url=t}}class LU{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new da,this.attachRef=null}}let da=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new LU,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class XI{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=ag(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=ag(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=lg(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return lg(t,this._root).map(n=>n.value)}}function ag(e,t){if(e===t.value)return t;for(const n of t.children){const r=ag(e,n);if(r)return r}return null}function lg(e,t){if(e===t.value)return[t];for(const n of t.children){const r=lg(e,n);if(r.length)return r.unshift(t),r}return[]}class Yn{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Do(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class JI extends XI{constructor(t,n){super(t),this.snapshot=n,ug(this,t)}toString(){return this.snapshot.toString()}}function eS(e,t){const n=function VU(e,t){const s=new sc([],{},{},"",{},$,t,null,{});return new nS("",new Yn(s,[]))}(0,t),r=new Ft([new ia("",{})]),i=new Ft({}),o=new Ft({}),s=new Ft({}),a=new Ft(""),l=new wo(r,i,s,a,o,$,t,n.root);return l.snapshot=n.root,new JI(new Yn(l,[]),n)}class wo{constructor(t,n,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ue(u=>u[ra]))??F(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ue(t=>yo(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ue(t=>yo(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tS(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function BU(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class sc{get title(){return this.data?.[ra]}constructor(t,n,r,i,o,s,a,l,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class nS extends XI{constructor(t,n){super(n),this.url=t,ug(this,n)}toString(){return rS(this._root)}}function ug(e,t){t.value._routerState=e,t.children.forEach(n=>ug(e,n))}function rS(e){const t=e.children.length>0?` { ${e.children.map(rS).join(", ")} } `:"";return`${e.value}${t}`}function cg(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,In(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),In(t.params,n.params)||e.paramsSubject.next(n.params),function tU(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!In(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),In(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function dg(e,t){const n=In(e.params,t.params)&&function oU(e,t){return Xr(e,t)&&e.every((n,r)=>In(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||dg(e.parent,t.parent))}let ac=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=$,this.activateEvents=new Me,this.deactivateEvents=new Me,this.attachEvents=new Me,this.detachEvents=new Me,this.parentContexts=b(da),this.location=b(nn),this.changeDetector=b(Ru),this.environmentInjector=b(Ut),this.inputBinder=b(lc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new jU(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=k({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Bt]})}return e})();class jU{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===wo?this.route:t===da?this.childContexts:this.parent.get(t,n)}}const lc=new I("");let iS=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=Yp([r.queryParams,r.params,r.data]).pipe(dn(([o,s,a],l)=>(a={...o,...s,...a},0===l?F(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function u2(e){const t=Y(e);if(!t)return null;const n=new Ps(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})();function fa(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function $U(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return fa(e,r,i);return fa(e,r)})}(e,t,n);return new Yn(r,i)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>fa(e,a)),s}}const r=function HU(e){return new wo(new Ft(e.url),new Ft(e.params),new Ft(e.queryParams),new Ft(e.fragment),new Ft(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(o=>fa(e,o));return new Yn(r,i)}}const fg="ngNavigationCancelingError";function oS(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Jr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=sS(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function sS(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[fg]=!0,r.cancellationCode=t,n&&(r.url=n),r}function aS(e){return e&&e[fg]}let lS=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=hn({type:e,selectors:[["ng-component"]],standalone:!0,features:[uE],decls:1,vars:0,template:function(r,i){1&r&&xt(0,"router-outlet")},dependencies:[ac],encapsulation:2})}return e})();function hg(e){const t=e.children&&e.children.map(hg),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==$&&(n.component=lS),n}function sn(e){return e.outlet||$}function ha(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class KU{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),cg(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=Do(n);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Do(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Do(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=Do(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new FU(o.value.snapshot))}),t.children.length&&this.forwardEvent(new PU(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(cg(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),cg(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=ha(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class uS{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class uc{constructor(t,n){this.component=t,this.route=n}}function XU(e,t,n){const r=e._root;return pa(r,t?t._root:null,n,[r.value])}function Eo(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function gN(e){return null!==sl(e)}(e)?t.get(e):e:r}function pa(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Do(t);return e.children.forEach(s=>{(function e$(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function t$(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Xr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Xr(e.url,t.url)||!In(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dg(e,t)||!In(e.queryParams,t.queryParams);default:return!dg(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new uS(r)):(o.data=s.data,o._resolvedData=s._resolvedData),pa(e,t,o.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new uc(a.outlet.component,s))}else s&&ga(t,a,i),i.canActivateChecks.push(new uS(r)),pa(e,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ga(a,n.getContext(s),i)),i}function ga(e,t,n){const r=Do(e),i=e.value;Object.entries(r).forEach(([o,s])=>{ga(s,i.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new uc(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function ma(e){return"function"==typeof e}function cS(e){return e instanceof Zu||"EmptyError"===e?.name}const cc=Symbol("INITIAL_VALUE");function bo(){return dn(e=>Yp(e.map(t=>t.pipe(_o(1),function Wj(...e){const t=Xo(e);return Le((n,r)=>{(t?Zp(e,n,t):Zp(e,n)).subscribe(r)})}(cc)))).pipe(ue(t=>{for(const n of t)if(!0!==n){if(n===cc)return cc;if(!1===n||n instanceof vo)return n}return!0}),_r(t=>t!==cc),_o(1)))}function dS(e){return function _A(...e){return y_(e)}(et(t=>{if(Jr(t))throw oS(0,t)}),ue(t=>!0===t))}class dc{constructor(t){this.segmentGroup=t||null}}class fS{constructor(t){this.urlTree=t}}function Io(e){return ta(new dc(e))}function hS(e){return ta(new fS(e))}class D${constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new C(4002,!1)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return F(r);if(i.numberOfChildren>1||!i.children[$])return ta(new C(4e3,!1));i=i.children[$]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const o=this.createSegmentGroup(t,n.root,r,i);return new vo(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){const o=this.createSegments(t,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new se(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const pg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function w$(e,t,n,r,i){const o=gg(e,t,n);return o.matched?(r=function zU(e,t){return e.providers&&!e._injector&&(e._injector=Wh(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function y$(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?F(i.map(s=>{const a=Eo(s,e);return yr(function a$(e){return e&&ma(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))})).pipe(bo(),dS()):F(!0)}(r,t,n).pipe(ue(s=>!0===s?o:{...pg}))):F(o)}function gg(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...pg}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||eU)(n,e,t);if(!i)return{...pg};const o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function pS(e,t,n,r){return n.length>0&&function I$(e,t,n){return n.some(r=>fc(e,t,r)&&sn(r)!==$)}(e,n,r)?{segmentGroup:new se(t,b$(r,new se(n,e.children))),slicedSegments:[]}:0===n.length&&function S$(e,t,n){return n.some(r=>fc(e,t,r))}(e,n,r)?{segmentGroup:new se(e.segments,E$(e,0,n,r,e.children)),slicedSegments:n}:{segmentGroup:new se(e.segments,e.children),slicedSegments:n}}function E$(e,t,n,r,i){const o={};for(const s of r)if(fc(e,n,s)&&!i[sn(s)]){const a=new se([],{});o[sn(s)]=a}return{...i,...o}}function b$(e,t){const n={};n[$]=t;for(const r of e)if(""===r.path&&sn(r)!==$){const i=new se([],{});n[sn(r)]=i}return n}function fc(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class N${constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new D$(this.urlSerializer,this.urlTree)}noMatchError(t){return new C(4002,!1)}recognize(){const t=pS(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,$).pipe(Kr(n=>{if(n instanceof fS)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof dc?this.noMatchError(n):n}),ue(n=>{const r=new sc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$,this.rootComponentType,null,{}),i=new Yn(r,n),o=new nS("",i),s=function CU(e,t,n=null,r=null){return GI(HI(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,$).pipe(Kr(r=>{throw r instanceof dc?this.noMatchError(r):r}))}inheritParamsAndData(t){const n=t.value,r=tS(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0)}processChildren(t,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return $e(i).pipe(na(o=>{const s=r.children[o],a=function YU(e,t){const n=e.filter(r=>sn(r)===t);return n.push(...e.filter(r=>sn(r)!==t)),n}(n,o);return this.processSegmentGroup(t,a,s,o)}),function Yj(e,t){return Le(function Qj(e,t,n,r,i){return(o,s)=>{let a=n,l=t,u=0;o.subscribe(ke(s,c=>{const d=u++;l=a?e(l,c,d):(a=!0,c),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(e,t,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Ku(null),function Zj(e,t){const n=arguments.length>=2;return r=>r.pipe(e?_r((i,o)=>e(i,o,r)):rr,Xp(1),n?Ku(t):NI(()=>new Zu))}(),ze(o=>{if(null===o)return Io(r);const s=gS(o);return function R$(e){e.sort((t,n)=>t.value.outlet===$?-1:n.value.outlet===$?1:t.value.outlet.localeCompare(n.value.outlet))}(s),F(s)}))}processSegment(t,n,r,i,o,s){return $e(n).pipe(na(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,i,o,s).pipe(Kr(l=>{if(l instanceof dc)return F(null);throw l}))),Zr(a=>!!a),Kr(a=>{if(cS(a))return function T$(e,t,n){return 0===t.length&&!e.children[n]}(r,i,o)?F([]):Io(r);throw a}))}processSegmentAgainstRoute(t,n,r,i,o,s,a){return function M$(e,t,n,r){return!!(sn(e)===r||r!==$&&fc(t,n,e))&&("**"===e.path||gg(t,e,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s):Io(i):Io(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?hS(o):this.applyRedirects.lineralizeSegments(r,o).pipe(ze(s=>{const a=new se(s,{});return this.processSegment(t,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=gg(n,i,o);if(!a)return Io(n);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?hS(d):this.applyRedirects.lineralizeSegments(i,d).pipe(ze(f=>this.processSegment(t,r,n,f.concat(u),s,!1)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a;if("**"===r.path){const l=i.length>0?xI(i).parameters:{};a=F({snapshot:new sc(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,mS(r),sn(r),r.component??r._loadedComponent??null,r,_S(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=w$(n,r,i,t).pipe(ue(({matched:l,consumedSegments:u,remainingSegments:c,parameters:d})=>l?{snapshot:new sc(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,mS(r),sn(r),r.component??r._loadedComponent??null,r,_S(r)),consumedSegments:u,remainingSegments:c}:null));return a.pipe(dn(l=>null===l?Io(n):this.getChildConfig(t=r._injector??t,r,i).pipe(dn(({routes:u})=>{const c=r._loadedInjector??t,{snapshot:d,consumedSegments:f,remainingSegments:h}=l,{segmentGroup:p,slicedSegments:g}=pS(n,f,h,u);if(0===g.length&&p.hasChildren())return this.processChildren(c,u,p).pipe(ue(D=>null===D?null:[new Yn(d,D)]));if(0===u.length&&0===g.length)return F([new Yn(d,[])]);const _=sn(r)===o;return this.processSegment(c,u,p,g,_?$:o,!0).pipe(ue(D=>[new Yn(d,D)]))}))))}getChildConfig(t,n,r){return n.children?F({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?F({routes:n._loadedRoutes,injector:n._loadedInjector}):function _$(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?F(!0):F(i.map(s=>{const a=Eo(s,e);return yr(function r$(e){return e&&ma(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))})).pipe(bo(),dS())}(t,n,r).pipe(ze(i=>i?this.configLoader.loadChildren(t,n).pipe(et(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function C$(e){return ta(sS(!1,3))}())):F({routes:[],injector:t})}}function x$(e){const t=e.value.routeConfig;return t&&""===t.path}function gS(e){const t=[],n=new Set;for(const r of e){if(!x$(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=gS(r.children);t.push(new Yn(r.value,i))}return t.filter(r=>!n.has(r))}function mS(e){return e.data||{}}function _S(e){return e.resolve||{}}function yS(e){return"string"==typeof e.title||null===e.title}function mg(e){return dn(t=>{const n=e(t);return n?$e(n).pipe(ue(()=>t)):F(t)})}const So=new I("ROUTES");let _g=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=b(nb)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return F(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=yr(n.loadComponent()).pipe(ue(vS),et(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Jp(()=>{this.componentLoaders.delete(n)})),i=new AI(r,()=>new Qt).pipe(Kp());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return F({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function B$(e,t,n,r){return yr(e.loadChildren()).pipe(ue(vS),ze(i=>i instanceof aE||Array.isArray(i)?F(i):$e(t.compileModuleAsync(i))),ue(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(So,[],{optional:!0,self:!0}).flat()),{routes:s.map(hg),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Jp(()=>{this.childrenLoaders.delete(r)})),s=new AI(o,()=>new Qt).pipe(Kp());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function vS(e){return function j$(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let hc=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Qt,this.transitionAbortSubject=new Qt,this.configLoader=b(_g),this.environmentInjector=b(Ut),this.urlSerializer=b(oa),this.rootContexts=b(da),this.inputBindingEnabled=null!==b(lc,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>F(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new xU(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new RU(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new Ft({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ua,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(_r(o=>0!==o.id),ue(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),dn(o=>{this.currentTransition=o;let s=!1,a=!1;return F(o).pipe(et(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),dn(l=>{const u=l.currentBrowserUrl.toString(),c=!n.navigated||l.extractedUrl.toString()!==u||u!==l.currentUrlTree.toString();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const f="";return this.events.next(new Co(l.id,this.urlSerializer.serialize(l.rawUrl),f,0)),l.resolve(null),cn}if(n.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return F(l).pipe(dn(f=>{const h=this.transitions?.getValue();return this.events.next(new ic(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?cn:Promise.resolve(f)}),function O$(e,t,n,r,i,o){return ze(s=>function A$(e,t,n,r,i,o,s="emptyOnly"){return new N$(e,t,n,r,i,s,o).recognize()}(e,t,n,r,s.extractedUrl,i,o).pipe(ue(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),et(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const h=new ZI(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(c&&n.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:f,extractedUrl:h,source:p,restoredState:g,extras:_}=l,D=new ic(f,this.urlSerializer.serialize(h),p,g);this.events.next(D);const m=eS(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:m,urlAfterRedirects:h,extras:{..._,skipLocationChange:!1,replaceUrl:!1}},F(o)}{const f="";return this.events.next(new Co(l.id,this.urlSerializer.serialize(l.extractedUrl),f,1)),l.resolve(null),cn}}),et(l=>{const u=new MU(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),ue(l=>(this.currentTransition=o={...l,guards:XU(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function u$(e,t){return ze(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?F({...n,guardsResult:!0}):function c$(e,t,n,r){return $e(e).pipe(ze(i=>function m$(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?F(o.map(a=>{const l=ha(t)??i,u=Eo(a,l);return yr(function s$(e){return e&&ma(e.canDeactivate)}(u)?u.canDeactivate(e,t,n,r):l.runInContext(()=>u(e,t,n,r))).pipe(Zr())})).pipe(bo()):F(!0)}(i.component,i.route,n,t,r)),Zr(i=>!0!==i,!0))}(s,r,i,e).pipe(ze(a=>a&&function n$(e){return"boolean"==typeof e}(a)?function d$(e,t,n,r){return $e(t).pipe(na(i=>Zp(function h$(e,t){return null!==e&&t&&t(new OU(e)),F(!0)}(i.route.parent,r),function f$(e,t){return null!==e&&t&&t(new kU(e)),F(!0)}(i.route,r),function g$(e,t,n){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function JU(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>TI(()=>F(s.guards.map(l=>{const u=ha(s.node)??n,c=Eo(l,u);return yr(function o$(e){return e&&ma(e.canActivateChild)}(c)?c.canActivateChild(r,e):u.runInContext(()=>c(r,e))).pipe(Zr())})).pipe(bo())));return F(o).pipe(bo())}(e,i.path,n),function p$(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return F(!0);const i=r.map(o=>TI(()=>{const s=ha(t)??n,a=Eo(o,s);return yr(function i$(e){return e&&ma(e.canActivate)}(a)?a.canActivate(t,e):s.runInContext(()=>a(t,e))).pipe(Zr())}));return F(i).pipe(bo())}(e,i.route,n))),Zr(i=>!0!==i,!0))}(r,o,e,t):F(a)),ue(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),et(l=>{if(o.guardsResult=l.guardsResult,Jr(l.guardsResult))throw oS(0,l.guardsResult);const u=new TU(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),_r(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),mg(l=>{if(l.guards.canActivateChecks.length)return F(l).pipe(et(u=>{const c=new AU(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),dn(u=>{let c=!1;return F(u).pipe(function P$(e,t){return ze(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return F(n);let o=0;return $e(i).pipe(na(s=>function k$(e,t,n,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!yS(i)&&(o[ra]=i.title),function F$(e,t,n,r){const i=function L$(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return F({});const o={};return $e(i).pipe(ze(s=>function V$(e,t,n,r){const i=ha(t)??r,o=Eo(e,i);return yr(o.resolve?o.resolve(t,n):i.runInContext(()=>o(t,n)))}(e[s],t,n,r).pipe(Zr(),et(a=>{o[s]=a}))),Xp(1),function Kj(e){return ue(()=>e)}(o),Kr(s=>cS(s)?cn:ta(s)))}(o,e,t,r).pipe(ue(s=>(e._resolvedData=s,e.data=tS(e,n).resolve,i&&yS(i)&&(e.data[ra]=i.title),null)))}(s.route,r,e,t)),et(()=>o++),Xp(1),ze(s=>o===i.length?F(n):cn))})}(n.paramsInheritanceStrategy,this.environmentInjector),et({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(u,"",2)}}))}),et(u=>{const c=new NU(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}))}),mg(l=>{const u=c=>{const d=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(c.routeConfig).pipe(et(f=>{c.component=f}),ue(()=>{})));for(const f of c.children)d.push(...u(f));return d};return Yp(u(l.targetSnapshot.root)).pipe(Ku(),_o(1))}),mg(()=>this.afterPreactivation()),ue(l=>{const u=function UU(e,t,n){const r=fa(e,t._root,n?n._root:void 0);return new JI(r,t)}(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:u},o}),et(()=>{this.events.next(new og)}),((e,t,n,r)=>ue(i=>(new KU(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),_o(1),et({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new vr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),n.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),function Xj(e){return Le((t,n)=>{bt(e).subscribe(ke(n,()=>n.complete(),yd)),!n.closed&&t.subscribe(n)})}(this.transitionAbortSubject.pipe(et(l=>{throw l}))),Jp(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Kr(l=>{if(a=!0,aS(l))this.events.next(new ca(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function GU(e){return aS(e)&&Jr(e.url)}(l)?this.events.next(new sg(l.url)):o.resolve(!1);else{this.events.next(new oc(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(l))}catch(u){o.reject(u)}}return cn}))}))}cancelNavigationTransition(n,r,i){const o=new ca(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function CS(e){return e!==ua}let DS=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===$);return r}getResolvedTitleForRoute(n){return n.data[ra]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:function(){return b(U$)},providedIn:"root"})}return e})(),U$=(()=>{class e extends DS{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||e)(T(CI))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$$=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:function(){return b(G$)},providedIn:"root"})}return e})();class H${shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let G$=(()=>{class e extends H${static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Ze(e)))(i||e)}}();static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const pc=new I("",{providedIn:"root",factory:()=>({})});let z$=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:function(){return b(W$)},providedIn:"root"})}return e})(),W$=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var _a=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(_a||{});function wS(e,t){e.events.pipe(_r(n=>n instanceof vr||n instanceof ca||n instanceof oc||n instanceof Co),ue(n=>n instanceof vr||n instanceof Co?_a.COMPLETE:n instanceof ca&&(0===n.code||1===n.code)?_a.REDIRECTING:_a.FAILED),_r(n=>n!==_a.REDIRECTING),_o(1)).subscribe(()=>{t()})}function q$(e){throw e}function Q$(e,t,n){return t.parse("/")}const Y$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Z$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ct=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=b(eb),this.isNgZoneEnabled=!1,this._events=new Qt,this.options=b(pc,{optional:!0})||{},this.pendingTasks=b(tb),this.errorHandler=this.options.errorHandler||q$,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Q$,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=b(z$),this.routeReuseStrategy=b($$),this.titleStrategy=b(DS),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=b(So,{optional:!0})?.flat()??[],this.navigationTransitions=b(hc),this.urlSerializer=b(oa),this.location=b(bp),this.componentInputBindingEnabled=!!b(lc,{optional:!0}),this.eventsSubscription=new Et,this.isNgZoneEnabled=b(ge)instanceof ge&&ge.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new vo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=eS(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(ES(r)&&this._events.next(r));if(r instanceof ic)CS(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Co)this.rawUrlTree=i.rawUrl;else if(r instanceof ZI){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof og)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof ca)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof sg){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||CS(i.source)};this.scheduleNavigation(o,ua,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof oc&&this.restoreHistory(i,!0),r instanceof vr&&(this.navigated=!0),ES(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ua,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(hg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s;let d,c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...o};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=o||null}null!==c&&(c=this.removeEmptyProps(c));try{d=HI(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return GI(d,n,c,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Jr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ua,null,r)}navigate(n,r={skipLocationChange:!1}){return function K$(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new C(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...Y$}:!1===r?{...Z$}:r,Jr(n))return PI(this.currentUrlTree,n,i);const o=this.parseUrl(n);return PI(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((d,f)=>{a=d,l=f});const c=this.pendingTasks.add();return wS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ES(e){return!(e instanceof og||e instanceof sg)}let Mo=(()=>{class e{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Qt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof vr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function sC(e,t,n){return function DO(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?oC:iC}(t,n)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||e)(v(Ct),v(wo),function Al(e){return function UR(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(X_(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}}return null}(Ye(),e)}("tabindex"),v(jn),v(At),v(Yr))};static#t=this.\u0275dir=k({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&le("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&wn("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",go],skipLocationChange:["skipLocationChange","skipLocationChange",go],replaceUrl:["replaceUrl","replaceUrl",go],routerLink:"routerLink"},standalone:!0,features:[CD,Bt]})}return e})();class bS{}let eH=(()=>{class e{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(_r(n=>n instanceof vr),na(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Wh(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return $e(i).pipe(gi())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):F(null);const o=i.pipe(ze(s=>null===s?F(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?$e([o,this.loader.loadComponent(r)]).pipe(gi()):o})}static#e=this.\u0275fac=function(r){return new(r||e)(T(Ct),T(nb),T(Ut),T(bS),T(_g))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const yg=new I("");let IS=(()=>{class e{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ic?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof vr?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Co&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof KI&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new KI(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function qC(){throw new Error("invalid")}()};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})();function Zn(e,t){return{\u0275kind:e,\u0275providers:t}}function MS(){const e=b(Nt);return t=>{const n=e.get(po);if(t!==n.components[0])return;const r=e.get(Ct),i=e.get(TS);1===e.get(vg)&&r.initialNavigation(),e.get(AS,null,W.Optional)?.setUpPreloading(),e.get(yg,null,W.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const TS=new I("",{factory:()=>new Qt}),vg=new I("",{providedIn:"root",factory:()=>1}),AS=new I("");function iH(e){return Zn(0,[{provide:AS,useExisting:eH},{provide:bS,useExisting:e}])}const NS=new I("ROUTER_FORROOT_GUARD"),sH=[bp,{provide:oa,useClass:eg},Ct,da,{provide:wo,useFactory:function SS(e){return e.routerState.root},deps:[Ct]},_g,[]];function aH(){return new ub("Router",Ct)}let RS=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[sH,[],{provide:So,multi:!0,useValue:n},{provide:NS,useFactory:dH,deps:[[Ct,new xl,new Ol]]},{provide:pc,useValue:r||{}},r?.useHash?{provide:Yr,useClass:p2}:{provide:Yr,useClass:Bb},{provide:yg,useFactory:()=>{const e=b(kB),t=b(ge),n=b(pc),r=b(hc),i=b(oa);return n.scrollOffset&&e.setOffset(n.scrollOffset),new IS(i,r,e,t,n)}},r?.preloadingStrategy?iH(r.preloadingStrategy).\u0275providers:[],{provide:ub,multi:!0,useFactory:aH},r?.initialNavigation?fH(r):[],r?.bindToComponentInputs?Zn(8,[iS,{provide:lc,useExisting:iS}]).\u0275providers:[],[{provide:xS,useFactory:MS},{provide:pp,multi:!0,useExisting:xS}]]}}static forChild(n){return{ngModule:e,providers:[{provide:So,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||e)(T(NS,8))};static#t=this.\u0275mod=pn({type:e});static#n=this.\u0275inj=Yt({})}return e})();function dH(e){return"guarded"}function fH(e){return["disabled"===e.initialNavigation?Zn(3,[{provide:sp,multi:!0,useFactory:()=>{const t=b(Ct);return()=>{t.setUpLocationChangeListener()}}},{provide:vg,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Zn(2,[{provide:vg,useValue:0},{provide:sp,multi:!0,deps:[Nt],useFactory:t=>{const n=t.get(f2,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(Ct),o=t.get(TS);wS(i,()=>{r(!0)}),t.get(hc).afterPreactivation=()=>(r(!0),o.closed?F(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const xS=new I("");let OS=(()=>{class e{constructor(){this.user=void 0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const pH=function(){return["/signin"]};function gH(e,t){1&e&&(A(0,"a",17),X(1," Sign in"),N()),2&e&&xe("routerLink",qr(1,pH))}const mH=function(){return["/register"]};function _H(e,t){1&e&&(A(0,"a",17),X(1,"Register"),N()),2&e&&xe("routerLink",qr(1,mH))}let yH=(()=>{class e{constructor(n){this.sharedVariable=n,console.log("user",this.sharedVariable.user),this.username=this.sharedVariable.user?.username}ngOnInit(){this.username=localStorage.getItem("username")+"",console.log("username::::::::::::::::::",this.username)}static#e=this.\u0275fac=function(r){return new(r||e)(v(OS))};static#t=this.\u0275cmp=hn({type:e,selectors:[["app-navbar"]],decls:20,vars:3,consts:[[1,"container-fluid","navbar-container-div"],[1,"row","align-items-center","row-style"],[1,"col-lg-2","col-sm-5"],[1,"container-fluid","icon-div"],[1,"row","align-self-center"],[1,"navbar-brand","col-4","nav-text","home-img-span"],["src","../../../../assets/DK.png",1,"home-img"],["class","navbar-brand col-4 nav-text",3,"routerLink",4,"ngIf"],[1,"col-lg-7","col-sm-2"],[1,""],[1,"col-lg-3","col-sm-5"],[1,"container-fluid"],[1,"row"],[1,"col-lg-8","col-sm-6"],["type","search","placeholder","chocolate","aria-label","Search",1,"form-control","me-2"],[1,"col-lg-4","col-sm-6"],["type","submit",1,"btn","navbar-btn-style"],[1,"navbar-brand","col-4","nav-text",3,"routerLink"]],template:function(r,i){1&r&&(A(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),xt(6,"img",6),N(),oo(7,gH,2,2,"a",7),oo(8,_H,2,2,"a",7),N()()(),A(9,"div",8)(10,"span",9),X(11),N()(),A(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),xt(16,"input",14),N(),A(17,"div",15)(18,"button",16),X(19,"Search"),N()()()()()()()),2&r&&(Re(7),xe("ngIf",null==i.username||null==i.username||"null"==i.username),Re(1),xe("ngIf",null==i.username||null==i.username||"null"==i.username),Re(3),lo(" ",null!=i.username&&null!=i.username&&"null"!=i.username?i.username:""," "))},dependencies:[Wu,Mo],styles:[".navbar-btn-style[_ngcontent-%COMP%]{background:transparent;color:#fff}.navbar-container-div[_ngcontent-%COMP%]{background:rgb(240,102,217)}.nav-text[_ngcontent-%COMP%]{color:#fff}.row-style[_ngcontent-%COMP%]{min-height:5vh}.home-img[_ngcontent-%COMP%]{height:5vh;position:absolute;top:0}.icon-div[_ngcontent-%COMP%]{height:5vh}"]})}return e})(),vH=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=hn({type:e,selectors:[["app-sidebar"]],decls:2,vars:0,template:function(r,i){1&r&&(A(0,"p"),X(1,"sidebar works!"),N())}})}return e})(),CH=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=hn({type:e,selectors:[["app-container"]],decls:4,vars:0,template:function(r,i){1&r&&(A(0,"p"),X(1,"container works!"),N(),X(2,"\nHello WOrld\nLorem ipsum, dolor sit amet consectetur adipisicing elit. Adipisci praesentium, excepturi quod ipsum perferendis tenetur suscipit animi asperiores atque libero labore odit at corrupti aperiam ad iure eligendi rerum facere?\nLorem ipsum, dolor sit amet consectetur adipisicing elit. Adipisci praesentium, excepturi quod ipsum perferendis tenetur suscipit animi asperiores atque libero labore odit at corrupti aperiam ad iure eligendi rerum facere?\nLorem ipsum, dolor sit amet consectetur adipisicing elit. Adipisci praesentium, excepturi quod ipsum perferendis tenetur suscipit animi asperiores atque libero labore odit at corrupti aperiam ad iure eligendi rerum facere?\nLorem ipsum, dolor sit amet consectetur adipisicing elit. Adipisci praesentium, excepturi quod ipsum perferendis tenetur suscipit animi asperiores atque libero labore odit at corrupti aperiam ad iure eligendi rerum facere? "),xt(3,"router-outlet"))},dependencies:[ac]})}return e})(),DH=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=hn({type:e,selectors:[["app-footer"]],decls:2,vars:0,template:function(r,i){1&r&&(A(0,"p"),X(1,"footer works!"),N())}})}return e})(),wH=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=hn({type:e,selectors:[["app-layout"]],decls:10,vars:0,consts:[[1,"navbar-div"],[1,"sidebar-container-div","container-fluid"],[1,"row"],[1,"sidebar-div","col-12","col-lg-1","col-md-2"],[1,"container-div","col-12","col-lg-11","col-md-10"],[1,"footer-div"]],template:function(r,i){1&r&&(A(0,"div",0),xt(1,"app-navbar"),N(),A(2,"div",1)(3,"div",2)(4,"div",3),xt(5,"app-sidebar"),N(),A(6,"div",4),xt(7,"app-container"),N()()(),A(8,"div",5),xt(9,"app-footer"),N())},dependencies:[yH,vH,CH,DH],styles:[".sidebar-div[_ngcontent-%COMP%]{background:rgb(243 243 243)}.container-div[_ngcontent-%COMP%]{min-height:80vh}.footer-div[_ngcontent-%COMP%]{background:gray;margin:unset;min-height:15vh}"]})}return e})();function PS(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(u){return void n(u)}a.done?t(l):Promise.resolve(l).then(r,i)}function Wt(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(l){PS(o,r,i,s,a,"next",l)}function a(l){PS(o,r,i,s,a,"throw",l)}s(void 0)})}}const w=function(e,t){if(!e)throw To(t)},To=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},kS=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Dg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0;let f=(15&a)<<2|u>>6,h=63&u;l||(h=64,s||(f=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(kS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const l=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(1023&l))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==d)throw new bH;r.push(o<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class bH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FS=function(e){const t=kS(e);return Dg.encodeByteArray(t,!0)},gc=function(e){return FS(e).replace(/\./g,"")},wg=function(e){try{return Dg.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function IH(e){return LS(void 0,e)}function LS(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!SH(n)||(e[n]=LS(e[n],t[n]));return e}function SH(e){return"__proto__"!==e}const mc=()=>{try{return function MH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&wg(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},VS=()=>{var e;return null===(e=mc())||void 0===e?void 0:e.config};class ya{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(n):t(n,r))}}}function BS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(function _c(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}())}class va extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,va.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jS.prototype.create)}}class jS{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?function BH(e,t){return e.replace(jH,(n,r)=>{const i=t[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new va(i,`${this.serviceName}: ${s} (${i}).`,r)}}const jH=/\{\$([^}]+)}/g;function Ca(e){return JSON.parse(e)}function Ue(e){return JSON.stringify(e)}const yc=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=Ca(wg(o[0])||""),n=Ca(wg(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}};function Xn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ao(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function US(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function vc(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Eg(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if($S(o)&&$S(s)){if(!Eg(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $S(e){return null!==e&&"object"==typeof e}class GH{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if("string"==typeof t)for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(f<<1|f>>>31)}let u,c,i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(u=a^o&(s^a),c=1518500249):(u=o^s^a,c=1859775393):d<60?(u=o&s|a&(o|s),c=2400959708):(u=o^s^a,c=3395469782);const f=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=s,s=4294967295&(o<<30|o>>>2),o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(null==t)return;void 0===n&&(n=t.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(0===s)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const t=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}}function No(e,t){return`${e} failed: ${t} argument `}const Cc=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Ro(e){return e&&e._delegate?e._delegate:e}class Da{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ei="[DEFAULT]";class JH{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new ya;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t?.identifier),i=null!==(n=t?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function t3(e){return"EAGER"===e.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:ei})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=ei){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return Wt(function*(){const n=Array.from(t.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=ei){return this.instances.has(t)}getOptions(t=ei){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(e=t,e===ei?void 0:e),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}var e;return r||null}normalizeInstanceIdentifier(t=ei){return this.component?this.component.multipleInstances?t:ei:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class n3{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new JH(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}const Ig=[];var ye=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(ye||{});const HS={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},r3=ye.INFO,i3={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},o3=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=i3[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class GS{constructor(t){this.name=t,this._logLevel=r3,this._logHandler=o3,this._userLogHandler=null,Ig.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ye))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?HS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...t),this._logHandler(this,ye.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...t),this._logHandler(this,ye.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...t),this._logHandler(this,ye.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...t),this._logHandler(this,ye.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...t),this._logHandler(this,ye.ERROR,...t)}}const s3=(e,t)=>t.some(n=>e instanceof n);let zS,WS;const qS=new WeakMap,Sg=new WeakMap,QS=new WeakMap,Mg=new WeakMap,Tg=new WeakMap;let Ag={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Sg.get(e);if("objectStoreNames"===t)return e.objectStoreNames||QS.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function h3(e){return"function"==typeof e?function f3(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function l3(){return WS||(WS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...t){return e.apply(Ng(this),t),Cr(qS.get(this))}:function(...t){return Cr(e.apply(Ng(this),t))}:function(t,...n){const r=e.call(Ng(this),t,...n);return QS.set(r,t.sort?t.sort():[t]),Cr(r)}}(e):(e instanceof IDBTransaction&&function c3(e){if(Sg.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Sg.set(e,t)}(e),s3(e,function a3(){return zS||(zS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,Ag):e)}function Cr(e){if(e instanceof IDBRequest)return function u3(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Cr(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&qS.set(n,e)}).catch(()=>{}),Tg.set(t,e),t}(e);if(Mg.has(e))return Mg.get(e);const t=h3(e);return t!==e&&(Mg.set(e,t),Tg.set(t,e)),t}const Ng=e=>Tg.get(e),g3=["get","getKey","getAll","getAllKeys","count"],m3=["put","add","delete","clear"],Rg=new Map;function YS(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Rg.get(t))return Rg.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=m3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!g3.includes(n))return;const o=function(){var s=Wt(function*(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(yield Promise.all([c[n](...l),i&&u.done]))[0]});return function(l){return s.apply(this,arguments)}}();return Rg.set(t,o),o}!function d3(e){Ag=e(Ag)}(e=>({...e,get:(t,n,r)=>YS(t,n)||e.get(t,n,r),has:(t,n)=>!!YS(t,n)||e.has(t,n)}));class _3{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function y3(e){const t=e.getComponent();return"VERSION"===t?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const xg="@firebase/app",ti=new GS("@firebase/app"),Dc="[DEFAULT]",G3={[xg]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ni=new Map,wc=new Map;function z3(e,t){try{e.container.addComponent(t)}catch(n){ti.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ec(e){const t=e.name;if(wc.has(t))return ti.debug(`There were multiple attempts to register component ${t}.`),!1;wc.set(t,e);for(const n of ni.values())z3(n,e);return!0}const Jn=new jS("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class q3{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Jn.create("app-deleted",{appName:this._name})}}function bc(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:Dc,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw Jn.create("bad-app-name",{appName:String(i)});if(n||(n=VS()),!n)throw Jn.create("no-options");const o=ni.get(i);if(o){if(Eg(n,o.options)&&Eg(r,o.config))return o;throw Jn.create("duplicate-app",{appName:i})}const s=new n3(i);for(const l of wc.values())s.addComponent(l);const a=new q3(n,r,s);return ni.set(i,a),a}function xo(e,t,n){var r;let i=null!==(r=G3[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void ti.warn(a.join(" "))}Ec(new Da(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const Z3="firebase-heartbeat-database",K3=1,wa="firebase-heartbeat-store";let Pg=null;function XS(){return Pg||(Pg=function p3(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Cr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Cr(s.result),l.oldVersion,l.newVersion,Cr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}(Z3,K3,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(wa)}catch(n){console.warn(n)}}}).catch(e=>{throw Jn.create("idb-open",{originalErrorMessage:e.message})})),Pg}function kg(){return(kg=Wt(function*(e){try{const n=(yield XS()).transaction(wa),r=yield n.objectStore(wa).get(eM(e));return yield n.done,r}catch(t){if(t instanceof va)ti.warn(t.message);else{const n=Jn.create("idb-get",{originalErrorMessage:t?.message});ti.warn(n.message)}}})).apply(this,arguments)}function JS(e,t){return Fg.apply(this,arguments)}function Fg(){return(Fg=Wt(function*(e,t){try{const r=(yield XS()).transaction(wa,"readwrite");yield r.objectStore(wa).put(t,eM(e)),yield r.done}catch(n){if(n instanceof va)ti.warn(n.message);else{const r=Jn.create("idb-set",{originalErrorMessage:n?.message});ti.warn(r.message)}}})).apply(this,arguments)}function eM(e){return`${e.name}!${e.options.appId}`}class tG{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rG(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var t=this;return Wt(function*(){var n,r;const o=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=tM();if((null!=(null===(n=t._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||(t._heartbeatsCache=yield t._heartbeatsCachePromise,null!=(null===(r=t._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&t._heartbeatsCache.lastSentHeartbeatDate!==s&&!t._heartbeatsCache.heartbeats.some(a=>a.date===s))return t._heartbeatsCache.heartbeats.push({date:s,agent:o}),t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=2592e6}),t._storage.overwrite(t._heartbeatsCache)})()}getHeartbeatsHeader(){var t=this;return Wt(function*(){var n;if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null==(null===(n=t._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===t._heartbeatsCache.heartbeats.length)return"";const r=tM(),{heartbeatsToSend:i,unsentEntries:o}=function nG(e,t=1024){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),nM(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nM(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(t._heartbeatsCache.heartbeats),s=gc(JSON.stringify({version:2,heartbeats:i}));return t._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(t._heartbeatsCache.heartbeats=o,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),s})()}}function tM(){return(new Date).toISOString().substring(0,10)}class rG{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return Wt(function*(){return!!function FH(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function LH(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){t(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return Wt(function*(){if(yield t._canUseIndexedDBPromise){const r=yield function X3(e){return kg.apply(this,arguments)}(t.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(t){var n=this;return Wt(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return JS(n.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var n=this;return Wt(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return JS(n.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}})()}}function nM(e){return gc(JSON.stringify({version:2,heartbeats:e})).length}!function iG(e){Ec(new Da("platform-logger",t=>new _3(t),"PRIVATE")),Ec(new Da("heartbeat",t=>new tG(t),"PRIVATE")),xo(xg,"0.9.28",e),xo(xg,"0.9.28","esm2017"),xo("fire-js","")}(""),xo("firebase","10.8.1","app");const Lg_firebase={apiKey:"AIzaSyD42PB50okZuTSiJU0KfUtCVVfioIRkT6w",authDomain:"shoppingapp-1c92f.firebaseapp.com",projectId:"shoppingapp-1c92f",storageBucket:"shoppingapp-1c92f.appspot.com",messagingSenderId:"492583769945",appId:"1:492583769945:web:b3e91d36df449743ae1e48"},rM="@firebase/database";let Vg="";class aG{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){null==n?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ue(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return null==n?null:Ca(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class lG{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){null==n?delete this.cache_[t]:this.cache_[t]=n}get(t){return Xn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const sM=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new aG(t)}}catch{}return new lG},ri=sM("localStorage"),Bg=sM("sessionStorage"),Oo=new GS("@firebase/database"),aM=function(){let e=1;return function(){return e++}}(),lM=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,w(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new GH;n.update(t);const r=n.digest();return Dg.encodeByteArray(r)},Ea=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=Ea.apply(null,r):t+="object"==typeof r?Ue(r):r,t+=" "}return t};let ii=null,uM=!0;const He=function(...e){if(!0===uM&&(uM=!1,null===ii&&!0===Bg.get("logging_enabled")&&function(e,t){w(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Oo.logLevel=ye.VERBOSE,ii=Oo.log.bind(Oo),t&&Bg.set("logging_enabled",!0)):"function"==typeof e?ii=e:(ii=null,Bg.remove("logging_enabled"))}(!0)),ii){const t=Ea.apply(null,e);ii(t)}},ba=function(e){return function(...t){He(e,...t)}},jg=function(...e){const t="FIREBASE INTERNAL ERROR: "+Ea(...e);Oo.error(t)},Mn=function(...e){const t=`FIREBASE FATAL ERROR: ${Ea(...e)}`;throw Oo.error(t),new Error(t)},tt=function(...e){const t="FIREBASE WARNING: "+Ea(...e);Oo.warn(t)},Ic=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Dr="[MIN_NAME]",er="[MAX_NAME]",oi=function(e,t){if(e===t)return 0;if(e===Dr||t===er)return-1;if(t===Dr||e===er)return 1;{const n=hM(e),r=hM(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},dG=function(e,t){return e===t?0:e<t?-1:1},Ia=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ue(t))},Ug=function(e){if("object"!=typeof e||null===e)return Ue(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=Ue(t[r]),n+=":",n+=Ug(e[t[r]]);return n+="}",n},dM=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function Ge(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const fM=function(e){w(!Ic(e),"Invalid JSON number");const r=1023;let i,o,s,a,l;0===e?(o=0,s=0,i=1/e==-1/0?1:0):(i=e<0,(e=Math.abs(e))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(e/Math.pow(2,-1074))));const u=[];for(l=52;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=11;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);1===f.length&&(f="0"+f),d+=f}return d.toLowerCase()},gG=new RegExp("^-?(0*)\\d{1,10}$"),hM=function(e){if(gG.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Po=function(e){try{e()}catch(t){setTimeout(()=>{throw tt("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Sa=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class vG{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){tt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class CG{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&"auth/token-not-initialized"===n.code?(He("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',tt(t)}}let Ma=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return e.OWNER="owner",e})();const yM=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,DM="websocket",wM="long_polling";class Hg{constructor(t,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ri.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ri.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function EM(e,t,n){let r;if(w("string"==typeof t,"typeof type must == string"),w("object"==typeof n,"typeof params must == object"),t===DM)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==wM)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function DG(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return Ge(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}class wG{constructor(){this.counters_={}}incrementCounter(t,n=1){Xn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return IH(this.counters_)}}const Gg={},zg={};function Wg(e){const t=e.toString();return Gg[t]||(Gg[t]=new wG),Gg[t]}class bG{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Po(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class wr{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ba(t),this.stats_=Wg(n),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),EM(n,wM,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new bG(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qg((...o)=>{const[s,a,l,u,c]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=l;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&yM.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){wr.forceAllow_=!0}static forceDisallow(){wr.forceDisallow_=!0}static isAvailable(){return!(!wr.forceAllow_&&(wr.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Ue(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=FS(n),i=dM(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Ue(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class qg{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=aM(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=qg.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){He("frame writing exception"),a.stack&&He(a.stack),He(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||He("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const s=this.pendingSegs.shift();r=r+"&seg"+i+"="+s.seg+"&ts"+i+"="+s.ts+"&d"+i+"="+s.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(i),r()})}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{He("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Mc=null;typeof MozWebSocket<"u"?Mc=MozWebSocket:typeof WebSocket<"u"&&(Mc=WebSocket);let ko=(()=>{class e{constructor(n,r,i,o,s,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ba(this.connId),this.stats_=Wg(r),this.connURL=e.connectionURL_(r,a,l,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){const a={v:"5"};return typeof location<"u"&&location.hostname&&yM.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),o&&(a.ac=o),s&&(a.p=s),EM(n,DM,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ri.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new Mc(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==Mc&&!e.forceDisallow_}static previouslyFailed(){return ri.isInMemoryStorage||!0===ri.get("previous_websocket_failure")}markConnectionHealthy(){ri.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=Ca(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(w(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=Ue(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=dM(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e})(),NM=(()=>{class e{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[wr,ko]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=ko&&ko.isAvailable();let i=r&&!ko.previouslyFailed();if(n.webSocketOnly&&(r||tt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ko];else{const o=this.transports_=[];for(const s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return e.globalTransportInitialized_=!1,e})();class LM{constructor(t,n,r,i,o,s,a,l,u,c){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ba("c:"+this.id+":"),this.transportManager_=new NM(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Sa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const n=t.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Ia("t",t),r=Ia("d",t);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Ia("t",t),r=Ia("d",t);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Ia("t",t);if("d"in t){const r=t.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?jg("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):jg("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&tt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Sa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Sa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ri.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class VM{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}class BM{constructor(t){this.allowedEvents_=t,this.listeners_={},w(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(t){w(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}class Tc extends BM{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!BS()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Tc}getInitialEvent(t){return w("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class re{constructor(t,n){if(void 0===n){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(t+="/"+this.pieces_[n]);return t||"/"}}function J(){return new re("")}function H(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Er(e){return e.pieces_.length-e.pieceNum_}function de(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new re(e.pieces_,t)}function Yg(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Ta(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function $M(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new re(t,0)}function Ee(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof re)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new re(n,0)}function G(e){return e.pieceNum_>=e.pieces_.length}function dt(e,t){const n=H(e),r=H(t);if(null===n)return t;if(n===r)return dt(de(e),de(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Zg(e,t){if(Er(e)!==Er(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function qt(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Er(e)>Er(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class qG{constructor(t,n){this.errorPrefix_=n,this.parts_=Ta(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Cc(this.parts_[r]);HM(this)}}function HM(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+si(e))}function si(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Kg extends BM{constructor(){let t,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Kg}getInitialEvent(t){return w("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Aa=1e3;let Nc,ai=(()=>{class e extends VM{constructor(n,r,i,o,s,a,l,u){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=e.nextPersistentConnectionId_++,this.log_=ba("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Aa,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Kg.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&Tc.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(Ue(s)),w(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();const r=new ya,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,o){this.initConnection_();const s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),w(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),w(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const l={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const s={p:i};n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest("q",s,l=>{const u=l.d,c=l.s;e.warnOnListenWarnings_(u,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",l),"ok"!==c&&this.removeListen_(i,o),n.onComplete&&n.onComplete(c,u))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&Xn(n,"w")){const i=Ao(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();tt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(e){const t=yc(e).claims;return"object"==typeof t&&!0===t.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(e){const n=yc(e).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const s=o.s,a=o.d||"error";this.authToken_===n&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),w(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);const s={p:n};o&&(s.q=i,s.t=o),this.sendRequest("n",s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){const s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();const a={p:r,d:i};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ue(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):jg("Unrecognized action received from server: "+Ue(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){w(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Aa,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Aa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Aa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return Wt(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),o=n.onRealtimeDisconnect_.bind(n),s=n.id+":"+e.nextConnectionId_++,a=n.lastSessionId;let l=!1,u=null;const c=function(){u?u.close():(l=!0,o())};n.realtime_={close:c,sendRequest:function(h){w(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(h)}};const f=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[h,p]=yield Promise.all([n.authTokenProvider_.getToken(f),n.appCheckTokenProvider_.getToken(f)]);l?He("getToken() completed but was canceled"):(He("getToken() completed. Creating connection."),n.authToken_=h&&h.accessToken,n.appCheckToken_=p&&p.token,u=new LM(s,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,o,g=>{tt(g+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(h){n.log_("Failed to get token: "+h),l||(n.repoInfo_.nodeAdmin&&tt(h),c())}}})()}interrupt(n){He("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){He("Resuming connection for reason: "+n),delete this.interruptReasons_[n],US(this.interruptReasons_)&&(this.reconnectDelay_=Aa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(s=>Ug(s)).join("$"):"default";const o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){const i=new re(n).toString();let o;if(this.listens.has(i)){const s=this.listens.get(i);o=s.get(r),s.delete(r),0===s.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){He("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){He("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+Vg.replace(/\./g,"-")]=1,BS()?n["framework.cordova"]=1:function kH(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Tc.getInstance().currentlyOnline();return US(this.interruptReasons_)&&n}}return e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e})();class z{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new z(t,n)}}class Ac{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new z(Dr,t),i=new z(Dr,n);return 0!==this.compare(r,i)}minPost(){return z.MIN}}class WM extends Ac{static get __EMPTY_NODE(){return Nc}static set __EMPTY_NODE(t){Nc=t}compare(t,n){return oi(t.name,n.name)}isDefinedOn(t){throw To("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return z.MIN}maxPost(){return new z(er,Nc)}makePost(t,n){return w("string"==typeof t,"KeyIndex indexValue must always be a string."),new z(t,Nc)}toString(){return".key"}}const Tn=new WM;class Rc{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,t=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Jg,an=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??Dt.EMPTY_NODE,this.right=s??Dt.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this;const s=i(n,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(n,r,i),null):0===s?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Dt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return Dt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})();class Dt{constructor(t,n=Dt.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Dt(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,an.BLACK,null,null))}remove(t){return new Dt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,an.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Rc(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Rc(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Rc(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Rc(this.root_,null,this.comparator_,!0,t)}}function tz(e,t){return oi(e.name,t.name)}function Xg(e,t){return oi(e,t)}Dt.EMPTY_NODE=new class ez{copy(t,n,r,i,o){return this}insert(t,n,r){return new an(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const qM=function(e){return"number"==typeof e?"number:"+fM(e):"string:"+e},QM=function(e){if(e.isLeafNode()){const t=e.val();w("string"==typeof t||"number"==typeof t||"object"==typeof t&&Xn(t,".sv"),"Priority must be a string or number.")}else w(e===Jg||e.isEmpty(),"priority of unexpected type.");w(e===Jg||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let YM,ZM,KM,Fo=(()=>{class e{constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,w(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),QM(this.priorityNode_)}static set __childrenNodeConstructor(n){YM=n}static get __childrenNodeConstructor(){return YM}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return G(n)?this:".priority"===H(n)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=H(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(w(".priority"!==i||1===Er(n),".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(de(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+qM(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?fM(this.value_):this.value_,this.lazyHash_=lM(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(w(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return w(o>=0,"Unknown leaf type: "+r),w(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e})();const ve=new class oz extends Ac{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return 0===o?oi(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return z.MIN}maxPost(){return new z(er,new Fo("[PRIORITY-POST]",KM))}makePost(t,n){const r=ZM(t);return new z(n,new Fo("[PRIORITY-POST]",r))}toString(){return".priority"}},sz=Math.log(2);class az{constructor(t){this.count=parseInt(Math.log(t+1)/sz,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const xc=function(e,t,n,r){e.sort(t);const i=function(l,u){const c=u-l;let d,f;if(0===c)return null;if(1===c)return d=e[l],f=n?n(d):d,new an(f,d.node,an.BLACK,null,null);{const h=parseInt(c/2,10)+l,p=i(l,h),g=i(h+1,u);return d=e[h],f=n?n(d):d,new an(f,d.node,an.BLACK,p,g)}},a=function(l){let u=null,c=null,d=e.length;const f=function(p,g){const _=d-p,D=d;d-=p;const m=i(_+1,D),S=e[_],R=n?n(S):S;h(new an(R,S.node,g,null,m))},h=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),_=Math.pow(2,l.count-(p+1));g?f(_,an.BLACK):(f(_,an.BLACK),f(_,an.RED))}return c}(new az(e.length));return new Dt(r||t,a)};let em;const Lo={};class tr{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return w(Lo&&ve,"ChildrenNode.ts has not been loaded"),em=em||new tr({".priority":Lo},{".priority":ve}),em}get(t){const n=Ao(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Dt?n:null}hasIndex(t){return Xn(this.indexSet_,t.toString())}addIndex(t,n){w(t!==Tn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(z.Wrap);let a,s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();a=i?xc(r,t.getCompare()):Lo;const l=t.toString(),u=Object.assign({},this.indexSet_);u[l]=t;const c=Object.assign({},this.indexes_);return c[l]=a,new tr(c,u)}addToIndexes(t,n){const r=vc(this.indexes_,(i,o)=>{const s=Ao(this.indexSet_,o);if(w(s,"Missing index implementation for "+o),i===Lo){if(s.isDefinedOn(t.node)){const a=[],l=n.getIterator(z.Wrap);let u=l.getNext();for(;u;)u.name!==t.name&&a.push(u),u=l.getNext();return a.push(t),xc(a,s.getCompare())}return Lo}{const a=n.get(t.name);let l=i;return a&&(l=l.remove(new z(t.name,a))),l.insert(t,t.node)}});return new tr(r,this.indexSet_)}removeFromIndexes(t,n){const r=vc(this.indexes_,i=>{if(i===Lo)return i;{const o=n.get(t.name);return o?i.remove(new z(t.name,o)):i}});return new tr(r,this.indexSet_)}}let Na,U=(()=>{class e{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&QM(this.priorityNode_),this.children_.isEmpty()&&w(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Na||(Na=new e(new Dt(Xg),null,tr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Na}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?Na:r}}getChild(n){const r=H(n);return null===r?this:this.getImmediateChild(r).getChild(de(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(w(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new z(n,r);let o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));const a=o.isEmpty()?Na:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){const i=H(n);if(null===i)return r;{w(".priority"!==H(n)||1===Er(n),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(de(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,o=0,s=!0;if(this.forEachChild(ve,(a,l)=>{r[a]=l.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+qM(this.getPriority().val())+":"),this.forEachChild(ve,(r,i)=>{const o=i.hash();""!==o&&(n+=":"+r+":"+o)}),this.lazyHash_=""===n?"":lM(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const o=this.resolveIndex_(i);if(o){const s=o.getPredecessorKey(new z(n,r));return s?s.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new z(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new z(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,z.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,z.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Ra?-1:0}withIndex(n){if(n===Tn||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Tn||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(ve),o=r.getIterator(ve);let s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(n){return n===Tn?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})();const Ra=new class lz extends U{constructor(){super(new Dt(Xg),U.EMPTY_NODE,tr.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return U.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(z,{MIN:{value:new z(Dr,U.EMPTY_NODE)},MAX:{value:new z(er,Ra)}}),WM.__EMPTY_NODE=U.EMPTY_NODE,Fo.__childrenNodeConstructor=U,function nz(e){Jg=e}(Ra),function iz(e){KM=e}(Ra);const uz=!0;function Ie(e,t=null){if(null===e)return U.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),w(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Fo(e,Ie(t));if(e instanceof Array||!uz){let n=U.EMPTY_NODE;return Ge(e,(r,i)=>{if(Xn(e,r)&&"."!==r.substring(0,1)){const o=Ie(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Ie(t))}{const n=[];let r=!1;if(Ge(e,(s,a)=>{if("."!==s.substring(0,1)){const l=Ie(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new z(s,l)))}}),0===n.length)return U.EMPTY_NODE;const o=xc(n,tz,s=>s.name,Xg);if(r){const s=xc(n,ve.getCompare());return new U(o,Ie(t),new tr({".priority":s},{".priority":ve}))}return new U(o,Ie(t),tr.Default)}}!function rz(e){ZM=e}(Ie);class tm extends Ac{constructor(t){super(),this.indexPath_=t,w(!G(t)&&".priority"!==H(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return 0===o?oi(t.name,n.name):o}makePost(t,n){const r=Ie(t),i=U.EMPTY_NODE.updateChild(this.indexPath_,r);return new z(n,i)}maxPost(){const t=U.EMPTY_NODE.updateChild(this.indexPath_,Ra);return new z(er,t)}toString(){return Ta(this.indexPath_,0).join("/")}}const nm=new class cz extends Ac{compare(t,n){const r=t.node.compareTo(n.node);return 0===r?oi(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return z.MIN}maxPost(){return z.MAX}makePost(t,n){const r=Ie(t);return new z(n,r)}toString(){return".value"}};function XM(e){return{type:"value",snapshotNode:e}}function Vo(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function xa(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Oa(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class rm{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){w(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=s&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(xa(n,a)):w(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Vo(n,r)):s.trackChildChange(Oa(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return null!=r&&(t.isLeafNode()||t.forEachChild(ve,(i,o)=>{n.hasChild(i)||r.trackChildChange(xa(i,o))}),n.isLeafNode()||n.forEachChild(ve,(i,o)=>{if(t.hasChild(i)){const s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(Oa(i,o,s))}else r.trackChildChange(Vo(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?U.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Pa{constructor(t){this.indexedFilter_=new rm(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Pa.getStartPost_(t),this.endPost_=Pa.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,s){return this.matches(new z(n,r))||(r=U.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=U.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(U.EMPTY_NODE);const o=this;return n.forEachChild(ve,(s,a)=>{o.matches(new z(s,a))||(i=i.updateImmediateChild(s,U.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}return t.getIndex().maxPost()}}class fz{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Pa(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new z(n,r))||(r=U.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=U.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let o;i=U.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),s++}}}else{let o;i=n.withIndex(this.index_),i=i.updatePriority(U.EMPTY_NODE),o=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,U.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){const d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();const a=t;w(a.numChildren()===this.limit_,"");const l=new z(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;null!=f&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const h=null==f?1:s(f,l);if(c&&!r.isEmpty()&&h>=0)return o?.trackChildChange(Oa(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(xa(n,d));const g=a.updateImmediateChild(n,U.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(o?.trackChildChange(Vo(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}}return r.isEmpty()?t:c&&s(u,l)>=0?(null!=o&&(o.trackChildChange(xa(u.name,u.node)),o.trackChildChange(Vo(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,U.EMPTY_NODE)):t}}class im{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ve}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return w(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return w(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Dr}hasEnd(){return this.endSet_}getIndexEndValue(){return w(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return w(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:er}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return w(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ve}copy(){const t=new im;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function JM(e){const t={};if(e.isDefault())return t;let n;if(e.index_===ve?n="$priority":e.index_===nm?n="$value":e.index_===Tn?n="$key":(w(e.index_ instanceof tm,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Ue(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=Ue(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Ue(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Ue(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Ue(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function e0(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==ve&&(t.i=e.index_.toString()),t}class Pc extends VM{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ba("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return void 0!==n?"tag$"+n:(w(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const s=Pc.getListenId_(t,r),a={};this.listens_[s]=a;const l=JM(t._queryParams);this.restRequest_(o+".json",l,(u,c)=>{let d=c;if(404===u&&(d=null,u=null),null===u&&this.onDataUpdate_(o,d,!1,r),Ao(this.listens_,s)===a){let f;f=u?401===u?"permission_denied":"rest_error:"+u:"ok",i(f,null)}})}unlisten(t,n){const r=Pc.getListenId_(t,n);delete this.listens_[r]}get(t){const n=JM(t._queryParams),r=t._path.toString(),i=new ya;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+function HH(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Ca(a.responseText)}catch{tt("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&tt("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}class yz{constructor(){this.rootNode_=U.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}function kc(){return{value:null,children:new Map}}function Bo(e,t,n){if(G(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=H(t);e.children.has(r)||e.children.set(r,kc()),Bo(e.children.get(r),t=de(t),n)}}function lm(e,t,n){null!==e.value?n(t,e.value):function vz(e,t){e.children.forEach((n,r)=>{t(r,n)})}(e,(r,i)=>{lm(i,new re(t.toString()+"/"+r),n)})}class Cz{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Ge(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}class Ez{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Cz(t);const r=1e4+2e4*Math.random();Sa(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;Ge(t,(i,o)=>{o>0&&Xn(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Sa(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var An=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(An||{});function dm(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class Fc{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=An.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(G(this.path)){if(null!=this.affectedTree.value)return w(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new re(t));return new Fc(J(),n,this.revert)}}return w(H(this.path)===t,"operationForChild called for unrelated child."),new Fc(de(this.path),this.affectedTree,this.revert)}}class ka{constructor(t,n){this.source=t,this.path=n,this.type=An.LISTEN_COMPLETE}operationForChild(t){return G(this.path)?new ka(this.source,J()):new ka(this.source,de(this.path))}}class li{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=An.OVERWRITE}operationForChild(t){return G(this.path)?new li(this.source,J(),this.snap.getImmediateChild(t)):new li(this.source,de(this.path),this.snap)}}class jo{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=An.MERGE}operationForChild(t){if(G(this.path)){const n=this.children.subtree(new re(t));return n.isEmpty()?null:n.value?new li(this.source,J(),n.value):new jo(this.source,J(),n)}return w(H(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new jo(this.source,de(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class br{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(G(t))return this.isFullyInitialized()&&!this.filtered_;const n=H(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class bz{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Fa(e,t,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>function Mz(e,t,n){if(null==t.childName||null==n.childName)throw To("Should only compare child_ events.");const r=new z(t.childName,t.snapshotNode),i=new z(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,a,l)),s.forEach(a=>{const l=function Sz(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,a,o);i.forEach(u=>{u.respondsTo(a.type)&&t.push(u.createEvent(l,e.query_))})})}function Lc(e,t){return{eventCache:e,serverCache:t}}function La(e,t,n,r){return Lc(new br(t,n,r),e.serverCache)}function n0(e,t,n,r){return Lc(e.eventCache,new br(t,n,r))}function Vc(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ui(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let fm;class Ce{constructor(t,n=(()=>(fm||(fm=new Dt(dG)),fm))()){this.value=t,this.children=n}static fromObject(t){let n=new Ce(null);return Ge(t,(r,i)=>{n=n.set(new re(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(null!=this.value&&n(this.value))return{path:J(),value:this.value};if(G(t))return null;{const r=H(t),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(de(t),n);return null!=o?{path:Ee(new re(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(G(t))return this;{const n=H(t),r=this.children.get(n);return null!==r?r.subtree(de(t)):new Ce(null)}}set(t,n){if(G(t))return new Ce(n,this.children);{const r=H(t),o=(this.children.get(r)||new Ce(null)).set(de(t),n),s=this.children.insert(r,o);return new Ce(this.value,s)}}remove(t){if(G(t))return this.children.isEmpty()?new Ce(null):new Ce(null,this.children);{const n=H(t),r=this.children.get(n);if(r){const i=r.remove(de(t));let o;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new Ce(null):new Ce(this.value,o)}return this}}get(t){if(G(t))return this.value;{const n=H(t),r=this.children.get(n);return r?r.get(de(t)):null}}setTree(t,n){if(G(t))return n;{const r=H(t),o=(this.children.get(r)||new Ce(null)).setTree(de(t),n);let s;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new Ce(this.value,s)}}fold(t){return this.fold_(J(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Ee(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,J(),n)}findOnPath_(t,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(G(t))return null;{const o=H(t),s=this.children.get(o);return s?s.findOnPath_(de(t),Ee(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,J(),n)}foreachOnPath_(t,n,r){if(G(t))return this;{this.value&&r(n,this.value);const i=H(t),o=this.children.get(i);return o?o.foreachOnPath_(de(t),Ee(n,i),r):new Ce(null)}}foreach(t){this.foreach_(J(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ee(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}class ln{constructor(t){this.writeTree_=t}static empty(){return new ln(new Ce(null))}}function Va(e,t,n){if(G(t))return new ln(new Ce(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=dt(i,t);return o=o.updateChild(s,n),new ln(e.writeTree_.set(i,o))}{const i=new Ce(n),o=e.writeTree_.setTree(t,i);return new ln(o)}}}function hm(e,t,n){let r=e;return Ge(n,(i,o)=>{r=Va(r,Ee(t,i),o)}),r}function r0(e,t){if(G(t))return ln.empty();{const n=e.writeTree_.setTree(t,new Ce(null));return new ln(n)}}function pm(e,t){return null!=ci(e,t)}function ci(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(dt(n.path,t)):null}function o0(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ve,(r,i)=>{t.push(new z(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&t.push(new z(r,i.value))}),t}function Ir(e,t){if(G(t))return e;{const n=ci(e,t);return new ln(null!=n?new Ce(n):e.writeTree_.subtree(t))}}function gm(e){return e.writeTree_.isEmpty()}function Uo(e,t){return s0(J(),e.writeTree_,t)}function s0(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{".priority"===i?(w(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=s0(Ee(e,i),o,n)}),!n.getChild(e).isEmpty()&&null!==r&&(n=n.updateChild(Ee(e,".priority"),r)),n}}function Bc(e,t){return d0(t,e)}function Oz(e,t){if(e.snap)return qt(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&qt(Ee(e.path,n),t))return!0;return!1}function kz(e){return e.visible}function a0(e,t,n){let r=ln.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const s=o.path;let a;if(o.snap)qt(n,s)?(a=dt(n,s),r=Va(r,a,o.snap)):qt(s,n)&&(a=dt(s,n),r=Va(r,J(),o.snap.getChild(a)));else{if(!o.children)throw To("WriteRecord should have .snap or .children");if(qt(n,s))a=dt(n,s),r=hm(r,a,o.children);else if(qt(s,n))if(a=dt(s,n),G(a))r=hm(r,J(),o.children);else{const l=Ao(o.children,H(a));if(l){const u=l.getChild(de(a));r=Va(r,J(),u)}}}}}return r}function l0(e,t,n,r,i){if(r||i){const o=Ir(e.visibleWrites,t);return!i&&gm(o)?n:i||null!=n||pm(o,J())?Uo(a0(e.allWrites,function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(qt(u.path,t)||qt(t,u.path))},t),n||U.EMPTY_NODE):null}{const o=ci(e.visibleWrites,t);if(null!=o)return o;{const s=Ir(e.visibleWrites,t);return gm(s)?n:null!=n||pm(s,J())?Uo(s,n||U.EMPTY_NODE):null}}}function jc(e,t,n,r){return l0(e.writeTree,e.treePath,t,n,r)}function mm(e,t){return function Fz(e,t,n){let r=U.EMPTY_NODE;const i=ci(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ve,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=Ir(e.visibleWrites,t);return n.forEachChild(ve,(s,a)=>{const l=Uo(Ir(o,new re(s)),a);r=r.updateImmediateChild(s,l)}),o0(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}return o0(Ir(e.visibleWrites,t)).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}(e.writeTree,e.treePath,t)}function u0(e,t,n,r){return function Lz(e,t,n,r,i){w(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Ee(t,n);if(pm(e.visibleWrites,o))return null;{const s=Ir(e.visibleWrites,o);return gm(s)?i.getChild(n):Uo(s,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Uc(e,t){return function Bz(e,t){return ci(e.visibleWrites,t)}(e.writeTree,Ee(e.treePath,t))}function _m(e,t,n){return function Vz(e,t,n,r){const i=Ee(t,n),o=ci(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Uo(Ir(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function c0(e,t){return d0(Ee(e.treePath,t),e.writeTree)}function d0(e,t){return{treePath:e,writeTree:t}}class Hz{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;w("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),w(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===n&&"child_removed"===o)this.changeMap.set(r,Oa(r,t.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===o)this.changeMap.set(r,xa(r,i.oldSnap));else if("child_changed"===n&&"child_added"===o)this.changeMap.set(r,Vo(r,t.snapshotNode));else{if("child_changed"!==n||"child_changed"!==o)throw To("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(r,Oa(r,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const f0=new class Gz{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}};class ym{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new br(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _m(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ui(this.viewCache_),o=function $z(e,t,n,r,i,o){return function jz(e,t,n,r,i,o,s){let a;const l=Ir(e.visibleWrites,t),u=ci(l,J());if(null!=u)a=u;else{if(null==n)return[];a=Uo(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const c=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let h=f.getNext();for(;h&&c.length<i;)0!==d(h,r)&&c.push(h),h=f.getNext();return c}}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,i,n,1,r,t);return 0===o.length?null:o[0]}}function h0(e,t,n,r,i,o){const s=t.eventCache;if(null!=Uc(r,n))return t;{let a,l;if(G(n))if(w(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=ui(t),d=mm(r,u instanceof U?u:U.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{const u=jc(r,ui(t));a=e.filter.updateFullNode(t.eventCache.getNode(),u,o)}else{const u=H(n);if(".priority"===u){w(1===Er(n),"Can't have a priority with additional path components");const c=s.getNode();l=t.serverCache.getNode();const d=u0(r,n,c,l);a=null!=d?e.filter.updatePriority(c,d):s.getNode()}else{const c=de(n);let d;if(s.isCompleteForChild(u)){l=t.serverCache.getNode();const f=u0(r,n,s.getNode(),l);d=null!=f?s.getNode().getImmediateChild(u).updateChild(c,f):s.getNode().getImmediateChild(u)}else d=_m(r,u,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),u,d,c,i,o):s.getNode()}}return La(t,a,s.isFullyInitialized()||G(n),e.filter.filtersNodes())}}function $c(e,t,n,r,i,o,s,a){const l=t.serverCache;let u;const c=s?e.filter:e.filter.getIndexedFilter();if(G(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),h,null)}else{const h=H(n);if(!l.isCompleteForPath(n)&&Er(n)>1)return t;const p=de(n),_=l.getNode().getImmediateChild(h).updateChild(p,r);u=".priority"===h?c.updatePriority(l.getNode(),_):c.updateChild(l.getNode(),h,_,p,f0,null)}const d=n0(t,u,l.isFullyInitialized()||G(n),c.filtersNodes());return h0(e,d,n,i,new ym(i,d,o),a)}function vm(e,t,n,r,i,o,s){const a=t.eventCache;let l,u;const c=new ym(i,t,o);if(G(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=La(t,u,!0,e.filter.filtersNodes());else{const d=H(n);if(".priority"===d)u=e.filter.updatePriority(t.eventCache.getNode(),r),l=La(t,u,a.isFullyInitialized(),a.isFiltered());else{const f=de(n),h=a.getNode().getImmediateChild(d);let p;if(G(f))p=r;else{const g=c.getCompleteChild(d);p=null!=g?".priority"===Yg(f)&&g.getChild($M(f)).isEmpty()?g:g.updateChild(f,r):U.EMPTY_NODE}l=h.equals(p)?t:La(t,e.filter.updateChild(a.getNode(),d,p,f,c,s),a.isFullyInitialized(),e.filter.filtersNodes())}}return l}function p0(e,t){return e.eventCache.isCompleteForChild(t)}function g0(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function Cm(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let u,l=t;u=G(n)?r:new Ce(null).setTree(n,r);const c=t.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const p=g0(0,t.serverCache.getNode().getImmediateChild(d),f);l=$c(e,l,new re(d),p,i,o,s,a)}}),u.children.inorderTraversal((d,f)=>{const h=!t.serverCache.isCompleteForChild(d)&&null===f.value;if(!c.hasChild(d)&&!h){const g=g0(0,t.serverCache.getNode().getImmediateChild(d),f);l=$c(e,l,new re(d),g,i,o,s,a)}}),l}class Jz{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new rm(r.getIndex()),o=function hz(e){return e.loadsAllData()?new rm(e.getIndex()):e.hasLimit()?new fz(e):new Pa(e)}(r);this.processor_=function zz(e){return{filter:e}}(o);const s=n.serverCache,a=n.eventCache,l=i.updateFullNode(U.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(U.EMPTY_NODE,a.getNode(),null),c=new br(l,s.isFullyInitialized(),i.filtersNodes()),d=new br(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Lc(d,c),this.eventGenerator_=new bz(this.query_)}get query(){return this.query_}}function n4(e,t){const n=ui(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!G(t)&&!n.getImmediateChild(H(t)).isEmpty())?n.getChild(t):null}function m0(e){return 0===e.eventRegistrations_.length}function _0(e,t,n){const r=[];if(n){w(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){const s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}else i.push(s)}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function y0(e,t,n,r){t.type===An.MERGE&&null!==t.source.queryId&&(w(ui(e.viewCache_),"We should always have a full cache before handling merges"),w(Vc(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=function qz(e,t,n,r,i){const o=new Hz;let s,a;if(n.type===An.OVERWRITE){const u=n;u.source.fromUser?s=vm(e,t,u.path,u.snap,r,i,o):(w(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!G(u.path),s=$c(e,t,u.path,u.snap,r,i,a,o))}else if(n.type===An.MERGE){const u=n;u.source.fromUser?s=function Yz(e,t,n,r,i,o,s){let a=t;return r.foreach((l,u)=>{const c=Ee(n,l);p0(t,H(c))&&(a=vm(e,a,c,u,i,o,s))}),r.foreach((l,u)=>{const c=Ee(n,l);p0(t,H(c))||(a=vm(e,a,c,u,i,o,s))}),a}(e,t,u.path,u.children,r,i,o):(w(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered(),s=Cm(e,t,u.path,u.children,r,i,a,o))}else if(n.type===An.ACK_USER_WRITE){const u=n;s=u.revert?function Xz(e,t,n,r,i,o){let s;if(null!=Uc(r,n))return t;{const a=new ym(r,t,i),l=t.eventCache.getNode();let u;if(G(n)||".priority"===H(n)){let c;if(t.serverCache.isFullyInitialized())c=jc(r,ui(t));else{const d=t.serverCache.getNode();w(d instanceof U,"serverChildren would be complete if leaf node"),c=mm(r,d)}u=e.filter.updateFullNode(l,c,o)}else{const c=H(n);let d=_m(r,c,t.serverCache);null==d&&t.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),u=null!=d?e.filter.updateChild(l,c,d,de(n),a,o):t.eventCache.getNode().hasChild(c)?e.filter.updateChild(l,c,U.EMPTY_NODE,de(n),a,o):l,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=jc(r,ui(t)),s.isLeafNode()&&(u=e.filter.updateFullNode(u,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=Uc(r,J()),La(t,u,s,e.filter.filtersNodes())}}(e,t,u.path,r,i,o):function Zz(e,t,n,r,i,o,s){if(null!=Uc(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(G(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return $c(e,t,n,l.getNode().getChild(n),i,o,a,s);if(G(n)){let u=new Ce(null);return l.getNode().forEachChild(Tn,(c,d)=>{u=u.set(new re(c),d)}),Cm(e,t,n,u,i,o,a,s)}return t}{let u=new Ce(null);return r.foreach((c,d)=>{const f=Ee(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),Cm(e,t,n,u,i,o,a,s)}}(e,t,u.path,u.affectedTree,r,i,o)}else{if(n.type!==An.LISTEN_COMPLETE)throw To("Unknown operation type: "+n.type);s=function Kz(e,t,n,r,i){const o=t.serverCache;return h0(e,n0(t,o.getNode(),o.isFullyInitialized()||G(n),o.isFiltered()),n,r,f0,i)}(e,t,n.path,r,o)}const l=o.getChanges();return function Qz(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Vc(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(XM(Vc(t)))}}(t,s,l),{viewCache:s,changes:l}}(e.processor_,i,t,n,r);return function Wz(e,t){w(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),w(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}(e.processor_,o.viewCache),w(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,v0(e,o.changes,o.viewCache.eventCache.getNode(),null)}function v0(e,t,n,r){return function Iz(e,t,n,r){const i=[],o=[];return t.forEach(s=>{"child_changed"===s.type&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function dz(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}(s.childName,s.snapshotNode))}),Fa(e,i,"child_removed",t,r,n),Fa(e,i,"child_added",t,r,n),Fa(e,i,"child_moved",o,r,n),Fa(e,i,"child_changed",t,r,n),Fa(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,r?[r]:e.eventRegistrations_)}let Hc,zc;class C0{constructor(){this.views=new Map}}function Dm(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return w(null!=o,"SyncTree gave us an op for an invalid query."),y0(o,t,n,r)}{let o=[];for(const s of e.views.values())o=o.concat(y0(s,t,n,r));return o}}function D0(e,t,n,r,i){const s=e.views.get(t._queryIdentifier);if(!s){let a=jc(n,i?r:null),l=!1;a?l=!0:r instanceof U?(a=mm(n,r),l=!1):(a=U.EMPTY_NODE,l=!1);const u=Lc(new br(a,l,!1),new br(r,i,!1));return new Jz(t,u)}return s}function w0(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Sr(e,t){let n=null;for(const r of e.views.values())n=n||n4(r,t);return n}function E0(e,t){return t._queryParams.loadsAllData()?Gc(e):e.views.get(t._queryIdentifier)}function b0(e,t){return null!=E0(e,t)}function Mr(e){return null!=Gc(e)}function Gc(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let f4=1;class I0{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ce(null),this.pendingWriteTree_=function Uz(){return{visibleWrites:ln.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function wm(e,t,n,r,i){return function Az(e,t,n,r,i){w(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Va(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?$o(e,new li({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Tr(e,t,n=!1){const r=function Rz(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function xz(e,t){const n=e.allWrites.findIndex(a=>a.writeId===t);w(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const a=e.allWrites[s];a.visible&&(s>=n&&Oz(a,r.path)?i=!1:qt(r.path,a.path)&&(o=!0)),s--}return!!i&&(o?(function Pz(e){e.visibleWrites=a0(e.allWrites,kz,J()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(r.snap?e.visibleWrites=r0(e.visibleWrites,r.path):Ge(r.children,l=>{e.visibleWrites=r0(e.visibleWrites,Ee(r.path,l))}),!0))}(e.pendingWriteTree_,t)){let o=new Ce(null);return null!=r.snap?o=o.set(J(),!0):Ge(r.children,s=>{o=o.set(new re(s),!0)}),$o(e,new Fc(r.path,o,n))}return[]}function Ba(e,t,n){return $o(e,new li({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Wc(e,t,n,r,i=!1){const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||b0(s,t))){const l=function u4(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=Mr(e);if("default"===i)for(const[l,u]of e.views.entries())s=s.concat(_0(u,n,r)),m0(u)&&(e.views.delete(l),u.query._queryParams.loadsAllData()||o.push(u.query));else{const l=e.views.get(i);l&&(s=s.concat(_0(l,n,r)),m0(l)&&(e.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!Mr(e)&&o.push(new(function s4(){return w(Hc,"Reference.ts has not been loaded"),Hc}())(t._repo,t._path)),{removed:o,events:s}}(s,t,n,r);(function a4(e){return 0===e.views.size})(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));const u=l.removed;if(a=l.events,!i){const c=-1!==u.findIndex(f=>f._queryParams.loadsAllData()),d=e.syncPointTree_.findOnPath(o,(f,h)=>Mr(h));if(c&&!d){const f=e.syncPointTree_.subtree(o);if(!f.isEmpty()){const h=function v4(e){return e.fold((t,n,r)=>{if(n&&Mr(n))return[Gc(n)];{let i=[];return n&&(i=w0(n)),Ge(r,(o,s)=>{i=i.concat(s)}),i}})}(f);for(let p=0;p<h.length;++p){const g=h[p],_=g.query,D=A0(e,g);e.listenProvider_.startListening(Ua(_),ja(e,_),D.hashFn,D.onComplete)}}}!d&&u.length>0&&!r&&(c?e.listenProvider_.stopListening(Ua(t),null):u.forEach(f=>{const h=e.queryToTagMap.get(Qc(f));e.listenProvider_.stopListening(Ua(f),h)}))}!function C4(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=Qc(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function S0(e,t,n,r){const i=bm(e,r);if(null!=i){const o=Im(i),s=o.path,a=o.queryId,l=dt(s,t);return Sm(e,s,new li(dm(a),l,n))}return[]}function Em(e,t,n,r=!1){const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(f,h)=>{const p=dt(f,i);o=o||Sr(h,p),s=s||Mr(h)});let l,a=e.syncPointTree_.get(i);a?(s=s||Mr(a),o=o||Sr(a,J())):(a=new C0,e.syncPointTree_=e.syncPointTree_.set(i,a)),null!=o?l=!0:(l=!1,o=U.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((h,p)=>{const g=Sr(p,J());g&&(o=o.updateImmediateChild(h,g))}));const u=b0(a,t);if(!u&&!t._queryParams.loadsAllData()){const f=Qc(t);w(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=function D4(){return f4++}();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}let d=function l4(e,t,n,r,i,o){const s=D0(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function r4(e,t){e.eventRegistrations_.push(t)}(s,n),function i4(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ve,(o,s)=>{r.push(Vo(o,s))}),n.isFullyInitialized()&&r.push(XM(n.getNode())),v0(e,r,n.getNode(),t)}(s,n)}(a,t,n,Bc(e.pendingWriteTree_,i),o,l);if(!u&&!s&&!r){const f=E0(a,t);d=d.concat(function w4(e,t,n){const r=t._path,i=ja(e,t),o=A0(e,n),s=e.listenProvider_.startListening(Ua(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)w(!Mr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!G(u)&&c&&Mr(c))return[Gc(c).query];{let f=[];return c&&(f=f.concat(w0(c).map(h=>h.query))),Ge(d,(h,p)=>{f=f.concat(p)}),f}});for(let u=0;u<l.length;++u){const c=l[u];e.listenProvider_.stopListening(Ua(c),ja(e,c))}}return s}(e,t,f))}return d}function qc(e,t,n){const i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{const u=Sr(a,dt(s,t));if(u)return u});return l0(i,t,o,n,!0)}function $o(e,t){return M0(t,e.syncPointTree_,null,Bc(e.pendingWriteTree_,J()))}function M0(e,t,n,r){if(G(e.path))return T0(e,t,n,r);{const i=t.get(J());null==n&&null!=i&&(n=Sr(i,J()));let o=[];const s=H(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const u=n?n.getImmediateChild(s):null,c=c0(r,s);o=o.concat(M0(a,l,u,c))}return i&&(o=o.concat(Dm(i,e,r,n))),o}}function T0(e,t,n,r){const i=t.get(J());null==n&&null!=i&&(n=Sr(i,J()));let o=[];return t.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,u=c0(r,s),c=e.operationForChild(s);c&&(o=o.concat(T0(c,a,l,u)))}),i&&(o=o.concat(Dm(i,e,r,n))),o}function A0(e,t){const n=t.query,r=ja(e,n);return{hashFn:()=>(function e4(e){return e.viewCache_.serverCache.getNode()}(t)||U.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function m4(e,t,n){const r=bm(e,n);if(r){const i=Im(r),o=i.path,s=i.queryId,a=dt(o,t);return Sm(e,o,new ka(dm(s),a))}return[]}(e,n._path,r):function g4(e,t){return $o(e,new ka({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const o=function pG(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(i,n);return Wc(e,n,null,o)}}}}function ja(e,t){const n=Qc(t);return e.queryToTagMap.get(n)}function Qc(e){return e._path.toString()+"$"+e._queryIdentifier}function bm(e,t){return e.tagToQueryMap.get(t)}function Im(e){const t=e.indexOf("$");return w(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new re(e.substr(0,t))}}function Sm(e,t,n){const r=e.syncPointTree_.get(t);return w(r,"Missing sync point for query tag that we're tracking"),Dm(r,n,Bc(e.pendingWriteTree_,t),null)}function Ua(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(function d4(){return w(zc,"Reference.ts has not been loaded"),zc}())(e._repo,e._path):e}class Mm{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new Mm(n)}node(){return this.node_}}class Tm{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Ee(this.path_,t);return new Tm(this.syncTree_,n)}node(){return qc(this.syncTree_,this.path_)}}const E4=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},N0=function(e,t,n){return e&&"object"==typeof e?(w(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?b4(e[".sv"],t,n):"object"==typeof e[".sv"]?I4(e[".sv"],t):void w(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},b4=function(e,t,n){if("timestamp"===e)return n.timestamp;w(!1,"Unexpected server value: "+e)},I4=function(e,t,n){e.hasOwnProperty("increment")||w(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&w(!1,"Unexpected increment value: "+r);const i=t.node();if(w(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},R0=function(e,t,n,r){return Nm(t,new Tm(n,e),r)},Am=function(e,t,n){return Nm(e,new Mm(t),n)};function Nm(e,t,n){const r=e.getPriority().val(),i=N0(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const s=e,a=N0(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new Fo(a,Ie(i)):e}{const s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Fo(i))),s.forEachChild(ve,(a,l)=>{const u=Nm(l,t.getImmediateChild(a),n);u!==l&&(o=o.updateImmediateChild(a,u))}),o}}class Rm{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function Yc(e,t){let n=t instanceof re?t:new re(t),r=e,i=H(n);for(;null!==i;){const o=Ao(r.node.children,i)||{children:{},childCount:0};r=new Rm(i,r,o),n=de(n),i=H(n)}return r}function di(e){return e.node.value}function xm(e,t){e.node.value=t,Om(e)}function x0(e){return e.node.childCount>0}function Zc(e,t){Ge(e.node.children,(n,r)=>{t(new Rm(n,e,r))})}function O0(e,t,n,r){n&&!r&&t(e),Zc(e,i=>{O0(i,t,!0,r)}),n&&r&&t(e)}function $a(e){return new re(null===e.parent?e.name:$a(e.parent)+"/"+e.name)}function Om(e){null!==e.parent&&function T4(e,t,n){const r=function S4(e){return void 0===di(e)&&!x0(e)}(n),i=Xn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Om(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,Om(e))}(e.parent,e.name,e)}const A4=/[\[\].#$\/\u0000-\u001F\u007F]/,N4=/[\[\].#$\u0000-\u001F\u007F]/,Pm=10485760,Kc=function(e){return"string"==typeof e&&0!==e.length&&!A4.test(e)},P0=function(e){return"string"==typeof e&&0!==e.length&&!N4.test(e)},Ga=function(e,t,n){const r=n instanceof re?new qG(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+si(r));if("function"==typeof t)throw new Error(e+"contains a function "+si(r)+" with contents = "+t.toString());if(Ic(t))throw new Error(e+"contains "+t.toString()+" "+si(r));if("string"==typeof t&&t.length>Pm/3&&Cc(t)>Pm)throw new Error(e+"contains a string greater than "+Pm+" utf8 bytes "+si(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let i=!1,o=!1;if(Ge(t,(s,a)=>{if(".value"===s)i=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!Kc(s)))throw new Error(e+" contains an invalid key ("+s+") "+si(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function QG(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Cc(t),HM(e)})(r,s),Ga(e,a,r),function YG(e){const t=e.parts_.pop();e.byteLength_-=Cc(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),i&&o)throw new Error(e+' contains ".value" child '+si(r)+" in addition to actual children.")}},Fm=function(e,t,n,r){if(!(r&&void 0===n||P0(n)))throw new Error(No(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},O4=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Fm(e,t,n,r)};class P4{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Xc(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null!==n&&!Zg(o,n.path)&&(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Pt(e,t,n){Xc(e,n),function V0(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(k4(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}(e,r=>qt(r,t)||qt(t,r))}function k4(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();ii&&He("event: "+n.toString()),Po(r)}}}const F4=25;class L4{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new P4,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kc(),this.transactionQueueTree_=new Rm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function j0(e){const n=e.infoData_.getNode(new re(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Wa(e){return E4({timestamp:j0(e)})}function U0(e,t,n,r,i){e.dataUpdateCount++;const o=new re(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const l=vc(n,u=>Ie(u));s=function _4(e,t,n,r){const i=bm(e,r);if(i){const o=Im(i),s=o.path,a=o.queryId,l=dt(s,t),u=Ce.fromObject(n);return Sm(e,s,new jo(dm(a),l,u))}return[]}(e.serverSyncTree_,o,l,i)}else{const l=Ie(n);s=S0(e.serverSyncTree_,o,l,i)}else if(r){const l=vc(n,u=>Ie(u));s=function p4(e,t,n){const r=Ce.fromObject(n);return $o(e,new jo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,l)}else{const l=Ie(n);s=Ba(e.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Go(e,o)),Pt(e.eventQueue_,a,s)}function $0(e,t){Lm(e,"connected",t),!1===t&&function $4(e){Ho(e,"onDisconnectEvents");const t=Wa(e),n=kc();lm(e.onDisconnect_,J(),(i,o)=>{const s=R0(i,o,e.serverSyncTree_,t);Bo(n,i,s)});let r=[];lm(n,J(),(i,o)=>{r=r.concat(Ba(e.serverSyncTree_,i,o));const s=Um(e,i);Go(e,s)}),e.onDisconnect_=kc(),Pt(e.eventQueue_,J(),r)}(e)}function Lm(e,t,n){const r=new re("/.info/"+t),i=Ie(n);e.infoData_.updateSnapshot(r,i);const o=Ba(e.infoSyncTree_,r,i);Pt(e.eventQueue_,r,o)}function Jc(e){return e.nextWriteId_++}function Vm(e,t,n,r,i){Ho(e,"set",{path:t.toString(),value:n,priority:r});const o=Wa(e),s=Ie(n,r),a=qc(e.serverSyncTree_,t),l=Am(s,a,o),u=Jc(e),c=wm(e.serverSyncTree_,t,l,u,!0);Xc(e.eventQueue_,c),e.server_.put(t.toString(),s.val(!0),(f,h)=>{const p="ok"===f;p||tt("set at "+t+" failed: "+f);const g=Tr(e.serverSyncTree_,u,!p);Pt(e.eventQueue_,t,g),function Ar(e,t,n,r){t&&Po(()=>{if("ok"===n)t(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,t(s)}})}(0,i,f,h)});const d=Um(e,t);Go(e,d),Pt(e.eventQueue_,d,[])}function Ho(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),He(n,...t)}function jm(e,t,n){return qc(e.serverSyncTree_,t,n)||U.EMPTY_NODE}function ed(e,t=e.transactionQueueTree_){if(t||td(e,t),di(t)){const n=W0(e,t);w(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function Y4(e,t,n){const r=n.map(u=>u.currentWriteId),i=jm(e,t,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const c=n[u];w(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=dt(t,c.path);o=o.updateChild(d,c.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,u=>{Ho(e,"transaction put response",{path:l.toString(),status:u});let c=[];if("ok"===u){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(Tr(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();td(e,Yc(e.transactionQueueTree_,t)),ed(e,e.transactionQueueTree_),Pt(e.eventQueue_,t,c);for(let f=0;f<d.length;f++)Po(d[f])}else{if("datastale"===u)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{tt("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Go(e,t)}},s)}(e,$a(t),n)}else x0(t)&&Zc(t,n=>{ed(e,n)})}function Go(e,t){const n=z0(e,t),r=$a(n);return function Z4(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const l=t[a],u=dt(n,l.path);let d,c=!1;if(w(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)c=!0,d=l.abortReason,i=i.concat(Tr(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=F4)c=!0,d="maxretry",i=i.concat(Tr(e.serverSyncTree_,l.currentWriteId,!0));else{const f=jm(e,l.path,s);l.currentInputSnapshot=f;const h=t[a].update(f.val());if(void 0!==h){Ga("transaction failed: Data returned ",h,l.path);let p=Ie(h);"object"==typeof h&&null!=h&&Xn(h,".priority")||(p=p.updatePriority(f.getPriority()));const _=l.currentWriteId,D=Wa(e),m=Am(p,f,D);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=m,l.currentWriteId=Jc(e),s.splice(s.indexOf(_),1),i=i.concat(wm(e.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally)),i=i.concat(Tr(e.serverSyncTree_,_,!0))}else c=!0,d="nodata",i=i.concat(Tr(e.serverSyncTree_,l.currentWriteId,!0))}Pt(e.eventQueue_,n,i),i=[],c&&(t[a].status=2,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete&&r.push("nodata"===d?()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot):()=>t[a].onComplete(new Error(d),!1,null)))}td(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Po(r[a]);ed(e,e.transactionQueueTree_)}(e,W0(e,n),r),r}function z0(e,t){let n,r=e.transactionQueueTree_;for(n=H(t);null!==n&&void 0===di(r);)r=Yc(r,n),n=H(t=de(t));return r}function W0(e,t){const n=[];return q0(e,t,n),n.sort((r,i)=>r.order-i.order),n}function q0(e,t,n){const r=di(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Zc(t,i=>{q0(e,i,n)})}function td(e,t){const n=di(t);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,xm(t,n.length>0?n:void 0)}Zc(t,r=>{td(e,r)})}function Um(e,t){const n=$a(z0(e,t)),r=Yc(e.transactionQueueTree_,t);return function M4(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,i=>{$m(e,i)}),$m(e,r),O0(r,i=>{$m(e,i)}),n}function $m(e,t){const n=di(t);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(w(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(w(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Tr(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?xm(t,void 0):n.length=o+1,Pt(e.eventQueue_,$a(t),i);for(let s=0;s<r.length;s++)Po(r[s])}}const Hm=function(e,t){const n=J4(e),r=n.namespace;return"firebase.com"===n.domain&&Mn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&Mn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&tt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Hg(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,t,"",r!==n.subdomain),path:new re(n.pathString)}},J4=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"==typeof e){let u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");-1===c&&(c=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=function K4(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}(e.substring(c,d)));const f=function X4(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):tt(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(u+1),10)):u=t.length;const h=t.slice(0,u);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{const p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};class Y0{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ue(this.snapshot.exportVal())}}class Z0{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Gm{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return w(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class kt{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return G(this._path)?null:Yg(this._path)}get ref(){return new un(this._repo,this._path)}get _queryIdentifier(){const t=e0(this._queryParams),n=Ug(t);return"{}"===n?"default":n}get _queryObject(){return e0(this._queryParams)}isEqual(t){if(!((t=Ro(t))instanceof kt))return!1;const n=this._repo===t._repo,r=Zg(this._path,t._path);return n&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function zG(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class un extends kt{constructor(t,n){super(t,n,new im,!1)}get parent(){const t=$M(this._path);return null===t?null:new un(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class fi{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new re(t),r=zo(this.ref,t);return new fi(this._node.getChild(n),r,ve)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>t(new fi(i,zo(this.ref,r),ve)))}hasChild(t){const n=new re(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function id(e,t){return(e=Ro(e))._checkNotDeleted("ref"),void 0!==t?zo(e._root,t):e._root}function zo(e,t){return null===H((e=Ro(e))._path)?O4("child","path",t,!1):Fm("child","path",t,!1),new un(e._repo,Ee(e._path,t))}function zm(e,t){(function(e,t){if(".info"===H(t))throw new Error(e+" failed = Can't modify data under /.info/")})("set",(e=Ro(e))._path),function(e,t,n,r){r&&void 0===t||Ga(No(e,"value"),t,n)}("set",t,e._path,!1);const n=new ya;return Vm(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function K0(e){e=Ro(e);const t=new Gm(()=>{}),n=new qa(t);return function j4(e,t,n){const r=function y4(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(u,c)=>{const d=dt(u,n);r=r||Sr(c,d)});let i=e.syncPointTree_.get(n);i?r=r||Sr(i,J()):(i=new C0,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,s=o?new br(r,!0,!1):null;return function t4(e){return Vc(e.viewCache_)}(D0(i,t,Bc(e.pendingWriteTree_,t._path),o?s.getNode():U.EMPTY_NODE,o))}(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then(i=>{const o=Ie(i).withIndex(t._queryParams.getIndex());let s;if(Em(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())s=Ba(e.serverSyncTree_,t._path,o);else{const a=ja(e.serverSyncTree_,t);s=S0(e.serverSyncTree_,t._path,o,a)}return Pt(e.eventQueue_,t._path,s),Wc(e.serverSyncTree_,t,n,null,!0),o},i=>(Ho(e,"get for query "+Ue(t)+" failed: "+i),Promise.reject(new Error(i))))}(e._repo,e,n).then(r=>new fi(r,new un(e._repo,e._path),e._queryParams.getIndex()))}class qa{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,n){const r=n._queryParams.getIndex();return new Y0("value",this,new fi(t.snapshotNode,new un(n._repo,n._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Z0(this,t,n):null}matches(t){return t instanceof qa&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}(function o4(e){w(!Hc,"__referenceConstructor has already been defined"),Hc=e})(un),function c4(e){w(!zc,"__referenceConstructor has already been defined"),zc=e}(un);const Wm={};function tT(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||Mn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),He("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let l,u,s=Hm(o,i),a=s.repoInfo;typeof process<"u"&&process.env&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(l=!0,o=`http://${u}?ns=${a.namespace}`,s=Hm(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const c=i&&l?new Ma(Ma.OWNER):new CG(e.name,e.options,t);(function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Kc(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),P0(e)}(n))throw new Error(No(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",s),G(s.path)||Mn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function g8(e,t,n,r){let i=Wm[t.name];i||(i={},Wm[t.name]=i);let o=i[e.toURLString()];return o&&Mn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new L4(e,false,n,r),i[e.toURLString()]=o,o}(a,e,c,new vG(e.name,n));return new _8(d,e)}class _8{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function V4(e,t,n){if(e.stats_=Wg(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Pc(e.repoInfo_,(r,i,o,s)=>{U0(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>$0(e,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ue(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new ai(e.repoInfo_,t,(r,i,o,s)=>{U0(e,r,i,o,s)},r=>{$0(e,r)},r=>{!function B4(e,t){Ge(t,(n,r)=>{Lm(e,n,r)})}(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=function EG(e,t){const n=e.toString();return zg[n]||(zg[n]=t()),zg[n]}(e.repoInfo_,()=>new Ez(e.stats_,e.server_)),e.infoData_=new yz,e.infoSyncTree_=new I0({startListening:(r,i,o,s)=>{let a=[];const l=e.infoData_.getNode(r._path);return l.isEmpty()||(a=Ba(e.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Lm(e,"connected",!1),e.serverSyncTree_=new I0({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,l)=>{const u=s(a,l);Pt(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new un(this._repo,J())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function p8(e,t){const n=Wm[t];(!n||n[e.key]!==e)&&Mn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),function G0(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Mn("Cannot call "+t+" on a deleted database.")}}function qm(e=function Y3(e=Dc){const t=ni.get(e);if(!t&&e===Dc&&VS())return bc();if(!t)throw Jn.create("no-app",{appName:e});return t}(),t){const n=function KS(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=(e=>{const t=(e=>{var t,n;return null===(n=null===(t=mc())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("database");r&&function y8(e,t,n,r={}){(e=Ro(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Mn("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Mn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ma(Ma.OWNER);else if(r.mockUserToken){const s="string"==typeof r.mockUserToken?r.mockUserToken:function OH(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[gc(JSON.stringify({alg:"none",type:"JWT"})),gc(JSON.stringify(s)),""].join(".")}(r.mockUserToken,e.app.options.projectId);o=new Ma(s)}!function h8(e,t,n,r){e.repoInfo_=new Hg(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}(n,...r)}return n}ai.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},ai.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},function v8(e){(function oM(e){Vg=e})("10.8.1"),Ec(new Da("database",(t,{instanceIdentifier:n})=>tT(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),xo(rM,"1.0.3",e),xo(rM,"1.0.3","esm2017")}();let rT=(()=>{class e{constructor(n){this.sharedVariable=n}userRegister(n){const o=id(qm(bc(Lg_firebase)),"users/"+n.username+n.password);localStorage.setItem("usernamepassword",n.username+n.password),zm(o,{username:n.username,firstName:n.firstName,flastName:n.lastName,gender:n.gender,address:n.address,email:n.email,password:n.password,date:(new Date).toDateString(),time:(new Date).toTimeString()})}userSignin(n,r){var i=this;return Wt(function*(){const a=id(qm(bc(Lg_firebase)),`users/${n}${r}`);let l=!1;return yield K0(a).then(u=>{u.exists()?(console.log(u.val()),i.sharedVariable.user=u.val(),localStorage.setItem("username",i.sharedVariable.user?.username.toString()+""),l=!0):(console.log("No data available"),l=!1)}).catch(u=>{console.error(u)}),l})()}static#e=this.\u0275fac=function(r){return new(r||e)(T(OS))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),iT=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||e)(v(jn),v(At))};static#t=this.\u0275dir=k({type:e})}return e})(),hi=(()=>{class e extends iT{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Ze(e)))(i||e)}}();static#t=this.\u0275dir=k({type:e,features:[oe]})}return e})();const xn=new I("NgValueAccessor"),b8={provide:xn,useExisting:fe(()=>Ya),multi:!0},S8=new I("CompositionEventMode");let Ya=(()=>{class e extends iT{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function I8(){const e=gr()?gr().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||e)(v(jn),v(At),v(S8,8))};static#t=this.\u0275dir=k({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&le("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[we([b8]),oe]})}return e})();const nt=new I("NgValidators"),xr=new I("NgAsyncValidators");function gT(e){return null!=e}function mT(e){return Bs(e)?$e(e):e}function _T(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function yT(e,t){return t.map(n=>n(e))}function vT(e){return e.map(t=>function T8(e){return!e.validate}(t)?t:n=>t.validate(n))}function Qm(e){return null!=e?function CT(e){if(!e)return null;const t=e.filter(gT);return 0==t.length?null:function(n){return _T(yT(n,t))}}(vT(e)):null}function Ym(e){return null!=e?function DT(e){if(!e)return null;const t=e.filter(gT);return 0==t.length?null:function(n){return function w8(...e){const t=F_(e),{args:n,keys:r}=bI(e),i=new Pe(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let l=s,u=s;for(let c=0;c<s;c++){let d=!1;bt(n[c]).subscribe(ke(o,f=>{d||(d=!0,u--),a[c]=f},()=>l--,void 0,()=>{(!l||!d)&&(u||o.next(r?SI(r,a):a),o.complete())}))}});return t?i.pipe(II(t)):i}(yT(n,t).map(mT)).pipe(ue(_T))}}(vT(e)):null}function wT(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Zm(e){return e?Array.isArray(e)?e:[e]:[]}function ad(e,t){return Array.isArray(e)?e.includes(t):e===t}function IT(e,t){const n=Zm(t);return Zm(e).forEach(i=>{ad(n,i)||n.push(i)}),n}function ST(e,t){return Zm(t).filter(n=>!ad(e,n))}class MT{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Qm(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ym(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class ft extends MT{get formDirective(){return null}get path(){return null}}class Or extends MT{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class TT{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Km=(()=>{class e extends TT{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||e)(v(Or,2))};static#t=this.\u0275dir=k({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&vu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[oe]})}return e})(),AT=(()=>{class e extends TT{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||e)(v(ft,10))};static#t=this.\u0275dir=k({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&vu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[oe]})}return e})();const Za="VALID",ud="INVALID",Wo="PENDING",Ka="DISABLED";function e_(e){return(cd(e)?e.validators:e)||null}function t_(e,t){return(cd(t)?t.asyncValidators:e)||null}function cd(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class OT{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Za}get invalid(){return this.status===ud}get pending(){return this.status==Wo}get disabled(){return this.status===Ka}get enabled(){return this.status!==Ka}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(IT(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(IT(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(ST(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(ST(t,this._rawAsyncValidators))}hasValidator(t){return ad(this._rawValidators,t)}hasAsyncValidator(t){return ad(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Wo,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Ka,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Za,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Za||this.status===Wo)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ka:Za}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Wo,this._hasOwnPendingAsyncValidator=!0;const n=mT(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Me,this.statusChanges=new Me}_calculateStatus(){return this._allControlsDisabled()?Ka:this.errors?ud:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wo)?Wo:this._anyControlsHaveStatus(ud)?ud:Za}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){cd(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function x8(e){return Array.isArray(e)?Qm(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function O8(e){return Array.isArray(e)?Ym(e):e||null}(this._rawAsyncValidators)}}class n_ extends OT{constructor(t,n,r){super(e_(n),t_(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){(function xT(e,t,n){e._forEachChild((r,i)=>{if(void 0===n[i])throw new C(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function RT(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new C(1e3,"");if(!r[n])throw new C(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const qo=new I("CallSetDisabledState",{providedIn:"root",factory:()=>dd}),dd="always";function Xa(e,t,n=dd){r_(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function F8(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&PT(e,t)})}(e,t),function V8(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function L8(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&PT(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function k8(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function pd(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function r_(e,t){const n=function ET(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(wT(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function bT(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(wT(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();pd(t._rawValidators,i),pd(t._rawAsyncValidators,i)}function PT(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}const H8={provide:ft,useExisting:fe(()=>md)},Ja=(()=>Promise.resolve())();let md=(()=>{class e extends ft{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Me,this.form=new n_({},Qm(n),Ym(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ja.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Xa(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ja.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ja.then(()=>{const r=this._findContainer(n.path),i=new n_({});(function kT(e,t){r_(e,t)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ja.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Ja.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function FT(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static#e=this.\u0275fac=function(r){return new(r||e)(v(nt,10),v(xr,10),v(qo,8))};static#t=this.\u0275dir=k({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&le("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[we([H8]),oe]})}return e})();function LT(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function VT(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const BT=class extends OT{constructor(t=null,n,r){super(e_(n),t_(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=VT(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){LT(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){LT(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){VT(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},W8={provide:Or,useExisting:fe(()=>_d)},$T=(()=>Promise.resolve())();let _d=(()=>{class e extends Or{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new BT,this._registered=!1,this.name="",this.update=new Me,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function s_(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===Ya?n=o:function U8(e){return Object.getPrototypeOf(e.constructor)===hi}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function o_(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xa(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){$T.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&go(r);$T.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function fd(e,t){return[...t.path,e]}(n,this._parent):[n]}static#e=this.\u0275fac=function(r){return new(r||e)(v(ft,9),v(nt,10),v(xr,10),v(xn,10),v(Ru,8),v(qo,8))};static#t=this.\u0275dir=k({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[we([W8]),oe,Bt]})}return e})(),HT=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=k({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return e})(),zT=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=pn({type:e});static#n=this.\u0275inj=Yt({})}return e})(),mW=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=pn({type:e});static#n=this.\u0275inj=Yt({imports:[zT]})}return e})(),yW=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:qo,useValue:n.callSetDisabledState??dd}]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=pn({type:e});static#n=this.\u0275inj=Yt({imports:[mW]})}return e})();function vW(e,t){if(1&e){const n=_u();A(0,"div",21)(1,"strong"),X(2,"No Data!"),N(),X(3),A(4,"button",22),le("click",function(){return vl(n),Cl(so().closeAlertSuccess())}),N()()}if(2&e){const n=so();Re(3),lo(" You should fill the ",n.item," fields above. ")}}function CW(e,t){if(1&e){const n=_u();A(0,"div",23)(1,"strong"),X(2,"No Data!"),N(),X(3),A(4,"button",22),le("click",function(){return vl(n),Cl(so().closeAlert())}),N()()}if(2&e){const n=so();Re(3),lo(" You should fill the ",n.item," fields above. ")}}const DW=function(){return["/"]},wW=function(){return["/signin"]};function bW(e,t){if(1&e){const n=_u();A(0,"div",15),X(1," Invalide username or password. "),A(2,"button",16),le("click",function(){return vl(n),Cl(so().closeAlert())}),N()()}}const IW=function(){return["/"]},SW=function(){return["/register"]},MW=[{path:"",component:wH},{path:"register",component:(()=>{class e{constructor(n,r){this.apiService=n,this.router=r,this.user={username:"",firstName:"",lastName:"",gender:"",address:"",email:"",password:""},this.item="",this.showAlert=!1,this.showAlertSuccess=!1}ngOnInit(){}selectGender(n){this.user.gender=n}registerUser(){this.formValidation()?(this.apiService.userRegister(this.user),this.user={username:"",firstName:"",lastName:"",gender:"",address:"",email:"",password:""},this.showAlertSuccess=!0,setTimeout(()=>{this.router.navigate(["/"])},1e3)):this.showAlert=!0}formValidation(){return""==this.user.username.trim()?(this.item="username",!1):""==this.user.firstName.trim()?(this.item="first name",!1):""==this.user.lastName.trim()?(this.item="last name",!1):""==this.user.gender.trim()?(this.item="gender",!1):""==this.user.address.trim()?(this.item="address",!1):""==this.user.email.trim()?(this.item="email",!1):""==this.user.password.trim()?(this.item="password",!1):(this.showAlert=!1,!0)}closeAlert(){this.showAlert=!1}closeAlertSuccess(){this.showAlertSuccess=!1}static#e=this.\u0275fac=function(r){return new(r||e)(v(rT),v(Ct))};static#t=this.\u0275cmp=hn({type:e,selectors:[["app-register-user"]],decls:54,vars:12,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","nav-bar-style"],[1,"container-fluid","register-nav-div"],[1,"navbar-brand","col-4","nav-text","home-img-span",3,"routerLink"],["src","../../../../assets/DK.png",1,"home-img"],[1,"create-account-div"],["class","alert alert-success   fade show","role","alert",4,"ngIf"],[1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-12","col-md-4"],[1,"mb-3"],[1,"form-label"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"dropdown"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-light","dropdown-toggle"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],[1,"dropdown-item",3,"click"],["type","email",1,"form-control",3,"ngModel","ngModelChange"],["type","password",1,"form-control",3,"ngModel","ngModelChange"],["class","alert alert-warning alert-dismissible fade show","role","alert",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],[1,"signin-account-span",3,"routerLink"],["role","alert",1,"alert","alert-success","fade","show"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"]],template:function(r,i){1&r&&(A(0,"nav",0)(1,"div",1)(2,"span",2),xt(3,"img",3),N()()(),A(4,"div",4)(5,"h1"),X(6,"Create an account"),N()(),oo(7,vW,5,1,"div",5),A(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),X(13,"Username"),N(),A(14,"input",11),le("ngModelChange",function(s){return i.user.username=s}),N()(),A(15,"div",9)(16,"label",10),X(17,"First name"),N(),A(18,"input",11),le("ngModelChange",function(s){return i.user.firstName=s}),N()(),A(19,"div",9)(20,"label",10),X(21,"Last name"),N(),A(22,"input",11),le("ngModelChange",function(s){return i.user.lastName=s}),N()(),A(23,"div",9)(24,"div",12)(25,"button",13),X(26," Gender "),N(),A(27,"ul",14)(28,"li")(29,"span",15),le("click",function(){return i.selectGender("male")}),X(30,"Male"),N()(),A(31,"li")(32,"span",15),le("click",function(){return i.selectGender("female")}),X(33,"Female"),N()(),A(34,"li")(35,"span",15),le("click",function(){return i.selectGender("other")}),X(36,"Other"),N()()()()(),A(37,"div",9)(38,"label",10),X(39,"Address"),N(),A(40,"input",11),le("ngModelChange",function(s){return i.user.address=s}),N()(),A(41,"div",9)(42,"label",10),X(43,"Email address"),N(),A(44,"input",16),le("ngModelChange",function(s){return i.user.email=s}),N()(),A(45,"div",9)(46,"label",10),X(47,"Password"),N(),A(48,"input",17),le("ngModelChange",function(s){return i.user.password=s}),N()(),oo(49,CW,5,1,"div",18),A(50,"button",19),le("click",function(){return i.registerUser()}),X(51,"Register"),N(),A(52,"span",20),X(53,"or sign in to account"),N()()()()),2&r&&(Re(2),xe("routerLink",qr(10,DW)),Re(5),xe("ngIf",i.showAlertSuccess),Re(7),xe("ngModel",i.user.username),Re(4),xe("ngModel",i.user.firstName),Re(4),xe("ngModel",i.user.lastName),Re(18),xe("ngModel",i.user.address),Re(4),xe("ngModel",i.user.email),Re(4),xe("ngModel",i.user.password),Re(1),xe("ngIf",i.showAlert),Re(3),xe("routerLink",qr(11,wW)))},dependencies:[Wu,Mo,Ya,Km,_d],styles:[".nav-bar-style[_ngcontent-%COMP%]{background:rgb(240,102,217);padding:unset!important}.row[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:50px}.create-account-div[_ngcontent-%COMP%]{padding:20px}.signin-account-span[_ngcontent-%COMP%]{margin-left:20px;cursor:pointer}.signin-account-span[_ngcontent-%COMP%]:hover{text-decoration:underline}.register-nav-div[_ngcontent-%COMP%], .home-img[_ngcontent-%COMP%]{height:5vh}"]})}return e})()},{path:"signin",component:(()=>{class e{constructor(n,r){this.apiService=n,this.router=r,this.username="",this.password="",this.showAlertfailed=!1}signin(){this.apiService.userSignin(this.username,this.password).then(n=>{n?this.router.navigate(["/"]):this.showAlertfailed=!0}).catch(n=>{this.showAlertfailed=!0})}closeAlert(){this.showAlertfailed=!1}static#e=this.\u0275fac=function(r){return new(r||e)(v(rT),v(Ct))};static#t=this.\u0275cmp=hn({type:e,selectors:[["app-signin-user"]],decls:24,vars:7,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","nav-bar-style"],[1,"container-fluid","register-nav-div"],[1,"navbar-brand","col-4","nav-text","home-img-span",3,"routerLink"],["src","../../../../assets/DK.png",1,"home-img"],[1,"signin-account-div"],["class","alert alert-success   fade show","role","alert",4,"ngIf"],[1,"container-fluid"],[1,"row","justify-content-center","align-items-center"],[1,"col-12","col-md-4"],[1,"mb-3"],[1,"form-label"],["name","username","type","email",1,"form-control",3,"ngModel","ngModelChange"],["name","password","type","password",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"click"],[1,"create-account-span",3,"routerLink"],["role","alert",1,"alert","alert-success","fade","show"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"]],template:function(r,i){1&r&&(A(0,"nav",0)(1,"div",1)(2,"span",2),xt(3,"img",3),N()()(),A(4,"div",4)(5,"h1"),X(6,"Sign in to account"),N()(),oo(7,bW,3,0,"div",5),A(8,"div",6)(9,"div",7)(10,"div",8)(11,"form")(12,"div",9)(13,"label",10),X(14,"Username"),N(),A(15,"input",11),le("ngModelChange",function(s){return i.username=s}),N()(),A(16,"div",9)(17,"label",10),X(18,"Password"),N(),A(19,"input",12),le("ngModelChange",function(s){return i.password=s}),N()(),A(20,"button",13),le("click",function(){return i.signin()}),X(21,"login"),N(),A(22,"span",14),X(23,"or create an account"),N()()()()()),2&r&&(Re(2),xe("routerLink",qr(5,IW)),Re(5),xe("ngIf",i.showAlertfailed),Re(8),xe("ngModel",i.username),Re(4),xe("ngModel",i.password),Re(3),xe("routerLink",qr(6,SW)))},dependencies:[Wu,Mo,HT,Ya,Km,AT,_d,md],styles:[".nav-bar-style[_ngcontent-%COMP%]{background:rgb(240,102,217);padding:unset!important}.row[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:50px}.signin-account-div[_ngcontent-%COMP%]{padding:20px}.create-account-span[_ngcontent-%COMP%]{margin-left:20px;cursor:pointer}.create-account-span[_ngcontent-%COMP%]:hover{text-decoration:underline}.register-nav-div[_ngcontent-%COMP%], .home-img[_ngcontent-%COMP%]{height:5vh}"]})}return e})()}];let TW=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=pn({type:e});static#n=this.\u0275inj=Yt({imports:[RS.forRoot(MW),RS]})}return e})(),AW=(()=>{class e{constructor(){}ngOnInit(){}writeData(){const i=id(qm(bc(Lg_firebase)),"users/");let o;console.log("aaaaaaaa1"),console.log("aaaaa2"),K0(i).then(s=>{s.exists()?(console.log(s.val()),o=JSON.parse(s.val()),console.log(o)):console.log("No data available")}).catch(s=>{console.error(s)}),console.log(o)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=hn({type:e,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"main-div"]],template:function(r,i){1&r&&(A(0,"div",0),xt(1,"router-outlet"),N())},dependencies:[ac]})}return e})(),NW=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=pn({type:e,bootstrap:[AW]});static#n=this.\u0275inj=Yt({imports:[Aj,TW,yW]})}return e})();Mj().bootstrapModule(NW).catch(e=>console.error(e))}},ae=>{ae(ae.s=273)}]);