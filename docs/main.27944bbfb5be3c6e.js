"use strict";(self.webpackChunkshoppingApp=self.webpackChunkshoppingApp||[]).push([[179],{59:()=>{function oe(e){return"function"==typeof e}function $o(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Ya=$o(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ho(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Ct{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(oe(r))try{r()}catch(o){t=o instanceof Ya?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{r_(o)}catch(s){t=t??[],s instanceof Ya?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ya(t)}}add(t){var n;if(t&&t!==this)if(this.closed)r_(t);else{if(t instanceof Ct){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Ho(n,t)}remove(t){const{_finalizers:n}=this;n&&Ho(n,t),t instanceof Ct&&t._removeParent(this)}}Ct.EMPTY=(()=>{const e=new Ct;return e.closed=!0,e})();const t_=Ct.EMPTY;function n_(e){return e instanceof Ct||e&&"closed"in e&&oe(e.remove)&&oe(e.add)&&oe(e.unsubscribe)}function r_(e){oe(e)?e():e.unsubscribe()}const xr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Za={setTimeout(e,t,...n){const{delegate:r}=Za;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=Za;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function i_(e){Za.setTimeout(()=>{const{onUnhandledError:t}=xr;if(!t)throw e;t(e)})}function ad(){}const KT=ld("C",void 0,void 0);function ld(e,t,n){return{kind:e,value:t,error:n}}let Or=null;function Ka(e){if(xr.useDeprecatedSynchronousErrorHandling){const t=!Or;if(t&&(Or={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=Or;if(Or=null,n)throw r}}else e()}class ud extends Ct{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,n_(t)&&t.add(this)):this.destination=iA}static create(t,n,r){return new Go(t,n,r)}next(t){this.isStopped?dd(function JT(e){return ld("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?dd(function XT(e){return ld("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?dd(KT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tA=Function.prototype.bind;function cd(e,t){return tA.call(e,t)}class nA{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Xa(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Xa(r)}else Xa(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Xa(n)}}}class Go extends ud{constructor(t,n,r){let i;if(super(),oe(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&xr.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&cd(t.next,o),error:t.error&&cd(t.error,o),complete:t.complete&&cd(t.complete,o)}):i=t}this.destination=new nA(i)}}function Xa(e){xr.useDeprecatedSynchronousErrorHandling?function eA(e){xr.useDeprecatedSynchronousErrorHandling&&Or&&(Or.errorThrown=!0,Or.error=e)}(e):i_(e)}function dd(e,t){const{onStoppedNotification:n}=xr;n&&Za.setTimeout(()=>n(e,t))}const iA={closed:!0,next:ad,error:function rA(e){throw e},complete:ad},fd="function"==typeof Symbol&&Symbol.observable||"@@observable";function tr(e){return e}function o_(e){return 0===e.length?tr:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let Re=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function aA(e){return e&&e instanceof ud||function sA(e){return e&&oe(e.next)&&oe(e.error)&&oe(e.complete)}(e)&&n_(e)}(n)?n:new Go(n,r,i);return Ka(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=s_(r))((i,o)=>{const s=new Go({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[fd](){return this}pipe(...n){return o_(n)(this)}toPromise(n){return new(n=s_(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function s_(e){var t;return null!==(t=e??xr.Promise)&&void 0!==t?t:Promise}const lA=$o(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let zt=(()=>{class e extends Re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new a_(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new lA}next(n){Ka(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Ka(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ka(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?t_:(this.currentObservers=null,o.push(n),new Ct(()=>{this.currentObservers=null,Ho(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Re;return n.source=this,n}}return e.create=(t,n)=>new a_(t,n),e})();class a_ extends zt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:t_}}function l_(e){return oe(e?.lift)}function Pe(e){return t=>{if(l_(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function xe(e,t,n,r,i){return new uA(e,t,n,r,i)}class uA extends ud{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function ae(e,t){return Pe((n,r)=>{let i=0;n.subscribe(xe(r,o=>{r.next(e.call(t,o,i++))}))})}function nr(e){return this instanceof nr?(this.v=e,this):new nr(e)}function f_(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function md(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}(a,l,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const h_=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function p_(e){return oe(e?.then)}function g_(e){return oe(e[fd])}function m_(e){return Symbol.asyncIterator&&oe(e?.[Symbol.asyncIterator])}function __(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const y_=function RA(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function v_(e){return oe(e?.[y_])}function C_(e){return function d_(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(p,g){o.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{!function l(f){f.value instanceof nr?Promise.resolve(f.value.v).then(u,c):d(o[0][2],f)}(r[f](h))}catch(p){d(o[0][3],p)}}function u(f){a("next",f)}function c(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield nr(n.read());if(i)return yield nr(void 0);yield yield nr(r)}}finally{n.releaseLock()}})}function D_(e){return oe(e?.getReader)}function Dt(e){if(e instanceof Re)return e;if(null!=e){if(g_(e))return function xA(e){return new Re(t=>{const n=e[fd]();if(oe(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(h_(e))return function OA(e){return new Re(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(p_(e))return function PA(e){return new Re(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,i_)})}(e);if(m_(e))return w_(e);if(v_(e))return function FA(e){return new Re(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(D_(e))return function kA(e){return w_(C_(e))}(e)}throw __(e)}function w_(e){return new Re(t=>{(function LA(e,t){var n,r,i,o;return function u_(e,t,n,r){return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=f_(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Rn(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function He(e,t,n=1/0){return oe(t)?He((r,i)=>ae((o,s)=>t(r,o,i,s))(Dt(e(r,i))),n):("number"==typeof t&&(n=t),Pe((r,i)=>function VA(e,t,n,r,i,o,s,a){const l=[];let u=0,c=0,d=!1;const f=()=>{d&&!l.length&&!u&&t.complete()},h=g=>u<r?p(g):l.push(g),p=g=>{o&&t.next(g),u++;let _=!1;Dt(n(g,c++)).subscribe(xe(t,C=>{i?.(C),o?h(C):t.next(C)},()=>{_=!0},void 0,()=>{if(_)try{for(u--;l.length&&u<r;){const C=l.shift();s?Rn(t,s,()=>p(C)):p(C)}f()}catch(C){t.error(C)}}))};return e.subscribe(xe(t,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,e,n)))}function fi(e=1/0){return He(tr,e)}const ln=new Re(e=>e.complete());function _d(e){return e[e.length-1]}function E_(e){return oe(_d(e))?e.pop():void 0}function zo(e){return function jA(e){return e&&oe(e.schedule)}(_d(e))?e.pop():void 0}function b_(e,t=0){return Pe((n,r)=>{n.subscribe(xe(r,i=>Rn(r,e,()=>r.next(i),t),()=>Rn(r,e,()=>r.complete(),t),i=>Rn(r,e,()=>r.error(i),t)))})}function I_(e,t=0){return Pe((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function S_(e,t){if(!e)throw new Error("Iterable cannot be null");return new Re(n=>{Rn(n,t,()=>{const r=e[Symbol.asyncIterator]();Rn(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function je(e,t){return t?function qA(e,t){if(null!=e){if(g_(e))return function $A(e,t){return Dt(e).pipe(I_(t),b_(t))}(e,t);if(h_(e))return function GA(e,t){return new Re(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(p_(e))return function HA(e,t){return Dt(e).pipe(I_(t),b_(t))}(e,t);if(m_(e))return S_(e,t);if(v_(e))return function zA(e,t){return new Re(n=>{let r;return Rn(n,t,()=>{r=e[y_](),Rn(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>oe(r?.return)&&r.return()})}(e,t);if(D_(e))return function WA(e,t){return S_(C_(e),t)}(e,t)}throw __(e)}(e,t):Dt(e)}class xt extends zt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function P(...e){return je(e,zo(e))}function M_(e={}){const{connector:t=(()=>new zt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,l,u=0,c=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=l=void 0,c=d=!1},p=()=>{const g=s;h(),g?.unsubscribe()};return Pe((g,_)=>{u++,!d&&!c&&f();const C=l=l??t();_.add(()=>{u--,0===u&&!d&&!c&&(a=yd(p,i))}),C.subscribe(_),!s&&u>0&&(s=new Go({next:m=>C.next(m),error:m=>{d=!0,f(),a=yd(h,n,m),C.error(m)},complete:()=>{c=!0,f(),a=yd(h,r),C.complete()}}),Dt(g).subscribe(s))})(o)}}function yd(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Go({next:()=>{r.unsubscribe(),e()}});return Dt(t(...n)).subscribe(r)}function un(e,t){return Pe((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(xe(r,l=>{i?.unsubscribe();let u=0;const c=o++;Dt(e(l,c)).subscribe(i=xe(r,d=>r.next(t?t(l,d,c,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ZA(e,t){return e===t}function ne(e){for(let t in e)if(e[t]===ne)return t;throw Error("Could not find renamed property on target object.")}function Ja(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Fe(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Fe).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function vd(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const KA=ne({__forward_ref__:ne});function ce(e){return e.__forward_ref__=ce,e.toString=function(){return Fe(this())},e}function x(e){return Cd(e)?e():e}function Cd(e){return"function"==typeof e&&e.hasOwnProperty(KA)&&e.__forward_ref__===ce}function Dd(e){return e&&!!e.\u0275providers}const T_="https://g.co/ng/security#xss";class v extends Error{constructor(t,n){super(function el(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function F(e){return"string"==typeof e?e:null==e?"":String(e)}function wd(e,t){throw new v(-201,!1)}function Ot(e,t){null==e&&function N(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function M(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Wt(e){return{providers:e.providers||[],imports:e.imports||[]}}function tl(e){return A_(e,rl)||A_(e,N_)}function A_(e,t){return e.hasOwnProperty(t)?e[t]:null}function nl(e){return e&&(e.hasOwnProperty(Ed)||e.hasOwnProperty(oN))?e[Ed]:null}const rl=ne({\u0275prov:ne}),Ed=ne({\u0275inj:ne}),N_=ne({ngInjectableDef:ne}),oN=ne({ngInjectorDef:ne});var G=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(G||{});let bd;function dt(e){const t=bd;return bd=e,t}function x_(e,t,n){const r=tl(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&G.Optional?null:void 0!==t?t:void wd(Fe(e))}const de=globalThis;class I{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=M({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Wo={},Ad="__NG_DI_FLAG__",il="ngTempTokenPath",lN=/\n/gm,P_="__source";let hi;function rr(e){const t=hi;return hi=e,t}function dN(e,t=G.Default){if(void 0===hi)throw new v(-203,!1);return null===hi?x_(e,void 0,t):hi.get(e,t&G.Optional?null:void 0,t)}function T(e,t=G.Default){return(function R_(){return bd}()||dN)(x(e),t)}function b(e,t=G.Default){return T(e,ol(t))}function ol(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Nd(e){const t=[];for(let n=0;n<e.length;n++){const r=x(e[n]);if(Array.isArray(r)){if(0===r.length)throw new v(900,!1);let i,o=G.Default;for(let s=0;s<r.length;s++){const a=r[s],l=fN(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}t.push(T(i,o))}else t.push(T(r))}return t}function qo(e,t){return e[Ad]=t,e.prototype[Ad]=t,e}function fN(e){return e[Ad]}function xn(e){return{toString:e}.toString()}var sl=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(sl||{}),qt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(qt||{});const cn={},Z=[],al=ne({\u0275cmp:ne}),Rd=ne({\u0275dir:ne}),xd=ne({\u0275pipe:ne}),k_=ne({\u0275mod:ne}),On=ne({\u0275fac:ne}),Qo=ne({__NG_ELEMENT_ID__:ne}),L_=ne({__NG_ENV_ID__:ne});function V_(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Od(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{const o=i,s=n[++r];j_(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function B_(e){return 3===e||4===e||6===e}function j_(e){return 64===e.charCodeAt(0)}function Yo(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||U_(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function U_(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const $_="ng-template";function gN(e,t,n){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const s=e[r++];if(n&&"class"===o&&-1!==V_(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function H_(e){return 4===e.type&&e.value!==$_}function mN(e,t,n){return t===(4!==e.type||n?e.value:$_)}function _N(e,t,n){let r=4;const i=e.attrs||[],o=function CN(e){for(let t=0;t<e.length;t++)if(B_(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!mN(e,l,n)||""===l&&1===t.length){if(Qt(r))return!1;s=!0}}else{const u=8&r?l:t[++a];if(8&r&&null!==e.attrs){if(!gN(e.attrs,u,n)){if(Qt(r))return!1;s=!0}continue}const d=yN(8&r?"class":l,i,H_(e),n);if(-1===d){if(Qt(r))return!1;s=!0;continue}if(""!==u){let f;f=d>o?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==V_(h,u,0)||2&r&&u!==f){if(Qt(r))return!1;s=!0}}}}else{if(!s&&!Qt(r)&&!Qt(l))return!1;if(s&&Qt(l))continue;s=!1,r=l|1&r}}return Qt(r)||s}function Qt(e){return 0==(1&e)}function yN(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function DN(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function G_(e,t,n=!1){for(let r=0;r<t.length;r++)if(_N(e,t[r],n))return!0;return!1}function z_(e,t){return e?":not("+t.trim()+")":t}function EN(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Qt(s)&&(t+=z_(o,i),i=""),r=s,o=o||!Qt(r);n++}return""!==i&&(t+=z_(o,i)),t}function dn(e){return xn(()=>{const t=q_(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===sl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||qt.Emulated,styles:e.styles||Z,_:null,schemas:e.schemas||null,tView:null,id:""};Q_(n);const r=e.dependencies;return n.directiveDefs=ll(r,!1),n.pipeDefs=ll(r,!0),n.id=function RN(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function MN(e){return Q(e)||Ge(e)}function TN(e){return null!==e}function fn(e){return xn(()=>({type:e.type,bootstrap:e.bootstrap||Z,declarations:e.declarations||Z,imports:e.imports||Z,exports:e.exports||Z,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function W_(e,t){if(null==e)return cn;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}function O(e){return xn(()=>{const t=q_(e);return Q_(t),t})}function Q(e){return e[al]||null}function Ge(e){return e[Rd]||null}function tt(e){return e[xd]||null}function Et(e,t){const n=e[k_]||null;if(!n&&!0===t)throw new Error(`Type ${Fe(e)} does not have '\u0275mod' property.`);return n}function q_(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||cn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Z,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:W_(e.inputs,t),outputs:W_(e.outputs)}}function Q_(e){e.features?.forEach(t=>t(e))}function ll(e,t){if(!e)return null;const n=t?tt:MN;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(TN)}const be=0,E=1,V=2,ve=3,Yt=4,Zo=5,Ye=6,gi=7,Me=8,ir=9,mi=10,k=11,Ko=12,Y_=13,_i=14,Te=15,Xo=16,yi=17,hn=18,Jo=19,Z_=20,or=21,Pn=22,es=23,ts=24,z=25,Pd=1,K_=2,pn=7,vi=9,ze=11;function ht(e){return Array.isArray(e)&&"object"==typeof e[Pd]}function nt(e){return Array.isArray(e)&&!0===e[Pd]}function Fd(e){return 0!=(4&e.flags)}function Fr(e){return e.componentOffset>-1}function cl(e){return 1==(1&e.flags)}function Zt(e){return!!e.template}function kd(e){return 0!=(512&e[V])}function kr(e,t){return e.hasOwnProperty(On)?e[On]:null}let We=null,dl=!1;function Pt(e){const t=We;return We=e,t}const ey={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ny(e){if(!rs(e)||e.dirty){if(!e.producerMustRecompute(e)&&!oy(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function iy(e){e.dirty=!0,function ry(e){if(void 0===e.liveConsumerNode)return;const t=dl;dl=!0;try{for(const n of e.liveConsumerNode)n.dirty||iy(n)}finally{dl=t}}(e),e.consumerMarkedDirty?.(e)}function Vd(e){return e&&(e.nextProducerIndex=0),Pt(e)}function Bd(e,t){if(Pt(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(rs(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)fl(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function oy(e){Ci(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(ny(n),r!==n.version))return!0}return!1}function sy(e){if(Ci(e),rs(e))for(let t=0;t<e.producerNode.length;t++)fl(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function fl(e,t){if(function ly(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Ci(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)fl(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Ci(i),i.producerIndexOfThis[r]=t}}function rs(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ci(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let uy=null;const hy=()=>{},GN=(()=>({...ey,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:hy}))();class zN{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ft(){return py}function py(e){return e.type.prototype.ngOnChanges&&(e.setInput=qN),WN}function WN(){const e=my(this),t=e?.current;if(t){const n=e.previous;if(n===cn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function qN(e,t,n,r){const i=this.declaredInputs[n],o=my(e)||function QN(e,t){return e[gy]=t}(e,{previous:cn,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[i];s[i]=new zN(l&&l.currentValue,t,a===cn),e[r]=t}Ft.ngInherit=!0;const gy="__ngSimpleChanges__";function my(e){return e[gy]||null}const gn=function(e,t,n){};function fe(e){for(;Array.isArray(e);)e=e[be];return e}function pt(e,t){return fe(t[e.index])}function vy(e,t){return e.data[t]}function bt(e,t){const n=t[e];return ht(n)?n:n[be]}function ar(e,t){return null==t?null:e[t]}function Cy(e){e[yi]=0}function eR(e){1024&e[V]||(e[V]|=1024,wy(e,1))}function Dy(e){1024&e[V]&&(e[V]&=-1025,wy(e,-1))}function wy(e,t){let n=e[ve];if(null===n)return;n[Zo]+=t;let r=n;for(n=n[ve];null!==n&&(1===t&&1===r[Zo]||-1===t&&0===r[Zo]);)n[Zo]+=t,r=n,n=n[ve]}const R={lFrame:Oy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Iy(){return R.bindingsEnabled}function y(){return R.lFrame.lView}function Y(){return R.lFrame.tView}function qe(){let e=Sy();for(;null!==e&&64===e.type;)e=e.parent;return e}function Sy(){return R.lFrame.currentTNode}function mn(e,t){const n=R.lFrame;n.currentTNode=e,n.isParent=t}function Gd(){return R.lFrame.isParent}function Ei(){return R.lFrame.bindingIndex++}function pR(e,t){const n=R.lFrame;n.bindingIndex=n.bindingRootIndex=e,Wd(t)}function Wd(e){R.lFrame.currentDirectiveIndex=e}function Qd(e){R.lFrame.currentQueryIndex=e}function mR(e){const t=e[E];return 2===t.type?t.declTNode:1===t.type?e[Ye]:null}function Ry(e,t,n){if(n&G.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&G.Host||(i=mR(o),null===i||(o=o[_i],10&i.type))););if(null===i)return!1;t=i,e=o}const r=R.lFrame=xy();return r.currentTNode=t,r.lView=e,!0}function Yd(e){const t=xy(),n=e[E];R.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function xy(){const e=R.lFrame,t=null===e?null:e.child;return null===t?Oy(e):t}function Oy(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Py(){const e=R.lFrame;return R.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Fy=Py;function Zd(){const e=Py();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function it(){return R.lFrame.selectedIndex}function Lr(e){R.lFrame.selectedIndex=e}function we(){const e=R.lFrame;return vy(e.tView,e.selectedIndex)}let Ly=!0;function pl(){return Ly}function lr(e){Ly=e}function gl(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),null!=c&&(e.destroyHooks??=[]).push(n,c)}}function ml(e,t,n){Vy(e,t,3,n)}function _l(e,t,n,r){(3&e[V])===n&&Vy(e,t,n,r)}function Kd(e,t){let n=e[V];(3&n)===t&&(n&=8191,n+=1,e[V]=n)}function Vy(e,t,n,r){const o=r??-1,s=t.length-1;let a=0;for(let l=void 0!==r?65535&e[yi]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(e[yi]+=65536),(a<o||-1==o)&&(bR(e,n,t,l),e[yi]=(4294901760&e[yi])+l+2),l++}function By(e,t){gn(4,e,t);const n=Pt(null);try{t.call(e)}finally{Pt(n),gn(5,e,t)}}function bR(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[V]>>13<e[yi]>>16&&(3&e[V])===t&&(e[V]+=8192,By(a,o)):By(a,o)}const bi=-1;class os{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Jd(e){return e!==bi}function ss(e){return 32767&e}function as(e,t){let n=function TR(e){return e>>16}(e),r=t;for(;n>0;)r=r[_i],n--;return r}let ef=!0;function yl(e){const t=ef;return ef=e,t}const jy=255,Uy=5;let AR=0;const _n={};function vl(e,t){const n=$y(e,t);if(-1!==n)return n;const r=t[E];r.firstCreatePass&&(e.injectorIndex=t.length,tf(r.data,e),tf(t,null),tf(r.blueprint,null));const i=Cl(e,t),o=e.injectorIndex;if(Jd(i)){const s=ss(i),a=as(i,t),l=a[E].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|l[s+u]}return t[o+8]=i,o}function tf(e,t){e.push(0,0,0,0,0,0,0,0,t)}function $y(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Cl(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=Yy(i),null===r)return bi;if(n++,i=i[_i],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return bi}function nf(e,t,n){!function NR(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Qo)&&(r=n[Qo]),null==r&&(r=n[Qo]=AR++);const i=r&jy;t.data[e+(i>>Uy)]|=1<<i}(e,t,n)}function Hy(e,t,n){if(n&G.Optional||void 0!==e)return e;wd()}function Gy(e,t,n,r){if(n&G.Optional&&void 0===r&&(r=null),!(n&(G.Self|G.Host))){const i=e[ir],o=dt(void 0);try{return i?i.get(t,r,n&G.Optional):x_(t,r,n&G.Optional)}finally{dt(o)}}return Hy(r,0,n)}function zy(e,t,n,r=G.Default,i){if(null!==e){if(2048&t[V]&&!(r&G.Self)){const s=function kR(e,t,n,r,i){let o=e,s=t;for(;null!==o&&null!==s&&2048&s[V]&&!(512&s[V]);){const a=Wy(o,s,n,r|G.Self,_n);if(a!==_n)return a;let l=o.parent;if(!l){const u=s[Z_];if(u){const c=u.get(n,_n,r);if(c!==_n)return c}l=Yy(s),s=s[_i]}o=l}return i}(e,t,n,r,_n);if(s!==_n)return s}const o=Wy(e,t,n,r,_n);if(o!==_n)return o}return Gy(t,n,r,i)}function Wy(e,t,n,r,i){const o=function OR(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Qo)?e[Qo]:void 0;return"number"==typeof t?t>=0?t&jy:FR:t}(n);if("function"==typeof o){if(!Ry(t,e,r))return r&G.Host?Hy(i,0,r):Gy(t,n,r,i);try{let s;if(s=o(r),null!=s||r&G.Optional)return s;wd()}finally{Fy()}}else if("number"==typeof o){let s=null,a=$y(e,t),l=bi,u=r&G.Host?t[Te][Ye]:null;for((-1===a||r&G.SkipSelf)&&(l=-1===a?Cl(e,t):t[a+8],l!==bi&&Qy(r,!1)?(s=t[E],a=ss(l),t=as(l,t)):a=-1);-1!==a;){const c=t[E];if(qy(o,a,c.data)){const d=xR(a,t,n,s,r,u);if(d!==_n)return d}l=t[a+8],l!==bi&&Qy(r,t[E].data[a+8]===u)&&qy(o,a,t)?(s=c,a=ss(l),t=as(l,t)):a=-1}}return i}function xR(e,t,n,r,i,o){const s=t[E],a=s.data[e+8],c=function Dl(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,l=e.directiveStart,c=o>>20,f=i?a+c:e.directiveEnd;for(let h=r?a:a+c;h<f;h++){const p=s[h];if(h<l&&n===p||h>=l&&p.type===n)return h}if(i){const h=s[l];if(h&&Zt(h)&&h.type===n)return l}return null}(a,s,n,null==r?Fr(a)&&ef:r!=s&&0!=(3&a.type),i&G.Host&&o===a);return null!==c?Vr(t,s,c,a):_n}function Vr(e,t,n,r){let i=e[n];const o=t.data;if(function IR(e){return e instanceof os}(i)){const s=i;s.resolving&&function XA(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new v(-200,`Circular dependency in DI detected for ${e}${n}`)}(function ee(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():F(e)}(o[n]));const a=yl(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?dt(s.injectImpl):null;Ry(e,r,G.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function ER(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=py(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}(n,o[n],t)}finally{null!==u&&dt(u),yl(a),s.resolving=!1,Fy()}}return i}function qy(e,t,n){return!!(n[t+(e>>Uy)]&1<<e)}function Qy(e,t){return!(e&G.Self||e&G.Host&&t)}class ot{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return zy(this._tNode,this._lView,t,ol(r),n)}}function FR(){return new ot(qe(),y())}function rf(e){return Cd(e)?()=>{const t=rf(x(e));return t&&t()}:kr(e)}function Yy(e){const t=e[E],n=t.type;return 2===n?t.declTNode:1===n?e[Ye]:null}const Si="__parameters__";function Ti(e,t,n){return xn(()=>{const r=function sf(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,u,c){const d=l.hasOwnProperty(Si)?l[Si]:Object.defineProperty(l,Si,{value:[]})[Si];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function Ni(e,t){e.forEach(n=>Array.isArray(n)?Ni(n,t):t(n))}function Ky(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function El(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function It(e,t,n){let r=Ri(e,t);return r>=0?e[1|r]=n:(r=~r,function HR(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function af(e,t){const n=Ri(e,t);if(n>=0)return e[1|n]}function Ri(e,t){return function Xy(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const Il=qo(Ti("Optional"),8),Sl=qo(Ti("SkipSelf"),4);function Rl(e){return 128==(128&e.flags)}var ur=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ur||{});const ff=new Map;let hx=0;const pf="__ngContext__";function Ze(e,t){ht(t)?(e[pf]=t[Jo],function gx(e){ff.set(e[Jo],e)}(t)):e[pf]=t}let gf;function mf(e,t){return gf(e,t)}function hs(e){const t=e[ve];return nt(t)?t[ve]:t}function yv(e){return Cv(e[Ko])}function vv(e){return Cv(e[Yt])}function Cv(e){for(;null!==e&&!nt(e);)e=e[Yt];return e}function Pi(e,t,n,r,i){if(null!=r){let o,s=!1;nt(r)?o=r:ht(r)&&(s=!0,r=r[be]);const a=fe(r);0===e&&null!==n?null==i?bv(t,n,a):Br(t,n,a,i||null,!0):1===e&&null!==n?Br(t,n,a,i||null,!0):2===e?function Vl(e,t,n){const r=kl(e,t);r&&function Px(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function Lx(e,t,n,r,i){const o=n[pn];o!==fe(n)&&Pi(t,e,r,o,i);for(let a=ze;a<n.length;a++){const l=n[a];gs(l[E],l,e,t,r,o)}}(t,e,o,n,i)}}function Pl(e,t,n){return e.createElement(t,n)}function wv(e,t){const n=e[vi],r=n.indexOf(t);Dy(t),n.splice(r,1)}function Fl(e,t){if(e.length<=ze)return;const n=ze+t,r=e[n];if(r){const i=r[Xo];null!==i&&i!==e&&wv(i,r),t>0&&(e[n-1][Yt]=r[Yt]);const o=El(e,ze+t);!function Sx(e,t){gs(e,t,t[k],2,null,null),t[be]=null,t[Ye]=null}(r[E],r);const s=o[hn];null!==s&&s.detachView(o[E]),r[ve]=null,r[Yt]=null,r[V]&=-129}return r}function yf(e,t){if(!(256&t[V])){const n=t[k];t[es]&&sy(t[es]),t[ts]&&sy(t[ts]),n.destroyNode&&gs(e,t,n,3,null,null),function Ax(e){let t=e[Ko];if(!t)return vf(e[E],e);for(;t;){let n=null;if(ht(t))n=t[Ko];else{const r=t[ze];r&&(n=r)}if(!n){for(;t&&!t[Yt]&&t!==e;)ht(t)&&vf(t[E],t),t=t[ve];null===t&&(t=e),ht(t)&&vf(t[E],t),n=t&&t[Yt]}t=n}}(t)}}function vf(e,t){if(!(256&t[V])){t[V]&=-129,t[V]|=256,function Ox(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof os)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];gn(4,a,l);try{l.call(a)}finally{gn(5,a,l)}}else{gn(4,i,o);try{o.call(i)}finally{gn(5,i,o)}}}}}(e,t),function xx(e,t){const n=e.cleanup,r=t[gi];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(t[gi]=null);const i=t[or];if(null!==i){t[or]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,t),1===t[E].type&&t[k].destroy();const n=t[Xo];if(null!==n&&nt(t[ve])){n!==t[ve]&&wv(n,t);const r=t[hn];null!==r&&r.detachView(e)}!function mx(e){ff.delete(e[Jo])}(t)}}function Cf(e,t,n){return function Ev(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[be];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===qt.None||o===qt.Emulated)return null}return pt(r,n)}}(e,t.parent,n)}function Br(e,t,n,r,i){e.insertBefore(t,n,r,i)}function bv(e,t,n){e.appendChild(t,n)}function Iv(e,t,n,r,i){null!==r?Br(e,t,n,r,i):bv(e,t,n)}function kl(e,t){return e.parentNode(t)}let Df,If,jl,Tv=function Mv(e,t,n){return 40&e.type?pt(e,n):null};function Ll(e,t,n,r){const i=Cf(e,r,t),o=t[k],a=function Sv(e,t,n){return Tv(e,t,n)}(r.parent||t[Ye],r,t);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)Iv(o,i,n[l],a,!1);else Iv(o,i,n,a,!1);void 0!==Df&&Df(o,r,t,n,i)}function ps(e,t){if(null!==t){const n=t.type;if(3&n)return pt(t,e);if(4&n)return wf(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return ps(e,r);{const i=e[t.index];return nt(i)?wf(-1,i):fe(i)}}if(32&n)return mf(t,e)()||fe(e[t.index]);{const r=Nv(e,t);return null!==r?Array.isArray(r)?r[0]:ps(hs(e[Te]),r):ps(e,t.next)}}return null}function Nv(e,t){return null!==t?e[Te][Ye].projection[t.projection]:null}function wf(e,t){const n=ze+e+1;if(n<t.length){const r=t[n],i=r[E].firstChild;if(null!==i)return ps(r,i)}return t[pn]}function Ef(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===t&&(a&&Ze(fe(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)Ef(e,t,n.child,r,i,o,!1),Pi(t,e,i,a,o);else if(32&l){const u=mf(n,r);let c;for(;c=u();)Pi(t,e,i,c,o);Pi(t,e,i,a,o)}else 16&l?xv(e,t,r,n,i,o):Pi(t,e,i,a,o);n=s?n.projectionNext:n.next}}function gs(e,t,n,r,i,o){Ef(n,r,e.firstChild,t,i,o,!1)}function xv(e,t,n,r,i,o){const s=n[Te],l=s[Ye].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Pi(t,e,i,l[u],o);else{let u=l;const c=s[ve];Rl(r)&&(u.flags|=128),Ef(e,t,u,c,i,o,!0)}}function Ov(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Pv(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Od(e,t,r),null!==i&&Ov(e,t,i),null!==o&&function Bx(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}function Lv(e){return function Sf(){if(void 0===jl&&(jl=null,de.trustedTypes))try{jl=de.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return jl}()?.createScriptURL(e)||e}class Vv{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${T_})`}}function cr(e){return e instanceof Vv?e.changingThisBreaksApplicationSecurity:e}function ms(e,t){const n=function Yx(e){return e instanceof Vv&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${T_})`)}return n===t}const Jx=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Li=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Li||{});function zv(e){const t=ys();return t?t.sanitize(Li.URL,e)||"":ms(e,"URL")?cr(e):function Mf(e){return(e=String(e)).match(Jx)?e:"unsafe:"+e}(F(e))}function Wv(e){const t=ys();if(t)return Lv(t.sanitize(Li.RESOURCE_URL,e)||"");if(ms(e,"ResourceURL"))return Lv(cr(e));throw new v(904,!1)}function ys(){const e=y();return e&&e[mi].sanitizer}const vs=new I("ENVIRONMENT_INITIALIZER"),Qv=new I("INJECTOR",-1),Yv=new I("INJECTOR_DEF_TYPES");class Rf{get(t,n=Wo){if(n===Wo){const r=new Error(`NullInjectorError: No provider for ${Fe(t)}!`);throw r.name="NullInjectorError",r}return n}}function fO(...e){return{\u0275providers:Kv(0,e),\u0275fromNgModule:!0}}function Kv(e,...t){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Ni(t,s=>{const a=s;$l(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Xv(i,o),n}function Xv(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];xf(i,o=>{t(o,r)})}}function $l(e,t,n,r){if(!(e=x(e)))return!1;let i=null,o=nl(e);const s=!o&&Q(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const l=e.ngModule;if(o=nl(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of l)$l(u,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{Ni(o.imports,c=>{$l(c,t,n,r)&&(u||=[],u.push(c))})}finally{}void 0!==u&&Xv(u,t)}if(!a){const u=kr(i)||(()=>new i);t({provide:i,useFactory:u,deps:Z},i),t({provide:Yv,useValue:i,multi:!0},i),t({provide:vs,useValue:()=>T(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const u=e;xf(l,c=>{t(c,u)})}}}return i!==e&&void 0!==e.providers}function xf(e,t){for(let n of e)Dd(n)&&(n=n.\u0275providers),Array.isArray(n)?xf(n,t):t(n)}const hO=ne({provide:String,useValue:ne});function Of(e){return null!==e&&"object"==typeof e&&hO in e}function jr(e){return"function"==typeof e}const Pf=new I("Set Injector scope."),Hl={},gO={};let Ff;function Gl(){return void 0===Ff&&(Ff=new Rf),Ff}class Lt{}class Vi extends Lt{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lf(t,s=>this.processProvider(s)),this.records.set(Qv,Bi(void 0,this)),i.has("environment")&&this.records.set(Lt,Bi(void 0,this));const o=this.records.get(Pf);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Yv.multi,Z,G.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=rr(this),r=dt(void 0);try{return t()}finally{rr(n),dt(r)}}get(t,n=Wo,r=G.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(L_))return t[L_](this);r=ol(r);const o=rr(this),s=dt(void 0);try{if(!(r&G.SkipSelf)){let l=this.records.get(t);if(void 0===l){const u=function CO(e){return"function"==typeof e||"object"==typeof e&&e instanceof I}(t)&&tl(t);l=u&&this.injectableDefInScope(u)?Bi(kf(t),Hl):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(r&G.Self?Gl():this.parent).get(t,n=r&G.Optional&&n===Wo?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[il]=a[il]||[]).unshift(Fe(t)),o)throw a;return function hN(e,t,n,r){const i=e[il];throw t[P_]&&i.unshift(t[P_]),e.message=function pN(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=Fe(t);if(Array.isArray(t))i=t.map(Fe).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Fe(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(lN,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[il]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{dt(s),rr(o)}}resolveInjectorInitializers(){const t=rr(this),n=dt(void 0);try{const i=this.get(vs.multi,Z,G.Self);for(const o of i)o()}finally{rr(t),dt(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Fe(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new v(205,!1)}processProvider(t){let n=jr(t=x(t))?t:x(t&&t.provide);const r=function _O(e){return Of(e)?Bi(void 0,e.useValue):Bi(tC(e),Hl)}(t);if(jr(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Bi(void 0,Hl,!0),i.factory=()=>Nd(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Hl&&(n.value=gO,n.value=n.factory()),"object"==typeof n.value&&n.value&&function vO(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=x(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function kf(e){const t=tl(e),n=null!==t?t.factory:kr(e);if(null!==n)return n;if(e instanceof I)throw new v(204,!1);if(e instanceof Function)return function mO(e){const t=e.length;if(t>0)throw function cs(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new v(204,!1);const n=function iN(e){return e&&(e[rl]||e[N_])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new v(204,!1)}function tC(e,t,n){let r;if(jr(e)){const i=x(e);return kr(i)||kf(i)}if(Of(e))r=()=>x(e.useValue);else if(function eC(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Nd(e.deps||[]));else if(function Jv(e){return!(!e||!e.useExisting)}(e))r=()=>T(x(e.useExisting));else{const i=x(e&&(e.useClass||e.provide));if(!function yO(e){return!!e.deps}(e))return kr(i)||kf(i);r=()=>new i(...Nd(e.deps))}return r}function Bi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Lf(e,t){for(const n of e)Array.isArray(n)?Lf(n,t):n&&Dd(n)?Lf(n.\u0275providers,t):t(n)}const zl=new I("AppId",{providedIn:"root",factory:()=>DO}),DO="ng",nC=new I("Platform Initializer"),ji=new I("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),rC=new I("CSP nonce",{providedIn:"root",factory:()=>function ki(){if(void 0!==If)return If;if(typeof document<"u")return document;throw new v(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let iC=(e,t,n)=>null;function zf(e,t,n=!1){return iC(e,t,n)}class RO{}class aC{}class OO{resolveComponentFactory(t){throw function xO(e){const t=Error(`No component factory found for ${Fe(e)}.`);return t.ngComponent=e,t}(t)}}let Kl=(()=>{class e{static#e=this.NULL=new OO}return e})();function PO(){return Hi(qe(),y())}function Hi(e,t){return new St(pt(e,t))}let St=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=PO}return e})();class uC{}let Vn=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function kO(){const e=y(),n=bt(qe().index,e);return(ht(n)?n:e)[k]}()}return e})(),LO=(()=>{class e{static#e=this.\u0275prov=M({token:e,providedIn:"root",factory:()=>null})}return e})();class ws{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const VO=new ws("16.2.12"),Qf={};function hC(e,t=null,n=null,r){const i=pC(e,t,n,r);return i.resolveInjectorInitializers(),i}function pC(e,t=null,n=null,r,i=new Set){const o=[n||Z,fO(e)];return r=r||("object"==typeof e?void 0:Fe(e)),new Vi(o,t||Gl(),r||null,i)}let Mt=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Wo;static#t=this.NULL=new Rf;static create(n,r){if(Array.isArray(n))return hC({name:""},r,n,"");{const i=n.name??"";return hC({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=M({token:e,providedIn:"any",factory:()=>T(Qv)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function Zf(e){return e.ngOriginalError}class Bn{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Zf(t);for(;n&&Zf(n);)n=Zf(n);return n||null}}function Xf(e){return t=>{setTimeout(e,void 0,t)}}const Ie=class zO extends zt{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&"object"==typeof t){const l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Xf(o),i&&(i=Xf(i)),s&&(s=Xf(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof Ct&&t.add(a),a}};function mC(...e){}class he{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ie(!1),this.onMicrotaskEmpty=new Ie(!1),this.onStable=new Ie(!1),this.onError=new Ie(!1),typeof Zone>"u")throw new v(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function WO(){const e="function"==typeof de.requestAnimationFrame;let t=de[e?"requestAnimationFrame":"setTimeout"],n=de[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function YO(e){const t=()=>{!function QO(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(de,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,eh(e),e.isCheckStableRunning=!0,Jf(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),eh(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function KO(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return _C(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),yC(e)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return _C(e),n.invoke(i,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),yC(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,eh(e),Jf(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!he.isInAngularZone())throw new v(909,!1)}static assertNotInAngularZone(){if(he.isInAngularZone())throw new v(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,qO,mC,mC);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const qO={};function Jf(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function eh(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function _C(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function yC(e){e._nesting--,Jf(e)}class ZO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ie,this.onMicrotaskEmpty=new Ie,this.onStable=new Ie,this.onError=new Ie}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const vC=new I("",{providedIn:"root",factory:CC});function CC(){const e=b(he);let t=!0;return function QA(...e){const t=zo(e),n=function UA(e,t){return"number"==typeof _d(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Dt(r[0]):fi(n)(je(r,t)):ln}(new Re(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),new Re(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const s=e.onUnstable.subscribe(()=>{he.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(M_()))}function jn(e){return e instanceof Function?e():e}let th=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=M({token:e,providedIn:"root",factory:()=>new e})}return e})();function Es(e){for(;e;){e[V]|=64;const t=hs(e);if(kd(e)&&!t)return e;e=t}return null}const IC=new I("",{providedIn:"root",factory:()=>!1});let Jl=null;function AC(e,t){return e[t]??xC()}function NC(e,t){const n=xC();n.producerNode?.length&&(e[t]=Jl,n.lView=e,Jl=RC())}const aP={...ey,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Es(e.lView)},lView:null};function RC(){return Object.create(aP)}function xC(){return Jl??=RC(),Jl}const L={};function bs(e){OC(Y(),y(),it()+e,!1)}function OC(e,t,n,r){if(!r)if(3==(3&t[V])){const o=e.preOrderCheckHooks;null!==o&&ml(t,o,n)}else{const o=e.preOrderHooks;null!==o&&_l(t,o,0,n)}Lr(n)}function D(e,t=G.Default){const n=y();return null===n?T(e,t):zy(qe(),n,x(e),t)}function eu(e,t,n,r,i,o,s,a,l,u,c){const d=t.blueprint.slice();return d[be]=i,d[V]=140|r,(null!==u||e&&2048&e[V])&&(d[V]|=2048),Cy(d),d[ve]=d[_i]=e,d[Me]=n,d[mi]=s||e&&e[mi],d[k]=a||e&&e[k],d[ir]=l||e&&e[ir]||null,d[Ye]=o,d[Jo]=function px(){return hx++}(),d[Pn]=c,d[Z_]=u,d[Te]=2==t.type?e[Te]:d,d}function Wi(e,t,n,r,i){let o=e.data[t];if(null===o)o=function nh(e,t,n,r,i){const o=Sy(),s=Gd(),l=e.data[t]=function gP(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return function wi(){return null!==R.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(e,t,n,r,i),function hR(){return R.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function is(){const e=R.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return mn(o,!0),o}function Is(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function FC(e,t,n,r,i){const o=AC(t,es),s=it(),a=2&r;try{Lr(-1),a&&t.length>z&&OC(e,t,z,!1),gn(a?2:0,i);const u=a?o:null,c=Vd(u);try{null!==u&&(u.dirty=!1),n(r,i)}finally{Bd(u,c)}}finally{a&&null===t[es]&&NC(t,es),Lr(s),gn(a?3:1,i)}}function rh(e,t,n){if(Fd(t)){const r=Pt(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Pt(r)}}}function kC(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=sh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function sh(e,t,n,r,i,o,s,a,l,u,c){const d=z+r,f=d+i,h=function uP(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:L);return n}(d,f),p="function"==typeof u?u():u;return h[E]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:c}}let LC=e=>null;function VC(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const o=e[i];null===r?BC(n,t,i,o):r.hasOwnProperty(i)&&BC(n,t,r[i],o)}return n}function BC(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function jC(e,t,n,r,i,o){for(let u=0;u<r.length;u++)nf(vl(n,t),e,r[u].type);!function MP(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let u=0;u<r.length;u++){const c=r[u];c.providersResolver&&c.providersResolver(c)}let s=!1,a=!1,l=Is(e,t,r.length,null);for(let u=0;u<r.length;u++){const c=r[u];n.mergedAttrs=Yo(n.mergedAttrs,c.hostAttrs),TP(e,n,t,l,c),SP(l,c,i),null!==c.contentQueries&&(n.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(n.flags|=64);const d=c.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function mP(e,t,n){const i=t.directiveEnd,o=e.data,s=t.attrs,a=[];let l=null,u=null;for(let c=t.directiveStart;c<i;c++){const d=o[c],f=n?n.get(d):null,p=f?f.outputs:null;l=VC(d.inputs,c,l,f?f.inputs:null),u=VC(d.outputs,c,u,p);const g=null===l||null===s||H_(t)?null:RP(l,c,s);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=u}(e,n,o)}function UC(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function gR(){return R.lFrame.currentDirectiveIndex}();try{Lr(o);for(let a=r;a<i;a++){const l=e.data[a],u=t[a];Wd(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&EP(l,u)}}finally{Lr(-1),Wd(s)}}function EP(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function lh(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function SP(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Zt(t)&&(n[""]=e)}}function TP(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=kr(i.type)),s=new os(o,Zt(i),D);e.blueprint[r]=s,n[r]=s,function CP(e,t,n,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function DP(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(e,t,r,Is(e,n,i.hostVars,L),i)}function yn(e,t,n,r,i,o){const s=pt(e,t);!function uh(e,t,n,r,i,o,s){if(null==o)e.removeAttribute(t,i,n);else{const a=null==s?F(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}(t[k],s,o,e.value,n,r,i)}function NP(e,t,n,r,i,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)$C(r,n,s[a++],s[a++],s[a++])}function $C(e,t,n,r,i){const o=Pt(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(t,i)),null!==e.setInput?e.setInput(t,i,n,r):t[r]=i}finally{Pt(o)}}function RP(e,t,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function GC(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=e.data[o];Qd(n[r]),s.contentQueries(2,t[o],o)}}}function tu(e,t){return e[Ko]?e[Y_][Yt]=t:e[Ko]=t,e[Y_]=t,t}function ch(e,t,n){Qd(0);const r=Pt(null);try{t(e,n)}finally{Pt(r)}}function QC(e,t){const n=e[ir],r=n?n.get(Bn,null):null;r&&r.handleError(t)}function dh(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];$C(e.data[s],t[s],r,a,i)}}function xP(e,t){const n=bt(t,e),r=n[E];!function OP(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[be];null!==i&&null===n[Pn]&&(n[Pn]=zf(i,n[ir])),fh(r,n,n[Me])}function fh(e,t,n){Yd(t);try{const r=e.viewQuery;null!==r&&ch(1,r,n);const i=e.template;null!==i&&FC(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&GC(e,t),e.staticViewQueries&&ch(2,e.viewQuery,n);const o=e.components;null!==o&&function PP(e,t){for(let n=0;n<t.length;n++)xP(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[V]&=-5,Zd()}}let YC=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function HN(e,t,n){const r=Object.create(GN);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>iy(r),run:()=>{if(r.dirty=!1,r.hasRun&&!oy(r))return;r.hasRun=!0;const s=Vd(r);try{r.cleanupFn(),r.cleanupFn=hy,r.fn(i)}finally{Bd(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(n,u=>{this.all.has(u)&&this.queue.set(u,o)},i);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=M({token:e,providedIn:"root",factory:()=>new e})}return e})();function nu(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=vd(i,a):2==o&&(r=vd(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function Ss(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];null!==o&&r.push(fe(o)),nt(o)&&ZC(o,r);const s=n.type;if(8&s)Ss(e,t,n.child,r);else if(32&s){const a=mf(n,t);let l;for(;l=a();)r.push(l)}else if(16&s){const a=Nv(t,n);if(Array.isArray(a))r.push(...a);else{const l=hs(t[Te]);Ss(l[E],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function ZC(e,t){for(let n=ze;n<e.length;n++){const r=e[n],i=r[E].firstChild;null!==i&&Ss(r[E],r,i,t)}e[pn]!==e[be]&&t.push(e[pn])}function ru(e,t,n,r=!0){const i=t[mi],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{KC(e,t,e.template,n)}catch(l){throw r&&QC(t,l),l}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function KC(e,t,n,r){const i=t[V];if(256!=(256&i)){t[mi].effectManager?.flush(),Yd(t);try{Cy(t),function Ty(e){return R.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&FC(e,t,n,2,r);const s=3==(3&i);if(s){const u=e.preOrderCheckHooks;null!==u&&ml(t,u,null)}else{const u=e.preOrderHooks;null!==u&&_l(t,u,0,null),Kd(t,0)}if(function LP(e){for(let t=yv(e);null!==t;t=vv(t)){if(!t[K_])continue;const n=t[vi];for(let r=0;r<n.length;r++){eR(n[r])}}}(t),XC(t,2),null!==e.contentQueries&&GC(e,t),s){const u=e.contentCheckHooks;null!==u&&ml(t,u)}else{const u=e.contentHooks;null!==u&&_l(t,u,1),Kd(t,1)}!function lP(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=AC(t,ts);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)Lr(~o);else{const s=o,a=n[++i],l=n[++i];pR(a,s),r.dirty=!1;const u=Vd(r);try{l(2,t[s])}finally{Bd(r,u)}}}}finally{null===t[ts]&&NC(t,ts),Lr(-1)}}(e,t);const a=e.components;null!==a&&eD(t,a,0);const l=e.viewQuery;if(null!==l&&ch(2,l,r),s){const u=e.viewCheckHooks;null!==u&&ml(t,u)}else{const u=e.viewHooks;null!==u&&_l(t,u,2),Kd(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[V]&=-73,Dy(t)}finally{Zd()}}}function XC(e,t){for(let n=yv(e);null!==n;n=vv(n))for(let r=ze;r<n.length;r++)JC(n[r],t)}function VP(e,t,n){JC(bt(t,e),n)}function JC(e,t){if(!function XN(e){return 128==(128&e[V])}(e))return;const n=e[E],r=e[V];if(80&r&&0===t||1024&r||2===t)KC(n,e,n.template,e[Me]);else if(e[Zo]>0){XC(e,1);const i=n.components;null!==i&&eD(e,i,1)}}function eD(e,t,n){for(let r=0;r<t.length;r++)VP(e,t[r],n)}class Ms{get rootNodes(){const t=this._lView,n=t[E];return Ss(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Me]}set context(t){this._lView[Me]=t}get destroyed(){return 256==(256&this._lView[V])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[ve];if(nt(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Fl(t,r),El(n,r))}this._attachedToViewContainer=!1}yf(this._lView[E],this._lView)}onDestroy(t){!function Ey(e,t){if(256==(256&e[V]))throw new v(911,!1);null===e[or]&&(e[or]=[]),e[or].push(t)}(this._lView,t)}markForCheck(){Es(this._cdRefInjectingView||this._lView)}detach(){this._lView[V]&=-129}reattach(){this._lView[V]|=128}detectChanges(){ru(this._lView[E],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new v(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Tx(e,t){gs(e,t,t[k],2,null,null)}(this._lView[E],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new v(902,!1);this._appRef=t}}class BP extends Ms{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;ru(t[E],t,t[Me],!1)}checkNoChanges(){}get context(){return null}}class tD extends Kl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Q(t);return new Ts(n,this.ngModule)}}function nD(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class UP{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=ol(r);const i=this.injector.get(t,Qf,r);return i!==Qf||n===Qf?i:this.parentInjector.get(t,n,r)}}class Ts extends aC{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=nD(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return nD(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function bN(e){return e.map(EN).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=(i=i||this.ngModule)instanceof Lt?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new UP(t,o):t,a=s.get(uC,null);if(null===a)throw new v(407,!1);const d={rendererFactory:a,sanitizer:s.get(LO,null),effectManager:s.get(YC,null),afterRenderEventManager:s.get(th,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function cP(e,t,n,r){const o=r.get(IC,!1)||n===qt.ShadowDom,s=e.selectRootElement(t,o);return function dP(e){LC(e)}(s),s}(f,r,this.componentDef.encapsulation,s):Pl(f,h,function jP(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(h)),C=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let m=null;null!==p&&(m=zf(p,s,!0));const S=sh(0,null,null,1,0,null,null,null,null,null,null),A=eu(null,S,null,C,null,null,d,f,s,null,m);let q,vt;Yd(A);try{const er=this.componentDef;let Uo,e_=null;er.findHostDirectiveDefs?(Uo=[],e_=new Map,er.findHostDirectiveDefs(er,Uo,e_),Uo.push(er)):Uo=[er];const w4=function HP(e,t){const n=e[E],r=z;return e[r]=t,Wi(n,r,2,"#host",null)}(A,p),E4=function GP(e,t,n,r,i,o,s){const a=i[E];!function zP(e,t,n,r){for(const i of e)t.mergedAttrs=Yo(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(nu(t,t.mergedAttrs,!0),null!==n&&Pv(r,n,t))}(r,e,t,s);let l=null;null!==t&&(l=zf(t,i[ir]));const u=o.rendererFactory.createRenderer(t,n);let c=16;n.signals?c=4096:n.onPush&&(c=64);const d=eu(i,kC(n),null,c,i[e.index],e,o,u,null,null,l);return a.firstCreatePass&&lh(a,e,r.length-1),tu(i,d),i[e.index]=d}(w4,p,er,Uo,A,d,f);vt=vy(S,z),p&&function qP(e,t,n,r){if(r)Od(e,n,["ng-version",VO.full]);else{const{attrs:i,classes:o}=function IN(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Qt(i))break;i=o}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&Od(e,n,i),o&&o.length>0&&Ov(e,n,o.join(" "))}}(f,er,p,r),void 0!==n&&function QP(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(vt,this.ngContentSelectors,n),q=function WP(e,t,n,r,i,o){const s=qe(),a=i[E],l=pt(s,i);jC(a,i,s,n,null,r);for(let c=0;c<n.length;c++)Ze(Vr(i,a,s.directiveStart+c,s),i);UC(a,i,s),l&&Ze(l,i);const u=Vr(i,a,s.directiveStart+s.componentOffset,s);if(e[Me]=i[Me]=u,null!==o)for(const c of o)c(u,t);return rh(a,s,e),u}(E4,er,Uo,e_,A,[YP]),fh(S,A,null)}finally{Zd()}return new $P(this.componentType,q,Hi(vt,A),A,vt)}}class $P extends RO{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new BP(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;dh(o[E],o,i,t,n),this.previousInputValues.set(t,n),Es(bt(this._tNode.index,o))}}get injector(){return new ot(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function YP(){const e=qe();gl(y()[E],e)}function re(e){let t=function rD(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(Zt(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new v(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const s=e;s.inputs=iu(e.inputs),s.inputTransforms=iu(e.inputTransforms),s.declaredInputs=iu(e.declaredInputs),s.outputs=iu(e.outputs);const a=i.hostBindings;a&&JP(e,a);const l=i.viewQuery,u=i.contentQueries;if(l&&KP(e,l),u&&XP(e,u),Ja(e.inputs,i.inputs),Ja(e.declaredInputs,i.declaredInputs),Ja(e.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Ja(s.inputTransforms,i.inputTransforms)),Zt(i)&&i.data.animation){const c=e.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===re&&(n=!1)}}t=Object.getPrototypeOf(t)}!function ZP(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Yo(i.hostAttrs,n=Yo(n,i.hostAttrs))}}(r)}function iu(e){return e===cn?{}:e===Z?[]:e}function KP(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function XP(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,o)=>{t(r,i,o),n(r,i,o)}:t}function JP(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}function aD(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}e.inputTransforms=n}function Ke(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Cn(e,t,n,r){const i=y();return Ke(i,Ei(),t)&&(Y(),yn(we(),i,e,t,n,r)),Cn}function no(e,t,n){const r=y();return Ke(r,Ei(),t)&&function Tt(e,t,n,r,i,o,s,a){const l=pt(t,n);let c,u=t.inputs;!a&&null!=u&&(c=u[r])?(dh(e,n,c,r,i),Fr(t)&&function yP(e,t){const n=bt(t,e);16&n[V]||(n[V]|=64)}(n,t.index)):3&t.type&&(r=function _P(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,o.setProperty(l,r,i))}(Y(),we(),r,e,t,r[k],n,!1),no}function vh(e,t,n,r,i){const s=i?"class":"style";dh(e,n,t.inputs[s],s,r)}function se(e,t,n,r){const i=y(),o=Y(),s=z+e,a=i[k],l=o.firstCreatePass?function NF(e,t,n,r,i,o){const s=t.consts,l=Wi(t,e,2,r,ar(s,i));return function ah(e,t,n,r){if(Iy()){const i=null===r?null:{"":-1},o=function bP(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(G_(t,s.selectors,!1))if(r||(r=[]),Zt(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),lh(e,t,a.length)}else r.unshift(s),lh(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&jC(e,t,n,s,i,a),i&&function IP(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new v(-301,!1);r.push(t[i],o)}}}(n,r,i)}n.mergedAttrs=Yo(n.mergedAttrs,n.attrs)}(t,n,l,ar(s,o)),null!==l.attrs&&nu(l,l.attrs,!1),null!==l.mergedAttrs&&nu(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,i,t,n,r):o.data[s],u=wD(o,i,l,a,t,e);i[s]=u;const c=cl(l);return mn(l,!0),Pv(a,u,l),32!=(32&l.flags)&&pl()&&Ll(o,i,u,l),0===function nR(){return R.lFrame.elementDepthCount}()&&Ze(u,i),function rR(){R.lFrame.elementDepthCount++}(),c&&(function ih(e,t,n){Iy()&&(function wP(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;Fr(n)&&function AP(e,t,n){const r=pt(t,e),i=kC(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=tu(e,eu(e,i,null,s,r,t,null,e[mi].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||vl(n,t),Ze(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const l=e.data[a],u=Vr(t,e,a,n);Ze(u,t),null!==s&&NP(0,a-i,u,l,0,s),Zt(l)&&(bt(n.index,t)[Me]=Vr(t,e,a,n))}}(e,t,n,pt(n,t)),64==(64&n.flags)&&UC(e,t,n))}(o,i,l),rh(o,l,i)),null!==r&&function oh(e,t,n=pt){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}(i,l),se}function W(){let e=qe();Gd()?function zd(){R.lFrame.isParent=!1}():(e=e.parent,mn(e,!1));const t=e;(function oR(e){return R.skipHydrationRootTNode===e})(t)&&function uR(){R.skipHydrationRootTNode=null}(),function iR(){R.lFrame.elementDepthCount--}();const n=Y();return n.firstCreatePass&&(gl(n,e),Fd(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function SR(e){return 0!=(8&e.flags)}(t)&&vh(n,t,y(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function MR(e){return 0!=(16&e.flags)}(t)&&vh(n,t,y(),t.stylesWithoutHost,!1),W}function Le(e,t,n,r){return se(e,t,n,r),W(),Le}let wD=(e,t,n,r,i,o)=>(lr(!0),Pl(r,i,function ky(){return R.lFrame.currentNamespace}()));function Os(e){return!!e&&"function"==typeof e.then}function ID(e){return!!e&&"function"==typeof e.subscribe}function Bt(e,t,n,r){const i=y(),o=Y(),s=qe();return function MD(e,t,n,r,i,o,s){const a=cl(r),u=e.firstCreatePass&&function WC(e){return e.cleanup||(e.cleanup=[])}(e),c=t[Me],d=function zC(e){return e[gi]||(e[gi]=[])}(t);let f=!0;if(3&r.type||s){const g=pt(r,t),_=s?s(g):g,C=d.length,m=s?A=>s(fe(A[r.index])):r.index;let S=null;if(!s&&a&&(S=function LF(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=t[gi],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==S)(S.__ngLastListenerFn__||S).__ngNextListenerFn__=o,S.__ngLastListenerFn__=o,f=!1;else{o=AD(r,t,c,o,!1);const A=n.listen(_,i,o);d.push(o,A),u&&u.push(i,m,C,C+1)}}else o=AD(r,t,c,o,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let _=0;_<g;_+=2){const q=t[p[_]][p[_+1]].subscribe(o),vt=d.length;d.push(o,q),u&&u.push(i,r.index,vt,-(vt+1))}}}(o,i,i[k],s,e,t,r),Bt}function TD(e,t,n,r){try{return gn(6,t,n),!1!==n(r)}catch(i){return QC(e,i),!1}finally{gn(7,t,n)}}function AD(e,t,n,r,i){return function o(s){if(s===Function)return r;Es(e.componentOffset>-1?bt(e.index,t):t);let l=TD(t,n,r,s),u=o.__ngNextListenerFn__;for(;u;)l=TD(t,n,u,s)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function cu(e,t){return e<<17|t<<2}function dr(e){return e>>17&32767}function Eh(e){return 2|e}function $r(e){return(131068&e)>>2}function bh(e,t){return-131069&e|t<<2}function Ih(e){return 1|e}function BD(e,t,n,r,i){const o=e[n+1],s=null===t;let a=r?dr(o):$r(o),l=!1;for(;0!==a&&(!1===l||s);){const c=e[a+1];qF(e[a],t)&&(l=!0,e[a+1]=r?Ih(c):Eh(c)),a=r?dr(c):$r(c)}l&&(e[n+1]=r?Eh(o):Ih(o))}function qF(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ri(e,t)>=0}function du(e,t){return function Kt(e,t,n,r){const i=y(),o=Y(),s=function kn(e){const t=R.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);o.firstUpdatePass&&function QD(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[it()],s=function qD(e,t){return t>=e.expandoStartIndex}(e,n);(function XD(e,t){return 0!=(e.flags&(t?8:16))})(o,r)&&null===t&&!s&&(t=!1),t=function nk(e,t,n,r){const i=function qd(e){const t=R.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Ps(n=Sh(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=Sh(i,e,t,n,r),null===o){let l=function rk(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==$r(r))return e[dr(r)]}(e,t,r);void 0!==l&&Array.isArray(l)&&(l=Sh(null,e,t,l[1],r),l=Ps(l,t.attrs,r),function ik(e,t,n,r){e[dr(n?t.classBindings:t.styleBindings)]=r}(e,t,r,l))}else o=function ok(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=Ps(r,e[o].hostAttrs,n);return Ps(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function zF(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=dr(s),l=$r(s);e[r]=n;let c,u=!1;if(Array.isArray(n)?(c=n[1],(null===c||Ri(n,c)>0)&&(u=!0)):c=n,i)if(0!==l){const f=dr(e[a+1]);e[r+1]=cu(f,a),0!==f&&(e[f+1]=bh(e[f+1],r)),e[a+1]=function HF(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=cu(a,0),0!==a&&(e[a+1]=bh(e[a+1],r)),a=r;else e[r+1]=cu(l,0),0===a?a=r:e[l+1]=bh(e[l+1],r),l=r;u&&(e[r+1]=Eh(e[r+1])),BD(e,c,r,!0),BD(e,c,r,!1),function WF(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&Ri(o,t)>=0&&(n[r+1]=Ih(n[r+1]))}(t,c,e,r,o),s=cu(a,l),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}(o,e,s,r),t!==L&&Ke(i,s,t)&&function ZD(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const l=e.data,u=l[a+1],c=function GF(e){return 1==(1&e)}(u)?KD(l,t,n,i,$r(u),s):void 0;fu(c)||(fu(o)||function $F(e){return 2==(2&e)}(u)&&(o=KD(l,null,n,i,a,s)),function Vx(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:ur.DashCase;null==i?e.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ur.Important),e.setStyle(n,r,i,o))}}(r,s,function hl(e,t){return fe(t[e])}(it(),n),i,o))}(o,o.data[it()],i,i[k],e,i[s+1]=function uk(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Fe(cr(e)))),e}(t,n),r,s)}(e,t,null,!0),du}function Sh(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=Ps(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Ps(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),It(e,s,!!n||t[++o]))}return void 0===e?null:e}function KD(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const l=e[i],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let f=n[i+1];f===L&&(f=d?Z:void 0);let h=d?af(f,r):c===r?f:void 0;if(u&&!fu(h)&&(h=af(l,r)),fu(h)&&(a=h,s))return a;const p=e[i+1];i=s?dr(p):$r(p)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=af(l,r))}return a}function fu(e){return void 0!==e}function Ae(e,t=""){const n=y(),r=Y(),i=e+z,o=r.firstCreatePass?Wi(r,i,1,t,null):r.data[i],s=JD(r,n,o,t,e);n[i]=s,pl()&&Ll(r,n,s,o),mn(o,!1)}let JD=(e,t,n,r,i)=>(lr(!0),function Ol(e,t){return e.createText(t)}(t[k],r));const oo="en-US";let ww=oo;function Nh(e,t,n,r,i){if(e=x(e),Array.isArray(e))for(let o=0;o<e.length;o++)Nh(e[o],t,n,r,i);else{const o=Y(),s=y(),a=qe();let l=jr(e)?e:x(e.provide);const u=tC(e),c=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(jr(e)||!e.multi){const h=new os(u,i,D),p=xh(l,t,i?c:c+f,d);-1===p?(nf(vl(a,s),o,l),Rh(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{const h=xh(l,t,c+f,d),p=xh(l,t,c,c+f),_=p>=0&&n[p];if(i&&!_||!i&&!(h>=0&&n[h])){nf(vl(a,s),o,l);const C=function N1(e,t,n,r,i){const o=new os(e,n,D);return o.multi=[],o.index=t,o.componentProviders=0,qw(o,i,r&&!n),o}(i?A1:T1,n.length,i,r,u);!i&&_&&(n[p].providerFactory=C),Rh(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(C),s.push(C)}else Rh(o,e,h>-1?h:p,qw(n[i?p:h],u,!i&&r));!i&&r&&_&&n[p].componentProviders++}}}function Rh(e,t,n,r){const i=jr(t),o=function pO(e){return!!e.useClass}(t);if(i||o){const l=(o?x(t.useClass):t).prototype.ngOnDestroy;if(l){const u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const c=u.indexOf(n);-1===c?u.push(n,[r,l]):u[c+1].push(r,l)}else u.push(n,l)}}}function qw(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function xh(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function T1(e,t,n,r){return Oh(this.multi,[])}function A1(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Vr(n,n[E],this.providerFactory.index,r);o=a.slice(0,s),Oh(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Oh(i,o);return o}function Oh(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Ce(e,t=[]){return n=>{n.providersResolver=(r,i)=>function M1(e,t,n){const r=Y();if(r.firstCreatePass){const i=Zt(e);Nh(n,r.data,r.blueprint,i,!0),Nh(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class Gr{}class Qw{}class Ph extends Gr{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tD(this);const i=Et(t);this._bootstrapComponents=jn(i.bootstrap),this._r3Injector=pC(t,n,[{provide:Gr,useValue:this},{provide:Kl,useValue:this.componentFactoryResolver},...r],Fe(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Fh extends Qw{constructor(t){super(),this.moduleType=t}create(t){return new Ph(this.moduleType,t,[])}}class Yw extends Gr{constructor(t){super(),this.componentFactoryResolver=new tD(this),this.instance=null;const n=new Vi([...t.providers,{provide:Gr,useValue:this},{provide:Kl,useValue:this.componentFactoryResolver}],t.parent||Gl(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function kh(e,t,n=null){return new Yw({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let O1=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Kv(0,n.type),i=r.length>0?kh([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=M({token:e,providedIn:"environment",factory:()=>new e(T(Lt))})}return e})();function Zw(e){e.getStandaloneInjector=t=>t.get(O1).getOrCreateStandaloneInjector(e)}function js(e,t,n){const r=function rt(){const e=R.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}()+e,i=y();return i[r]===L?function vn(e,t,n){return e[t]=n}(i,r,n?t.call(n):t()):function As(e,t){return e[t]}(i,r)}function sL(e,t,n,r=!0){const i=t[E];if(function Nx(e,t,n,r){const i=ze+r,o=n.length;r>0&&(n[i-1][Yt]=t),r<o-ze?(t[Yt]=n[i],Ky(n,ze+r,t)):(n.push(t),t[Yt]=null),t[ve]=n;const s=t[Xo];null!==s&&n!==s&&function Rx(e,t){const n=e[vi];t[Te]!==t[ve][ve][Te]&&(e[K_]=!0),null===n?e[vi]=[t]:n.push(t)}(s,t);const a=t[hn];null!==a&&a.insertView(e),t[V]|=128}(i,t,e,n),r){const o=wf(n,e),s=t[k],a=kl(s,e[pn]);null!==a&&function Mx(e,t,n,r,i,o){r[be]=i,r[Ye]=t,gs(e,r,n,1,i,o)}(i,e[Ye],s,t,a,o)}}Symbol;let Jt=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=gL}return e})();function gL(){return function pE(e,t){let n;const r=t[e.index];return nt(r)?n=r:(n=function HC(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}(r,t,null,e),t[e.index]=n,tu(t,n)),gE(n,t,e,r),new fE(n,e,t)}(qe(),y())}const mL=Jt,fE=class extends mL{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Hi(this._hostTNode,this._hostLView)}get injector(){return new ot(this._hostTNode,this._hostLView)}get parentInjector(){const t=Cl(this._hostTNode,this._hostLView);if(Jd(t)){const n=as(t,this._hostLView),r=ss(t);return new ot(n[E].data[r+8],n)}return new ot(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=hE(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-ze}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=t.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(t,n,r,i,o){const s=t&&!function us(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const l=s?t:new Ts(Q(t)),u=r||this.parentInjector;if(!o&&null==l.ngModule){const _=(s?u:this.parentInjector).get(Lt,null);_&&(o=_)}Q(l.componentType??{});const h=l.create(u,i,null,o);return this.insertImpl(h.hostView,a,false),h}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const i=t._lView;if(function JN(e){return nt(e[ve])}(i)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const u=i[ve],c=new fE(u,u[Ye],u[ve]);c.detach(c.indexOf(t))}}const s=this._adjustIndex(n),a=this._lContainer;return sL(a,i,s,!r),t.attachToViewContainerRef(),Ky(Bh(a),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=hE(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Fl(this._lContainer,n);r&&(El(Bh(this._lContainer),n),yf(r[E],r))}detach(t){const n=this._adjustIndex(t,-1),r=Fl(this._lContainer,n);return r&&null!=El(Bh(this._lContainer),n)?new Ms(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function hE(e){return e[8]}function Bh(e){return e[8]||(e[8]=[])}let gE=function mE(e,t,n,r){if(e[pn])return;let i;i=8&n.type?fe(r):function _L(e,t){const n=e[k],r=n.createComment(""),i=pt(t,e);return Br(n,kl(n,i),r,function Fx(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[pn]=i};const Zh=new I("Application Initializer");let Kh=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=b(Zh,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(Os(o))n.push(o);else if(ID(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),UE=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Hn=new I("LocaleId",{providedIn:"root",factory:()=>b(Hn,G.Optional|G.SkipSelf)||function QL(){return typeof $localize<"u"&&$localize.locale||oo}()});let $E=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new xt(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class KL{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let HE=(()=>{class e{compileModuleSync(n){return new Fh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=jn(Et(n).declarations).reduce((s,a)=>{const l=Q(a);return l&&s.push(new Ts(l)),s},[]);return new KL(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const qE=new I(""),Du=new I("");let np,ep=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,np||(function vV(e){np=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(T(he),T(tp),T(Du))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),tp=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return np?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),fr=null;const QE=new I("AllowMultipleToken"),rp=new I("PlatformDestroyListeners"),ip=new I("appBootstrapListener");class ZE{constructor(t,n){this.name=t,this.token=n}}function XE(e,t,n=[]){const r=`Platform: ${t}`,i=new I(r);return(o=[])=>{let s=op();if(!s||s.injector.get(QE,!1)){const a=[...n,...o,{provide:i,useValue:!0}];e?e(a):function wV(e){if(fr&&!fr.get(QE,!1))throw new v(400,!1);(function YE(){!function VN(e){uy=e}(()=>{throw new v(600,!1)})})(),fr=e;const t=e.get(eb);(function KE(e){e.get(nC,null)?.forEach(n=>n())})(e)}(function JE(e=[],t){return Mt.create({name:t,providers:[{provide:Pf,useValue:"platform"},{provide:rp,useValue:new Set([()=>fr=null])},...e]})}(a,r))}return function bV(e){const t=op();if(!t)throw new v(401,!1);return t}()}}function op(){return fr?.get(eb)??null}let eb=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function IV(e="zone.js",t){return"noop"===e?new ZO:"zone.js"===e?new he(t):e}(r?.ngZone,function tb(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function x1(e,t,n){return new Ph(e,t,n)}(n.moduleType,this.injector,function sb(e){return[{provide:he,useFactory:e},{provide:vs,multi:!0,useFactory:()=>{const t=b(MV,{optional:!0});return()=>t.initialize()}},{provide:ob,useFactory:SV},{provide:vC,useFactory:CC}]}(()=>i)),s=o.injector.get(Bn,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{wu(this._modules,o),a.unsubscribe()})}),function nb(e,t,n){try{const r=n();return Os(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Kh);return a.runInitializers(),a.donePromise.then(()=>(function Ew(e){Ot(e,"Expected localeId to be defined"),"string"==typeof e&&(ww=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Hn,oo)||oo),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=rb({},r);return function CV(e,t,n){const r=new Fh(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(lo);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new v(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new v(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(rp,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(T(Mt))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function rb(e,t){return Array.isArray(t)?t.reduce(rb,e):{...e,...t}}let lo=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=b(ob),this.zoneIsStable=b(vC),this.componentTypes=[],this.components=[],this.isStable=b($E).hasPendingTasks.pipe(un(n=>n?P(!1):this.zoneIsStable),function YA(e,t=tr){return e=e??ZA,Pe((n,r)=>{let i,o=!0;n.subscribe(xe(r,s=>{const a=t(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}(),M_()),this._injector=b(Lt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof aC;if(!this._injector.get(Kh).done)throw!i&&function pi(e){const t=Q(e)||Ge(e)||tt(e);return null!==t&&t.standalone}(n),new v(405,!1);let s;s=i?n:this._injector.get(Kl).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function DV(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Gr),u=s.create(Mt.NULL,[],r||s.selector,a),c=u.location.nativeElement,d=u.injector.get(qE,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),wu(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new v(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;wu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(ip,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>wu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new v(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function wu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ob=new I("",{providedIn:"root",factory:()=>b(Bn).handleError.bind(void 0)});function SV(){const e=b(he),t=b(Bn);return n=>e.runOutsideAngular(()=>t.handleError(n))}let MV=(()=>{class e{constructor(){this.zone=b(he),this.applicationRef=b(lo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let Eu=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=AV}return e})();function AV(e){return function NV(e,t,n){if(Fr(e)&&!n){const r=bt(e.index,t);return new Ms(r,r)}return 47&e.type?new Ms(t[Te],t):null}(qe(),y(),16==(16&e))}const HV=XE(null,"core",[]);let GV=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||e)(T(lo))};static#t=this.\u0275mod=fn({type:e});static#n=this.\u0275inj=Wt({})}return e})();function uo(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let dp=null;function hr(){return dp}class i2{}const jt=new I("DocumentToken");let fp=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:function(){return b(s2)},providedIn:"platform"})}return e})();const o2=new I("Location Initialized");let s2=(()=>{class e extends fp{constructor(){super(),this._doc=b(jt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hr().getBaseHref(this._doc)}onPopState(n){const r=hr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=hr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function hp(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function bb(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Gn(e){return e&&"?"!==e[0]?"?"+e:e}let Wr=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:function(){return b(Sb)},providedIn:"root"})}return e})();const Ib=new I("appBaseHref");let Sb=(()=>{class e extends Wr{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??b(jt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return hp(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Gn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Gn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Gn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(T(fp),T(Ib,8))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),a2=(()=>{class e extends Wr{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=hp(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Gn(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Gn(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(T(fp),T(Ib,8))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),pp=(()=>{class e{constructor(n){this._subject=new Ie,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function c2(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(bb(Mb(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Gn(r))}normalize(n){return e.stripTrailingSlash(function u2(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,Mb(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Gn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Gn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Gn;static#t=this.joinWithSlash=hp;static#n=this.stripTrailingSlash=bb;static#r=this.\u0275fac=function(r){return new(r||e)(T(Wr))};static#i=this.\u0275prov=M({token:e,factory:function(){return function l2(){return new pp(T(Wr))}()},providedIn:"root"})}return e})();function Mb(e){return e.replace(/\/index.html$/,"")}let IB=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=fn({type:e});static#n=this.\u0275inj=Wt({})}return e})();function Hb(e){return"server"===e}let AB=(()=>{class e{static#e=this.\u0275prov=M({token:e,providedIn:"root",factory:()=>new NB(T(jt),window)})}return e})();class NB{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function RB(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class tj extends i2{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Rp extends tj{static makeCurrent(){!function r2(e){dp||(dp=e)}(new Rp)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function nj(){return Ys=Ys||document.querySelector("base"),Ys?Ys.getAttribute("href"):null}();return null==n?null:function rj(e){ju=ju||document.createElement("a"),ju.setAttribute("href",e);const t=ju.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Ys=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Q2(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let ju,Ys=null,oj=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})();const xp=new I("EventManagerPlugins");let Qb=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new v(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(T(xp),T(he))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})();class Yb{constructor(t){this._doc=t}}const Op="ng-app-id";let Zb=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Hb(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Op}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Op),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Op,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(T(jt),T(zl),T(rC,8),T(ji))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})();const Pp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Fp=/%COMP%/g,uj=new I("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Xb(e,t){return t.map(n=>n.replace(Fp,e))}let Jb=(()=>{class e{constructor(n,r,i,o,s,a,l,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Hb(a),this.defaultRenderer=new kp(n,s,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===qt.ShadowDom&&(r={...r,encapsulation:qt.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof tI?i.applyToHost(n):i instanceof Lp&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case qt.Emulated:o=new tI(l,u,r,this.appId,c,s,a,d);break;case qt.ShadowDom:return new hj(l,u,n,r,s,a,this.nonce,d);default:o=new Lp(l,u,r,c,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(T(Qb),T(Zb),T(zl),T(uj),T(jt),T(ji),T(he),T(rC))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})();class kp{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Pp[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(eI(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(eI(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new v(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=Pp[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=Pp[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(ur.DashCase|ur.Important)?t.style.setProperty(n,r,i&ur.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&ur.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=hr().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function eI(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class hj extends kp{constructor(t,n,r,i,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Xb(i.id,i.styles);for(const c of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=c,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Lp extends kp{constructor(t,n,r,i,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?Xb(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class tI extends Lp{constructor(t,n,r,i,o,s,a,l){const u=i+"-"+r.id;super(t,n,r,o,s,a,l,u),this.contentAttr=function cj(e){return"_ngcontent-%COMP%".replace(Fp,e)}(u),this.hostAttr=function dj(e){return"_nghost-%COMP%".replace(Fp,e)}(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let pj=(()=>{class e extends Yb{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||e)(T(jt))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})();const nI=["alt","control","meta","shift"],gj={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mj={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let _j=(()=>{class e extends Yb{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hr().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),nI.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=gj[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),nI.forEach(s=>{s!==i&&(0,mj[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||e)(T(jt))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})();const Dj=XE(HV,"browser",[{provide:ji,useValue:"browser"},{provide:nC,useValue:function yj(){Rp.makeCurrent()},multi:!0},{provide:jt,useFactory:function Cj(){return function Hx(e){If=e}(document),document},deps:[]}]),wj=new I(""),oI=[{provide:Du,useClass:class ij{addToWindow(t){de.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new v(5103,!1);return o},de.getAllAngularTestabilities=()=>t.getAllTestabilities(),de.getAllAngularRootElements=()=>t.getAllRootElements(),de.frameworkStabilizers||(de.frameworkStabilizers=[]),de.frameworkStabilizers.push(r=>{const i=de.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?hr().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:qE,useClass:ep,deps:[he,tp,Du]},{provide:ep,useClass:ep,deps:[he,tp,Du]}],sI=[{provide:Pf,useValue:"root"},{provide:Bn,useFactory:function vj(){return new Bn},deps:[]},{provide:xp,useClass:pj,multi:!0,deps:[jt,he,ji]},{provide:xp,useClass:_j,multi:!0,deps:[jt]},Jb,Zb,Qb,{provide:uC,useExisting:Jb},{provide:class xB{},useClass:oj,deps:[]},[]];let Ej=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:zl,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(T(wj,12))};static#t=this.\u0275mod=fn({type:e});static#n=this.\u0275inj=Wt({providers:[...sI,...oI],imports:[IB,GV]})}return e})(),aI=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||e)(T(jt))};static#t=this.\u0275prov=M({token:e,factory:function(r){let i=null;return i=r?new r:function Ij(){return new aI(T(jt))}(),i},providedIn:"root"})}return e})();typeof window<"u"&&window;const{isArray:Rj}=Array,{getPrototypeOf:xj,prototype:Oj,keys:Pj}=Object;function dI(e){if(1===e.length){const t=e[0];if(Rj(t))return{args:t,keys:null};if(function Fj(e){return e&&"object"==typeof e&&xj(e)===Oj}(t)){const n=Pj(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:kj}=Array;function fI(e){return ae(t=>function Lj(e,t){return kj(t)?e(...t):e(t)}(e,t))}function hI(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Bp(...e){const t=zo(e),n=E_(e),{args:r,keys:i}=dI(e);if(0===r.length)return je([],t);const o=new Re(function Vj(e,t,n=tr){return r=>{pI(t,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)pI(t,()=>{const u=je(e[l],t);let c=!1;u.subscribe(xe(r,d=>{o[l]=d,c||(c=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>hI(i,s):tr));return n?o.pipe(fI(n)):o}function pI(e,t,n){e?Rn(n,e,t):t()}const Uu=$o(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function jp(...e){return function Bj(){return fi(1)}()(je(e,zo(e)))}function gI(e){return new Re(t=>{Dt(e()).subscribe(t)})}function Zs(e,t){const n=oe(e)?e:()=>e,r=i=>i.error(n());return new Re(t?i=>t.schedule(r,0,i):r)}function Up(){return Pe((e,t)=>{let n=null;e._refCount++;const r=xe(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class mI extends Re{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,l_(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ct;const n=this.getSubject();t.add(this.source.subscribe(xe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ct.EMPTY)}return t}refCount(){return Up()(this)}}function fo(e){return e<=0?()=>ln:Pe((t,n)=>{let r=0;t.subscribe(xe(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function gr(e,t){return Pe((n,r)=>{let i=0;n.subscribe(xe(r,o=>e.call(t,o,i++)&&r.next(o)))})}function $u(e){return Pe((t,n)=>{let r=!1;t.subscribe(xe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function _I(e=Uj){return Pe((t,n)=>{let r=!1;t.subscribe(xe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function Uj(){return new Uu}function qr(e,t){const n=arguments.length>=2;return r=>r.pipe(e?gr((i,o)=>e(i,o,r)):tr,fo(1),n?$u(t):_I(()=>new Uu))}function Ks(e,t){return oe(t)?He(e,t,1):He(e,1)}function Xe(e,t,n){const r=oe(e)||t||n?{next:e,error:t,complete:n}:e;return r?Pe((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(xe(o,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),o.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):tr}function Qr(e){return Pe((t,n)=>{let o,r=null,i=!1;r=t.subscribe(xe(n,void 0,void 0,s=>{o=Dt(e(s,Qr(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function $p(e){return e<=0?()=>ln:Pe((t,n)=>{let r=[];t.subscribe(xe(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Hp(e){return Pe((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const j="primary",Xs=Symbol("RouteTitle");class qj{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ho(e){return new qj(e)}function Qj(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function En(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!yI(e[i],t[i]))return!1;return!0}function yI(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}return e===t}function vI(e){return e.length>0?e[e.length-1]:null}function mr(e){return function Nj(e){return!!e&&(e instanceof Re||oe(e.lift)&&oe(e.subscribe))}(e)?e:Os(e)?je(Promise.resolve(e)):P(e)}const Zj={exact:function wI(e,t,n){if(!Yr(e.segments,t.segments)||!Hu(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!wI(e.children[r],t.children[r],n))return!1;return!0},subset:EI},CI={exact:function Kj(e,t){return En(e,t)},subset:function Xj(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>yI(e[n],t[n]))},ignored:()=>!0};function DI(e,t,n){return Zj[n.paths](e.root,t.root,n.matrixParams)&&CI[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function EI(e,t,n){return bI(e,t,t.segments,n)}function bI(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!Yr(i,n)||t.hasChildren()||!Hu(i,n,r))}if(e.segments.length===n.length){if(!Yr(e.segments,n)||!Hu(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!EI(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(Yr(e.segments,i)&&Hu(e.segments,i,r)&&e.children[j])&&bI(e.children[j],t,o,r)}}function Hu(e,t,n){return t.every((r,i)=>CI[n](e[i].parameters,r.parameters))}class po{constructor(t=new ie([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ho(this.queryParams)),this._queryParamMap}toString(){return tU.serialize(this)}}class ie{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gu(this)}}class Js{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ho(this.parameters)),this._parameterMap}toString(){return MI(this)}}function Yr(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let ea=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:function(){return new Gp},providedIn:"root"})}return e})();class Gp{parse(t){const n=new fU(t);return new po(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${ta(t.root,!0)}`,r=function iU(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${zu(n)}=${zu(i)}`).join("&"):`${zu(n)}=${zu(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function nU(e){return encodeURI(e)}(t.fragment)}`:""}`}}const tU=new Gp;function Gu(e){return e.segments.map(t=>MI(t)).join("/")}function ta(e,t){if(!e.hasChildren())return Gu(e);if(t){const n=e.children[j]?ta(e.children[j],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==j&&r.push(`${i}:${ta(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function eU(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===j&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==j&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===j?[ta(e.children[j],!1)]:[`${i}:${ta(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[j]?`${Gu(e)}/${n[0]}`:`${Gu(e)}/(${n.join("//")})`}}function II(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zu(e){return II(e).replace(/%3B/gi,";")}function zp(e){return II(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wu(e){return decodeURIComponent(e)}function SI(e){return Wu(e.replace(/\+/g,"%20"))}function MI(e){return`${zp(e.path)}${function rU(e){return Object.keys(e).map(t=>`;${zp(t)}=${zp(e[t])}`).join("")}(e.parameters)}`}const oU=/^[^\/()?;#]+/;function Wp(e){const t=e.match(oU);return t?t[0]:""}const sU=/^[^\/()?;=#]+/,lU=/^[^=?&#]+/,cU=/^[^&#]+/;class fU{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ie([],{}):new ie([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[j]=new ie(t,n)),r}parseSegment(){const t=Wp(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new v(4009,!1);return this.capture(t),new Js(Wu(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function aU(e){const t=e.match(sU);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Wp(this.remaining);i&&(r=i,this.capture(r))}t[Wu(n)]=Wu(r)}parseQueryParam(t){const n=function uU(e){const t=e.match(lU);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function dU(e){const t=e.match(cU);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=SI(n),o=SI(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Wp(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new v(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=j);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[j]:new ie([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new v(4011,!1)}}function TI(e){return e.segments.length>0?new ie([],{[j]:e}):e}function AI(e){const t={};for(const r of Object.keys(e.children)){const o=AI(e.children[r]);if(r===j&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function hU(e){if(1===e.numberOfChildren&&e.children[j]){const t=e.children[j];return new ie(e.segments.concat(t.segments),t.children)}return e}(new ie(e.segments,t))}function Zr(e){return e instanceof po}function NI(e){let t;const i=TI(function n(o){const s={};for(const l of o.children){const u=n(l);s[l.outlet]=u}const a=new ie(o.url,s);return o===e&&(t=a),a}(e.root));return t??i}function RI(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return qp(i,i,i,n,r);const o=function gU(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new OI(!0,0,e);let t=0,n=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new OI(n,t,r)}(t);if(o.toRoot())return qp(i,i,new ie([],{}),n,r);const s=function mU(e,t,n){if(e.isAbsolute)return new Qu(t,!0,0);if(!n)return new Qu(t,!1,NaN);if(null===n.parent)return new Qu(n,!0,0);const r=qu(e.commands[0])?0:1;return function _U(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new v(4005,!1);i=r.segments.length}return new Qu(r,!1,i-o)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),a=s.processChildren?ra(s.segmentGroup,s.index,o.commands):PI(s.segmentGroup,s.index,o.commands);return qp(i,s.segmentGroup,a,n,r)}function qu(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function na(e){return"object"==typeof e&&null!=e&&e.outlets}function qp(e,t,n,r,i){let s,o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`}),s=e===t?n:xI(e,t,n);const a=TI(AI(s));return new po(a,o,i)}function xI(e,t,n){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===t?n:xI(o,t,n)}),new ie(e.segments,r)}class OI{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&qu(r[0]))throw new v(4003,!1);const i=r.find(na);if(i&&i!==vI(r))throw new v(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Qu{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function PI(e,t,n){if(e||(e=new ie([],{})),0===e.segments.length&&e.hasChildren())return ra(e,t,n);const r=function vU(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const s=e.segments[i],a=n[r];if(na(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!kI(l,u,s))return o;r+=2}else{if(!kI(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new ie(e.segments.slice(0,r.pathIndex),{});return o.children[j]=new ie(e.segments.slice(r.pathIndex),e.children),ra(o,0,i)}return r.match&&0===i.length?new ie(e.segments,{}):r.match&&!e.hasChildren()?Qp(e,t,n):r.match?ra(e,0,i):Qp(e,t,n)}function ra(e,t,n){if(0===n.length)return new ie(e.segments,{});{const r=function yU(e){return na(e[0])?e[0].outlets:{[j]:e}}(n),i={};if(Object.keys(r).some(o=>o!==j)&&e.children[j]&&1===e.numberOfChildren&&0===e.children[j].segments.length){const o=ra(e.children[j],t,n);return new ie(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=PI(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new ie(e.segments,i)}}function Qp(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(na(o)){const l=CU(o.outlets);return new ie(r,l)}if(0===i&&qu(n[0])){r.push(new Js(e.segments[t].path,FI(n[0]))),i++;continue}const s=na(o)?o.outlets[j]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&qu(a)?(r.push(new Js(s,FI(a))),i+=2):(r.push(new Js(s,{})),i++)}return new ie(r,{})}function CU(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=Qp(new ie([],{}),0,r))}),t}function FI(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function kI(e,t,n){return e==n.path&&En(t,n.parameters)}const ia="imperative";class bn{constructor(t,n){this.id=t,this.url=n}}class Yu extends bn{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _r extends bn{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class oa extends bn{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class go extends bn{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class Zu extends bn{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class LI extends bn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DU extends bn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wU extends bn{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class EU extends bn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bU extends bn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IU{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class SU{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class MU{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TU{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AU{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class NU{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VI{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Yp{}class Zp{constructor(t){this.url=t}}class RU{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new sa,this.attachRef=null}}let sa=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new RU,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class BI{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=Kp(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=Kp(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=Xp(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Xp(t,this._root).map(n=>n.value)}}function Kp(e,t){if(e===t.value)return t;for(const n of t.children){const r=Kp(e,n);if(r)return r}return null}function Xp(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Xp(e,n);if(r.length)return r.unshift(t),r}return[]}class qn{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function mo(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class jI extends BI{constructor(t,n){super(t),this.snapshot=n,Jp(this,t)}toString(){return this.snapshot.toString()}}function UI(e,t){const n=function xU(e,t){const s=new Ku([],{},{},"",{},j,t,null,{});return new HI("",new qn(s,[]))}(0,t),r=new xt([new Js("",{})]),i=new xt({}),o=new xt({}),s=new xt({}),a=new xt(""),l=new _o(r,i,s,a,o,j,t,n.root);return l.snapshot=n.root,new jI(new qn(l,[]),n)}class _o{constructor(t,n,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ae(u=>u[Xs]))??P(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ae(t=>ho(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ae(t=>ho(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $I(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function OU(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ku{get title(){return this.data?.[Xs]}constructor(t,n,r,i,o,s,a,l,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ho(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ho(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class HI extends BI{constructor(t,n){super(n),this.url=t,Jp(this,n)}toString(){return GI(this._root)}}function Jp(e,t){t.value._routerState=e,t.children.forEach(n=>Jp(e,n))}function GI(e){const t=e.children.length>0?` { ${e.children.map(GI).join(", ")} } `:"";return`${e.value}${t}`}function eg(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,En(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),En(t.params,n.params)||e.paramsSubject.next(n.params),function Yj(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!En(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),En(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function tg(e,t){const n=En(e.params,t.params)&&function Jj(e,t){return Yr(e,t)&&e.every((n,r)=>En(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||tg(e.parent,t.parent))}let Xu=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=j,this.activateEvents=new Ie,this.deactivateEvents=new Ie,this.attachEvents=new Ie,this.detachEvents=new Ie,this.parentContexts=b(sa),this.location=b(Jt),this.changeDetector=b(Eu),this.environmentInjector=b(Lt),this.inputBinder=b(Ju,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new v(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new v(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new v(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new v(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new PU(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=O({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ft]})}return e})();class PU{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===_o?this.route:t===sa?this.childContexts:this.parent.get(t,n)}}const Ju=new I("");let zI=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=Bp([r.queryParams,r.params,r.data]).pipe(un(([o,s,a],l)=>(a={...o,...s,...a},0===l?P(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function n2(e){const t=Q(e);if(!t)return null;const n=new Ts(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})();function aa(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function kU(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return aa(e,r,i);return aa(e,r)})}(e,t,n);return new qn(r,i)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>aa(e,a)),s}}const r=function LU(e){return new _o(new xt(e.url),new xt(e.params),new xt(e.queryParams),new xt(e.fragment),new xt(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(o=>aa(e,o));return new qn(r,i)}}const ng="ngNavigationCancelingError";function WI(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Zr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=qI(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function qI(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[ng]=!0,r.cancellationCode=t,n&&(r.url=n),r}function QI(e){return e&&e[ng]}let YI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=dn({type:e,selectors:[["ng-component"]],standalone:!0,features:[Zw],decls:1,vars:0,template:function(r,i){1&r&&Le(0,"router-outlet")},dependencies:[Xu],encapsulation:2})}return e})();function rg(e){const t=e.children&&e.children.map(rg),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==j&&(n.component=YI),n}function nn(e){return e.outlet||j}function la(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class zU{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),eg(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=mo(n);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=mo(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=mo(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=mo(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new NU(o.value.snapshot))}),t.children.length&&this.forwardEvent(new TU(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(eg(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),eg(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=la(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class ZI{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ec{constructor(t,n){this.component=t,this.route=n}}function WU(e,t,n){const r=e._root;return ua(r,t?t._root:null,n,[r.value])}function yo(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function rN(e){return null!==tl(e)}(e)?t.get(e):e:r}function ua(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=mo(t);return e.children.forEach(s=>{(function QU(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function YU(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Yr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Yr(e.url,t.url)||!En(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!tg(e,t)||!En(e.queryParams,t.queryParams);default:return!tg(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new ZI(r)):(o.data=s.data,o._resolvedData=s._resolvedData),ua(e,t,o.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ec(a.outlet.component,s))}else s&&ca(t,a,i),i.canActivateChecks.push(new ZI(r)),ua(e,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ca(a,n.getContext(s),i)),i}function ca(e,t,n){const r=mo(e),i=e.value;Object.entries(r).forEach(([o,s])=>{ca(s,i.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new ec(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function da(e){return"function"==typeof e}function KI(e){return e instanceof Uu||"EmptyError"===e?.name}const tc=Symbol("INITIAL_VALUE");function vo(){return un(e=>Bp(e.map(t=>t.pipe(fo(1),function jj(...e){const t=zo(e);return Pe((n,r)=>{(t?jp(e,n,t):jp(e,n)).subscribe(r)})}(tc)))).pipe(ae(t=>{for(const n of t)if(!0!==n){if(n===tc)return tc;if(!1===n||n instanceof po)return n}return!0}),gr(t=>t!==tc),fo(1)))}function XI(e){return function oA(...e){return o_(e)}(Xe(t=>{if(Zr(t))throw WI(0,t)}),ae(t=>!0===t))}class nc{constructor(t){this.segmentGroup=t||null}}class JI{constructor(t){this.urlTree=t}}function Co(e){return Zs(new nc(e))}function eS(e){return Zs(new JI(e))}class g${constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new v(4002,!1)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return P(r);if(i.numberOfChildren>1||!i.children[j])return Zs(new v(4e3,!1));i=i.children[j]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const o=this.createSegmentGroup(t,n.root,r,i);return new po(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){const o=this.createSegments(t,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new ie(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new v(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const ig={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function m$(e,t,n,r,i){const o=og(e,t,n);return o.matched?(r=function BU(e,t){return e.providers&&!e._injector&&(e._injector=kh(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function f$(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?P(i.map(s=>{const a=yo(s,e);return mr(function t$(e){return e&&da(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))})).pipe(vo(),XI()):P(!0)}(r,t,n).pipe(ae(s=>!0===s?o:{...ig}))):P(o)}function og(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...ig}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||Qj)(n,e,t);if(!i)return{...ig};const o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function tS(e,t,n,r){return n.length>0&&function v$(e,t,n){return n.some(r=>rc(e,t,r)&&nn(r)!==j)}(e,n,r)?{segmentGroup:new ie(t,y$(r,new ie(n,e.children))),slicedSegments:[]}:0===n.length&&function C$(e,t,n){return n.some(r=>rc(e,t,r))}(e,n,r)?{segmentGroup:new ie(e.segments,_$(e,0,n,r,e.children)),slicedSegments:n}:{segmentGroup:new ie(e.segments,e.children),slicedSegments:n}}function _$(e,t,n,r,i){const o={};for(const s of r)if(rc(e,n,s)&&!i[nn(s)]){const a=new ie([],{});o[nn(s)]=a}return{...i,...o}}function y$(e,t){const n={};n[j]=t;for(const r of e)if(""===r.path&&nn(r)!==j){const i=new ie([],{});n[nn(r)]=i}return n}function rc(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class b${constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new g$(this.urlSerializer,this.urlTree)}noMatchError(t){return new v(4002,!1)}recognize(){const t=tS(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,j).pipe(Qr(n=>{if(n instanceof JI)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof nc?this.noMatchError(n):n}),ae(n=>{const r=new Ku([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},j,this.rootComponentType,null,{}),i=new qn(r,n),o=new HI("",i),s=function pU(e,t,n=null,r=null){return RI(NI(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,j).pipe(Qr(r=>{throw r instanceof nc?this.noMatchError(r):r}))}inheritParamsAndData(t){const n=t.value,r=$I(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0)}processChildren(t,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return je(i).pipe(Ks(o=>{const s=r.children[o],a=function HU(e,t){const n=e.filter(r=>nn(r)===t);return n.push(...e.filter(r=>nn(r)!==t)),n}(n,o);return this.processSegmentGroup(t,a,s,o)}),function Hj(e,t){return Pe(function $j(e,t,n,r,i){return(o,s)=>{let a=n,l=t,u=0;o.subscribe(xe(s,c=>{const d=u++;l=a?e(l,c,d):(a=!0,c),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(e,t,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),$u(null),function Gj(e,t){const n=arguments.length>=2;return r=>r.pipe(e?gr((i,o)=>e(i,o,r)):tr,$p(1),n?$u(t):_I(()=>new Uu))}(),He(o=>{if(null===o)return Co(r);const s=nS(o);return function I$(e){e.sort((t,n)=>t.value.outlet===j?-1:n.value.outlet===j?1:t.value.outlet.localeCompare(n.value.outlet))}(s),P(s)}))}processSegment(t,n,r,i,o,s){return je(n).pipe(Ks(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,i,o,s).pipe(Qr(l=>{if(l instanceof nc)return P(null);throw l}))),qr(a=>!!a),Qr(a=>{if(KI(a))return function w$(e,t,n){return 0===t.length&&!e.children[n]}(r,i,o)?P([]):Co(r);throw a}))}processSegmentAgainstRoute(t,n,r,i,o,s,a){return function D$(e,t,n,r){return!!(nn(e)===r||r!==j&&rc(t,n,e))&&("**"===e.path||og(t,e,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s):Co(i):Co(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?eS(o):this.applyRedirects.lineralizeSegments(r,o).pipe(He(s=>{const a=new ie(s,{});return this.processSegment(t,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=og(n,i,o);if(!a)return Co(n);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?eS(d):this.applyRedirects.lineralizeSegments(i,d).pipe(He(f=>this.processSegment(t,r,n,f.concat(u),s,!1)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a;if("**"===r.path){const l=i.length>0?vI(i).parameters:{};a=P({snapshot:new Ku(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,rS(r),nn(r),r.component??r._loadedComponent??null,r,iS(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=m$(n,r,i,t).pipe(ae(({matched:l,consumedSegments:u,remainingSegments:c,parameters:d})=>l?{snapshot:new Ku(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,rS(r),nn(r),r.component??r._loadedComponent??null,r,iS(r)),consumedSegments:u,remainingSegments:c}:null));return a.pipe(un(l=>null===l?Co(n):this.getChildConfig(t=r._injector??t,r,i).pipe(un(({routes:u})=>{const c=r._loadedInjector??t,{snapshot:d,consumedSegments:f,remainingSegments:h}=l,{segmentGroup:p,slicedSegments:g}=tS(n,f,h,u);if(0===g.length&&p.hasChildren())return this.processChildren(c,u,p).pipe(ae(C=>null===C?null:[new qn(d,C)]));if(0===u.length&&0===g.length)return P([new qn(d,[])]);const _=nn(r)===o;return this.processSegment(c,u,p,g,_?j:o,!0).pipe(ae(C=>[new qn(d,C)]))}))))}getChildConfig(t,n,r){return n.children?P({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?P({routes:n._loadedRoutes,injector:n._loadedInjector}):function d$(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?P(!0):P(i.map(s=>{const a=yo(s,e);return mr(function KU(e){return e&&da(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))})).pipe(vo(),XI())}(t,n,r).pipe(He(i=>i?this.configLoader.loadChildren(t,n).pipe(Xe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function p$(e){return Zs(qI(!1,3))}())):P({routes:[],injector:t})}}function S$(e){const t=e.value.routeConfig;return t&&""===t.path}function nS(e){const t=[],n=new Set;for(const r of e){if(!S$(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=nS(r.children);t.push(new qn(r.value,i))}return t.filter(r=>!n.has(r))}function rS(e){return e.data||{}}function iS(e){return e.resolve||{}}function oS(e){return"string"==typeof e.title||null===e.title}function sg(e){return un(t=>{const n=e(t);return n?je(n).pipe(ae(()=>t)):P(t)})}const Do=new I("ROUTES");let ag=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=b(HE)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return P(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=mr(n.loadComponent()).pipe(ae(sS),Xe(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Hp(()=>{this.componentLoaders.delete(n)})),i=new mI(r,()=>new zt).pipe(Up());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return P({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function O$(e,t,n,r){return mr(e.loadChildren()).pipe(ae(sS),He(i=>i instanceof Qw||Array.isArray(i)?P(i):je(t.compileModuleAsync(i))),ae(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(Do,[],{optional:!0,self:!0}).flat()),{routes:s.map(rg),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Hp(()=>{this.childrenLoaders.delete(r)})),s=new mI(o,()=>new zt).pipe(Up());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function sS(e){return function P$(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let ic=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new zt,this.transitionAbortSubject=new zt,this.configLoader=b(ag),this.environmentInjector=b(Lt),this.urlSerializer=b(ea),this.rootContexts=b(sa),this.inputBindingEnabled=null!==b(Ju,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>P(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new SU(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new IU(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new xt({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ia,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(gr(o=>0!==o.id),ae(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),un(o=>{this.currentTransition=o;let s=!1,a=!1;return P(o).pipe(Xe(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),un(l=>{const u=l.currentBrowserUrl.toString(),c=!n.navigated||l.extractedUrl.toString()!==u||u!==l.currentUrlTree.toString();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const f="";return this.events.next(new go(l.id,this.urlSerializer.serialize(l.rawUrl),f,0)),l.resolve(null),ln}if(n.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return P(l).pipe(un(f=>{const h=this.transitions?.getValue();return this.events.next(new Yu(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?ln:Promise.resolve(f)}),function M$(e,t,n,r,i,o){return He(s=>function E$(e,t,n,r,i,o,s="emptyOnly"){return new b$(e,t,n,r,i,s,o).recognize()}(e,t,n,r,s.extractedUrl,i,o).pipe(ae(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Xe(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const h=new LI(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(c&&n.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:f,extractedUrl:h,source:p,restoredState:g,extras:_}=l,C=new Yu(f,this.urlSerializer.serialize(h),p,g);this.events.next(C);const m=UI(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:m,urlAfterRedirects:h,extras:{..._,skipLocationChange:!1,replaceUrl:!1}},P(o)}{const f="";return this.events.next(new go(l.id,this.urlSerializer.serialize(l.extractedUrl),f,1)),l.resolve(null),ln}}),Xe(l=>{const u=new DU(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),ae(l=>(this.currentTransition=o={...l,guards:WU(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function r$(e,t){return He(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?P({...n,guardsResult:!0}):function i$(e,t,n,r){return je(e).pipe(He(i=>function c$(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?P(o.map(a=>{const l=la(t)??i,u=yo(a,l);return mr(function e$(e){return e&&da(e.canDeactivate)}(u)?u.canDeactivate(e,t,n,r):l.runInContext(()=>u(e,t,n,r))).pipe(qr())})).pipe(vo()):P(!0)}(i.component,i.route,n,t,r)),qr(i=>!0!==i,!0))}(s,r,i,e).pipe(He(a=>a&&function ZU(e){return"boolean"==typeof e}(a)?function o$(e,t,n,r){return je(t).pipe(Ks(i=>jp(function a$(e,t){return null!==e&&t&&t(new MU(e)),P(!0)}(i.route.parent,r),function s$(e,t){return null!==e&&t&&t(new AU(e)),P(!0)}(i.route,r),function u$(e,t,n){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function qU(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>gI(()=>P(s.guards.map(l=>{const u=la(s.node)??n,c=yo(l,u);return mr(function JU(e){return e&&da(e.canActivateChild)}(c)?c.canActivateChild(r,e):u.runInContext(()=>c(r,e))).pipe(qr())})).pipe(vo())));return P(o).pipe(vo())}(e,i.path,n),function l$(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return P(!0);const i=r.map(o=>gI(()=>{const s=la(t)??n,a=yo(o,s);return mr(function XU(e){return e&&da(e.canActivate)}(a)?a.canActivate(t,e):s.runInContext(()=>a(t,e))).pipe(qr())}));return P(i).pipe(vo())}(e,i.route,n))),qr(i=>!0!==i,!0))}(r,o,e,t):P(a)),ae(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Xe(l=>{if(o.guardsResult=l.guardsResult,Zr(l.guardsResult))throw WI(0,l.guardsResult);const u=new wU(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),gr(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),sg(l=>{if(l.guards.canActivateChecks.length)return P(l).pipe(Xe(u=>{const c=new EU(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),un(u=>{let c=!1;return P(u).pipe(function T$(e,t){return He(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return P(n);let o=0;return je(i).pipe(Ks(s=>function A$(e,t,n,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!oS(i)&&(o[Xs]=i.title),function N$(e,t,n,r){const i=function R$(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return P({});const o={};return je(i).pipe(He(s=>function x$(e,t,n,r){const i=la(t)??r,o=yo(e,i);return mr(o.resolve?o.resolve(t,n):i.runInContext(()=>o(t,n)))}(e[s],t,n,r).pipe(qr(),Xe(a=>{o[s]=a}))),$p(1),function zj(e){return ae(()=>e)}(o),Qr(s=>KI(s)?ln:Zs(s)))}(o,e,t,r).pipe(ae(s=>(e._resolvedData=s,e.data=$I(e,n).resolve,i&&oS(i)&&(e.data[Xs]=i.title),null)))}(s.route,r,e,t)),Xe(()=>o++),$p(1),He(s=>o===i.length?P(n):ln))})}(n.paramsInheritanceStrategy,this.environmentInjector),Xe({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(u,"",2)}}))}),Xe(u=>{const c=new bU(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}))}),sg(l=>{const u=c=>{const d=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(c.routeConfig).pipe(Xe(f=>{c.component=f}),ae(()=>{})));for(const f of c.children)d.push(...u(f));return d};return Bp(u(l.targetSnapshot.root)).pipe($u(),fo(1))}),sg(()=>this.afterPreactivation()),ae(l=>{const u=function FU(e,t,n){const r=aa(e,t._root,n?n._root:void 0);return new jI(r,t)}(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:u},o}),Xe(()=>{this.events.next(new Yp)}),((e,t,n,r)=>ae(i=>(new zU(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),fo(1),Xe({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _r(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),n.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),function Wj(e){return Pe((t,n)=>{Dt(e).subscribe(xe(n,()=>n.complete(),ad)),!n.closed&&t.subscribe(n)})}(this.transitionAbortSubject.pipe(Xe(l=>{throw l}))),Hp(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Qr(l=>{if(a=!0,QI(l))this.events.next(new oa(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function VU(e){return QI(e)&&Zr(e.url)}(l)?this.events.next(new Zp(l.url)):o.resolve(!1);else{this.events.next(new Zu(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(l))}catch(u){o.reject(u)}}return ln}))}))}cancelNavigationTransition(n,r,i){const o=new oa(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function aS(e){return e!==ia}let lS=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===j);return r}getResolvedTitleForRoute(n){return n.data[Xs]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:function(){return b(F$)},providedIn:"root"})}return e})(),F$=(()=>{class e extends lS{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||e)(T(aI))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),k$=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:function(){return b(V$)},providedIn:"root"})}return e})();class L${shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let V$=(()=>{class e extends L${static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=function Qe(e){return xn(()=>{const t=e.prototype.constructor,n=t[On]||rf(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[On]||rf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}(e)))(i||e)}}();static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const oc=new I("",{providedIn:"root",factory:()=>({})});let B$=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:function(){return b(j$)},providedIn:"root"})}return e})(),j$=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var fa=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(fa||{});function uS(e,t){e.events.pipe(gr(n=>n instanceof _r||n instanceof oa||n instanceof Zu||n instanceof go),ae(n=>n instanceof _r||n instanceof go?fa.COMPLETE:n instanceof oa&&(0===n.code||1===n.code)?fa.REDIRECTING:fa.FAILED),gr(n=>n!==fa.REDIRECTING),fo(1)).subscribe(()=>{t()})}function U$(e){throw e}function $$(e,t,n){return t.parse("/")}const H$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},G$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ht=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=b(UE),this.isNgZoneEnabled=!1,this._events=new zt,this.options=b(oc,{optional:!0})||{},this.pendingTasks=b($E),this.errorHandler=this.options.errorHandler||U$,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||$$,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=b(B$),this.routeReuseStrategy=b(k$),this.titleStrategy=b(lS),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=b(Do,{optional:!0})?.flat()??[],this.navigationTransitions=b(ic),this.urlSerializer=b(ea),this.location=b(pp),this.componentInputBindingEnabled=!!b(Ju,{optional:!0}),this.eventsSubscription=new Ct,this.isNgZoneEnabled=b(he)instanceof he&&he.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new po,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=UI(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(cS(r)&&this._events.next(r));if(r instanceof Yu)aS(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof go)this.rawUrlTree=i.rawUrl;else if(r instanceof LI){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof Yp)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof oa)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof Zp){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||aS(i.source)};this.scheduleNavigation(o,ia,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Zu&&this.restoreHistory(i,!0),r instanceof _r&&(this.navigated=!0),cS(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ia,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(rg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s;let d,c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...o};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=o||null}null!==c&&(c=this.removeEmptyProps(c));try{d=NI(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return RI(d,n,c,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Zr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ia,null,r)}navigate(n,r={skipLocationChange:!1}){return function z$(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new v(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...H$}:!1===r?{...G$}:r,Zr(n))return DI(this.currentUrlTree,n,i);const o=this.parseUrl(n);return DI(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((d,f)=>{a=d,l=f});const c=this.pendingTasks.add();return uS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function cS(e){return!(e instanceof Yp||e instanceof Zp)}let wo=(()=>{class e{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new zt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof _r&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function qv(e,t,n){return function dO(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Wv:zv}(t,n)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||e)(D(Ht),D(_o),function wl(e){return function RR(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(B_(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}}return null}(qe(),e)}("tabindex"),D(Vn),D(St),D(Wr))};static#t=this.\u0275dir=O({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Bt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Cn("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",uo],skipLocationChange:["skipLocationChange","skipLocationChange",uo],replaceUrl:["replaceUrl","replaceUrl",uo],routerLink:"routerLink"},standalone:!0,features:[aD,Ft]})}return e})();class dS{}let Q$=(()=>{class e{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(gr(n=>n instanceof _r),Ks(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=kh(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return je(i).pipe(fi())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):P(null);const o=i.pipe(He(s=>null===s?P(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?je([o,this.loader.loadComponent(r)]).pipe(fi()):o})}static#e=this.\u0275fac=function(r){return new(r||e)(T(Ht),T(HE),T(Lt),T(dS),T(ag))};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const lg=new I("");let fS=(()=>{class e{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Yu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof _r?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof go&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof VI&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new VI(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function PC(){throw new Error("invalid")}()};static#t=this.\u0275prov=M({token:e,factory:e.\u0275fac})}return e})();function Qn(e,t){return{\u0275kind:e,\u0275providers:t}}function pS(){const e=b(Mt);return t=>{const n=e.get(lo);if(t!==n.components[0])return;const r=e.get(Ht),i=e.get(gS);1===e.get(ug)&&r.initialNavigation(),e.get(mS,null,G.Optional)?.setUpPreloading(),e.get(lg,null,G.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const gS=new I("",{factory:()=>new zt}),ug=new I("",{providedIn:"root",factory:()=>1}),mS=new I("");function X$(e){return Qn(0,[{provide:mS,useExisting:Q$},{provide:dS,useExisting:e}])}const _S=new I("ROUTER_FORROOT_GUARD"),eH=[pp,{provide:ea,useClass:Gp},Ht,sa,{provide:_o,useFactory:function hS(e){return e.routerState.root},deps:[Ht]},ag,[]];function tH(){return new ZE("Router",Ht)}let yS=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[eH,[],{provide:Do,multi:!0,useValue:n},{provide:_S,useFactory:oH,deps:[[Ht,new Il,new Sl]]},{provide:oc,useValue:r||{}},r?.useHash?{provide:Wr,useClass:a2}:{provide:Wr,useClass:Sb},{provide:lg,useFactory:()=>{const e=b(AB),t=b(he),n=b(oc),r=b(ic),i=b(ea);return n.scrollOffset&&e.setOffset(n.scrollOffset),new fS(i,r,e,t,n)}},r?.preloadingStrategy?X$(r.preloadingStrategy).\u0275providers:[],{provide:ZE,multi:!0,useFactory:tH},r?.initialNavigation?sH(r):[],r?.bindToComponentInputs?Qn(8,[zI,{provide:Ju,useExisting:zI}]).\u0275providers:[],[{provide:vS,useFactory:pS},{provide:ip,multi:!0,useExisting:vS}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Do,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||e)(T(_S,8))};static#t=this.\u0275mod=fn({type:e});static#n=this.\u0275inj=Wt({})}return e})();function oH(e){return"guarded"}function sH(e){return["disabled"===e.initialNavigation?Qn(3,[{provide:Zh,multi:!0,useFactory:()=>{const t=b(Ht);return()=>{t.setUpLocationChangeListener()}}},{provide:ug,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Qn(2,[{provide:ug,useValue:0},{provide:Zh,multi:!0,deps:[Mt],useFactory:t=>{const n=t.get(o2,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(Ht),o=t.get(gS);uS(i,()=>{r(!0)}),t.get(ic).afterPreactivation=()=>(r(!0),o.closed?P(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const vS=new I(""),lH=function(){return["/signin"]},uH=function(){return["/register"]};let cH=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=dn({type:e,selectors:[["app-navbar"]],decls:20,vars:4,consts:[[1,"container-fluid","navbar-container-div"],[1,"row","align-items-center","row-style"],[1,"col-lg-2","col-sm-5"],[1,"container-fluid"],[1,"row","align-self-center"],["href","#",1,"navbar-brand","col-4","nav-text"],[1,"navbar-brand","col-4","nav-text",3,"routerLink"],[1,"col-lg-7","col-sm-2"],[1,"col-lg-3","col-sm-5"],[1,"row"],[1,"col-lg-8","col-sm-6"],["type","search","placeholder","chocolate","aria-label","Search",1,"form-control","me-2"],[1,"col-lg-4","col-sm-6"],["type","submit",1,"btn","navbar-btn-style"]],template:function(r,i){1&r&&(se(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),Ae(6,"Home"),W(),se(7,"a",6),Ae(8,"Sign in"),W(),se(9,"a",6),Ae(10,"Register"),W()()()(),Le(11,"div",7),se(12,"div",8)(13,"div",3)(14,"div",9)(15,"div",10),Le(16,"input",11),W(),se(17,"div",12)(18,"button",13),Ae(19,"Search"),W()()()()()()()),2&r&&(bs(7),no("routerLink",js(2,lH)),bs(2),no("routerLink",js(3,uH)))},dependencies:[wo],styles:[".nav-bar-style[_ngcontent-%COMP%]{background:#d11da4}.navbar-btn-style[_ngcontent-%COMP%]{background:transparent;color:#fff}.navbar-container-div[_ngcontent-%COMP%]{background:#f82ad6}.nav-text[_ngcontent-%COMP%]{color:#fff}.row-style[_ngcontent-%COMP%]{min-height:5vh}"]})}return e})(),dH=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=dn({type:e,selectors:[["app-sidebar"]],decls:2,vars:0,template:function(r,i){1&r&&(se(0,"p"),Ae(1,"sidebar works!"),W())}})}return e})(),fH=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=dn({type:e,selectors:[["app-container"]],decls:4,vars:0,template:function(r,i){1&r&&(se(0,"p"),Ae(1,"container works!"),W(),Ae(2,"\nHello WOrld\nLorem ipsum, dolor sit amet consectetur adipisicing elit. Adipisci praesentium, excepturi quod ipsum perferendis tenetur suscipit animi asperiores atque libero labore odit at corrupti aperiam ad iure eligendi rerum facere?\nLorem ipsum, dolor sit amet consectetur adipisicing elit. Adipisci praesentium, excepturi quod ipsum perferendis tenetur suscipit animi asperiores atque libero labore odit at corrupti aperiam ad iure eligendi rerum facere?\nLorem ipsum, dolor sit amet consectetur adipisicing elit. Adipisci praesentium, excepturi quod ipsum perferendis tenetur suscipit animi asperiores atque libero labore odit at corrupti aperiam ad iure eligendi rerum facere? "),Le(3,"router-outlet"))},dependencies:[Xu]})}return e})(),hH=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=dn({type:e,selectors:[["app-footer"]],decls:2,vars:0,template:function(r,i){1&r&&(se(0,"p"),Ae(1,"footer works!"),W())}})}return e})(),pH=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=dn({type:e,selectors:[["app-layout"]],decls:10,vars:0,consts:[[1,"navbar-div"],[1,"sidebar-container-div","container-fluid"],[1,"row"],[1,"sidebar-div","col-12","col-lg-1","col-md-2"],[1,"container-div","col-12","col-lg-11","col-md-10"],[1,"footer-div"]],template:function(r,i){1&r&&(se(0,"div",0),Le(1,"app-navbar"),W(),se(2,"div",1)(3,"div",2)(4,"div",3),Le(5,"app-sidebar"),W(),se(6,"div",4),Le(7,"app-container"),W()()(),se(8,"div",5),Le(9,"app-footer"),W())},dependencies:[cH,dH,fH,hH],styles:[".sidebar-div[_ngcontent-%COMP%]{background:rgb(243 243 243)}.container-div[_ngcontent-%COMP%]{min-height:80vh}.footer-div[_ngcontent-%COMP%]{background:gray;margin:unset;min-height:15vh}"]})}return e})();const gH=function(){return["/"]};let mH=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=dn({type:e,selectors:[["app-register-user"]],decls:33,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","nav-bar-style"],[1,"container-fluid"],[1,"navbar-brand",3,"routerLink"],[1,"row","justify-content-center"],[1,"col-12","col-md-4"],[1,"mb-3"],["for","exampleFormControlInput1",1,"form-label"],["type","email","id","exampleFormControlInput1","placeholder","name@example.com",1,"form-control"],["type","password","id","inputPassword","placeholder","name@example.com",1,"form-control"],["type","button",1,"btn","btn-primary"]],template:function(r,i){1&r&&(se(0,"nav",0)(1,"div",1)(2,"a",2),Ae(3,"Home"),W()()(),se(4,"div",1)(5,"div",3)(6,"div",4)(7,"div",5)(8,"label",6),Ae(9,"First name"),W(),Le(10,"input",7),W(),se(11,"div",5)(12,"label",6),Ae(13,"Last name"),W(),Le(14,"input",7),W(),se(15,"div",5)(16,"label",6),Ae(17,"Gender"),W(),Le(18,"input",7),W(),se(19,"div",5)(20,"label",6),Ae(21,"Address"),W(),Le(22,"input",7),W(),se(23,"div",5)(24,"label",6),Ae(25,"Email address"),W(),Le(26,"input",7),W(),se(27,"div",5)(28,"label",6),Ae(29,"Password"),W(),Le(30,"input",8),W(),se(31,"button",9),Ae(32,"Register"),W()()()()),2&r&&(bs(2),no("routerLink",js(1,gH)))},dependencies:[wo],styles:[".nav-bar-style[_ngcontent-%COMP%]{background:#d11da4}.navbar-btn-style[_ngcontent-%COMP%]{background:transparent;color:#fff}.row[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:50px}"]})}return e})();const Je=new I("NgValidators"),vr=new I("NgAsyncValidators");function RS(e){return null!=e}function xS(e){return Os(e)?je(e):e}function OS(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function PS(e,t){return t.map(n=>n(e))}function FS(e){return e.map(t=>function EH(e){return!e.validate}(t)?t:n=>t.validate(n))}function dg(e){return null!=e?function kS(e){if(!e)return null;const t=e.filter(RS);return 0==t.length?null:function(n){return OS(PS(n,t))}}(FS(e)):null}function fg(e){return null!=e?function LS(e){if(!e)return null;const t=e.filter(RS);return 0==t.length?null:function(n){return function _H(...e){const t=E_(e),{args:n,keys:r}=dI(e),i=new Re(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let l=s,u=s;for(let c=0;c<s;c++){let d=!1;Dt(n[c]).subscribe(xe(o,f=>{d||(d=!0,u--),a[c]=f},()=>l--,void 0,()=>{(!l||!d)&&(u||o.next(r?hI(r,a):a),o.complete())}))}});return t?i.pipe(fI(t)):i}(PS(n,t).map(xS)).pipe(ae(OS))}}(FS(e)):null}function VS(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function hg(e){return e?Array.isArray(e)?e:[e]:[]}function ac(e,t){return Array.isArray(e)?e.includes(t):e===t}function US(e,t){const n=hg(t);return hg(e).forEach(i=>{ac(n,i)||n.push(i)}),n}function $S(e,t){return hg(t).filter(n=>!ac(e,n))}class HS{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=dg(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=fg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class ut extends HS{get formDirective(){return null}get path(){return null}}class GS{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let zS=(()=>{class e extends GS{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||e)(D(ut,10))};static#t=this.\u0275dir=O({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&du("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[re]})}return e})();const ha="VALID",uc="INVALID",Eo="PENDING",pa="DISABLED";function cc(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class YS{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ha}get invalid(){return this.status===uc}get pending(){return this.status==Eo}get disabled(){return this.status===pa}get enabled(){return this.status!==pa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(US(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(US(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators($S(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators($S(t,this._rawAsyncValidators))}hasValidator(t){return ac(this._rawValidators,t)}hasAsyncValidator(t){return ac(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Eo,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=pa,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=ha,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ha||this.status===Eo)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pa:ha}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Eo,this._hasOwnPendingAsyncValidator=!0;const n=xS(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ie,this.statusChanges=new Ie}_calculateStatus(){return this._allControlsDisabled()?pa:this.errors?uc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Eo)?Eo:this._anyControlsHaveStatus(uc)?uc:ha}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){cc(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function TH(e){return Array.isArray(e)?dg(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function AH(e){return Array.isArray(e)?fg(e):e||null}(this._rawAsyncValidators)}}class yg extends YS{constructor(t,n,r){super(function mg(e){return(cc(e)?e.validators:e)||null}(n),function _g(e,t){return(cc(t)?t.asyncValidators:e)||null}(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){(function QS(e,t,n){e._forEachChild((r,i)=>{if(void 0===n[i])throw new v(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function qS(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new v(1e3,"");if(!r[n])throw new v(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const bo=new I("CallSetDisabledState",{providedIn:"root",factory:()=>dc}),dc="always";function pc(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function vg(e,t){const n=function BS(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(VS(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function jS(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(VS(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();pc(t._rawValidators,i),pc(t._rawAsyncValidators,i)}function ZS(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}const BH={provide:ut,useExisting:ce(()=>mc)},ma=(()=>Promise.resolve())();let mc=(()=>{class e extends ut{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ie,this.form=new yg({},dg(n),fg(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){ma.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),function ga(e,t,n=dc){vg(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function xH(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&ZS(e,t)})}(e,t),function PH(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function OH(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&ZS(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function RH(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){ma.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){ma.then(()=>{const r=this._findContainer(n.path),i=new yg({});(function KS(e,t){vg(e,t)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){ma.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){ma.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function XS(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static#e=this.\u0275fac=function(r){return new(r||e)(D(Je,10),D(vr,10),D(bo,8))};static#t=this.\u0275dir=O({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Bt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ce([BH]),re]})}return e})(),sM=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=O({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return e})(),lM=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=fn({type:e});static#n=this.\u0275inj=Wt({})}return e})(),f3=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=fn({type:e});static#n=this.\u0275inj=Wt({imports:[lM]})}return e})(),p3=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:bo,useValue:n.callSetDisabledState??dc}]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=fn({type:e});static#n=this.\u0275inj=Wt({imports:[f3]})}return e})();const g3=function(){return["/"]},m3=[{path:"",component:pH},{path:"register",component:mH},{path:"signin",component:(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=dn({type:e,selectors:[["app-signin-user"]],decls:18,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","nav-bar-style"],[1,"container-fluid"],[1,"navbar-brand",3,"routerLink"],[1,"row","justify-content-center","align-items-center"],[1,"col-12","col-md-4"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp",1,"form-control"],["for","exampleInputPassword1",1,"form-label"],["type","password","id","exampleInputPassword1",1,"form-control"],["type","button",1,"btn","btn-primary"]],template:function(r,i){1&r&&(se(0,"nav",0)(1,"div",1)(2,"a",2),Ae(3,"Home"),W()()(),se(4,"div",1)(5,"div",3)(6,"div",4)(7,"form")(8,"div",5)(9,"label",6),Ae(10,"Email address"),W(),Le(11,"input",7),W(),se(12,"div",5)(13,"label",8),Ae(14,"Password"),W(),Le(15,"input",9),W(),se(16,"button",10),Ae(17,"login"),W()()()()()),2&r&&(bs(2),no("routerLink",js(1,g3)))},dependencies:[wo,sM,zS,mc],styles:[".nav-bar-style[_ngcontent-%COMP%]{background:#d11da4}.navbar-btn-style[_ngcontent-%COMP%]{background:transparent;color:#fff}.row[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:50px}"]})}return e})()}];let _3=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=fn({type:e});static#n=this.\u0275inj=Wt({imports:[yS.forRoot(m3),yS]})}return e})();function SM(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(u){return void n(u)}a.done?t(l):Promise.resolve(l).then(r,i)}function rn(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(l){SM(o,r,i,s,a,"next",l)}function a(l){SM(o,r,i,s,a,"throw",l)}s(void 0)})}}const w=function(e,t){if(!e)throw Io(t)},Io=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},MM=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ng={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0;let f=(15&a)<<2|u>>6,h=63&u;l||(h=64,s||(f=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(MM(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const l=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(1023&l))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==d)throw new v3;r.push(o<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class v3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TM=function(e){const t=MM(e);return Ng.encodeByteArray(t,!0)},_c=function(e){return TM(e).replace(/\./g,"")},Rg=function(e){try{return Ng.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function C3(e){return AM(void 0,e)}function AM(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!D3(n)||(e[n]=AM(e[n],t[n]));return e}function D3(e){return"__proto__"!==e}const yc=()=>{try{return function w3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Rg(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},NM=()=>{var e;return null===(e=yc())||void 0===e?void 0:e.config};class vc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(n):t(n,r))}}}function RM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(function Cc(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}())}class _a extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,_a.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xM.prototype.create)}}class xM{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?function P3(e,t){return e.replace(F3,(n,r)=>{const i=t[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new _a(i,`${this.serviceName}: ${s} (${i}).`,r)}}const F3=/\{\$([^}]+)}/g;function ya(e){return JSON.parse(e)}function Be(e){return JSON.stringify(e)}const Dc=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=ya(Rg(o[0])||""),n=ya(Rg(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}};function Zn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function So(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function OM(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function wc(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function xg(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(PM(o)&&PM(s)){if(!xg(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function PM(e){return null!==e&&"object"==typeof e}class B3{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if("string"==typeof t)for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(f<<1|f>>>31)}let u,c,i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(u=a^o&(s^a),c=1518500249):(u=o^s^a,c=1859775393):d<60?(u=o&s|a&(o|s),c=2400959708):(u=o^s^a,c=3395469782);const f=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=s,s=4294967295&(o<<30|o>>>2),o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(null==t)return;void 0===n&&(n=t.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(0===s)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const t=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}}function va(e,t){return`${e} failed: ${t} argument `}const Ec=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Ca(e){return e&&e._delegate?e._delegate:e}class Da{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Jr="[DEFAULT]";class Q3{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new vc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t?.identifier),i=null!==(n=t?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function Z3(e){return"EAGER"===e.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Jr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return rn(function*(){const n=Array.from(t.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=Jr){return this.instances.has(t)}getOptions(t=Jr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(e=t,e===Jr?void 0:e),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}var e;return r||null}normalizeInstanceIdentifier(t=Jr){return this.component?this.component.multipleInstances?t:Jr:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class K3{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Q3(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}const Pg=[];var me=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(me||{});const FM={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},X3=me.INFO,J3={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},eG=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=J3[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class kM{constructor(t){this.name=t,this._logLevel=X3,this._logHandler=eG,this._userLogHandler=null,Pg.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in me))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?FM[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...t),this._logHandler(this,me.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...t),this._logHandler(this,me.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,me.INFO,...t),this._logHandler(this,me.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,me.WARN,...t),this._logHandler(this,me.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...t),this._logHandler(this,me.ERROR,...t)}}const tG=(e,t)=>t.some(n=>e instanceof n);let LM,VM;const BM=new WeakMap,Fg=new WeakMap,jM=new WeakMap,kg=new WeakMap,Lg=new WeakMap;let Vg={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Fg.get(e);if("objectStoreNames"===t)return e.objectStoreNames||jM.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function lG(e){return"function"==typeof e?function aG(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function rG(){return VM||(VM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...t){return e.apply(Bg(this),t),Dr(BM.get(this))}:function(...t){return Dr(e.apply(Bg(this),t))}:function(t,...n){const r=e.call(Bg(this),t,...n);return jM.set(r,t.sort?t.sort():[t]),Dr(r)}}(e):(e instanceof IDBTransaction&&function oG(e){if(Fg.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Fg.set(e,t)}(e),tG(e,function nG(){return LM||(LM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,Vg):e)}function Dr(e){if(e instanceof IDBRequest)return function iG(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Dr(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&BM.set(n,e)}).catch(()=>{}),Lg.set(t,e),t}(e);if(kg.has(e))return kg.get(e);const t=lG(e);return t!==e&&(kg.set(e,t),Lg.set(t,e)),t}const Bg=e=>Lg.get(e),cG=["get","getKey","getAll","getAllKeys","count"],dG=["put","add","delete","clear"],jg=new Map;function UM(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(jg.get(t))return jg.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=dG.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!cG.includes(n))return;const o=function(){var s=rn(function*(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(yield Promise.all([c[n](...l),i&&u.done]))[0]});return function(l){return s.apply(this,arguments)}}();return jg.set(t,o),o}!function sG(e){Vg=e(Vg)}(e=>({...e,get:(t,n,r)=>UM(t,n)||e.get(t,n,r),has:(t,n)=>!!UM(t,n)||e.has(t,n)}));class fG{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function hG(e){const t=e.getComponent();return"VERSION"===t?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Ug="@firebase/app",ei=new kM("@firebase/app"),bc="[DEFAULT]",BG={[Ug]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ti=new Map,Ic=new Map;function jG(e,t){try{e.container.addComponent(t)}catch(n){ei.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Sc(e){const t=e.name;if(Ic.has(t))return ei.debug(`There were multiple attempts to register component ${t}.`),!1;Ic.set(t,e);for(const n of ti.values())jG(n,e);return!0}const Kn=new xM("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class $G{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Kn.create("app-deleted",{appName:this._name})}}function GM(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:bc,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw Kn.create("bad-app-name",{appName:String(i)});if(n||(n=NM()),!n)throw Kn.create("no-options");const o=ti.get(i);if(o){if(xg(n,o.options)&&xg(r,o.config))return o;throw Kn.create("duplicate-app",{appName:i})}const s=new K3(i);for(const l of Ic.values())s.addComponent(l);const a=new $G(n,r,s);return ti.set(i,a),a}function Mo(e,t,n){var r;let i=null!==(r=BG[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void ei.warn(a.join(" "))}Sc(new Da(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const zG="firebase-heartbeat-database",WG=1,wa="firebase-heartbeat-store";let Hg=null;function zM(){return Hg||(Hg=function uG(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Dr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Dr(s.result),l.oldVersion,l.newVersion,Dr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}(zG,WG,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(wa)}catch(n){console.warn(n)}}}).catch(e=>{throw Kn.create("idb-open",{originalErrorMessage:e.message})})),Hg}function Gg(){return(Gg=rn(function*(e){try{const n=(yield zM()).transaction(wa),r=yield n.objectStore(wa).get(qM(e));return yield n.done,r}catch(t){if(t instanceof _a)ei.warn(t.message);else{const n=Kn.create("idb-get",{originalErrorMessage:t?.message});ei.warn(n.message)}}})).apply(this,arguments)}function WM(e,t){return zg.apply(this,arguments)}function zg(){return(zg=rn(function*(e,t){try{const r=(yield zM()).transaction(wa,"readwrite");yield r.objectStore(wa).put(t,qM(e)),yield r.done}catch(n){if(n instanceof _a)ei.warn(n.message);else{const r=Kn.create("idb-set",{originalErrorMessage:n?.message});ei.warn(r.message)}}})).apply(this,arguments)}function qM(e){return`${e.name}!${e.options.appId}`}class ZG{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XG(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var t=this;return rn(function*(){var n,r;const o=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=QM();if((null!=(null===(n=t._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||(t._heartbeatsCache=yield t._heartbeatsCachePromise,null!=(null===(r=t._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&t._heartbeatsCache.lastSentHeartbeatDate!==s&&!t._heartbeatsCache.heartbeats.some(a=>a.date===s))return t._heartbeatsCache.heartbeats.push({date:s,agent:o}),t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=2592e6}),t._storage.overwrite(t._heartbeatsCache)})()}getHeartbeatsHeader(){var t=this;return rn(function*(){var n;if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null==(null===(n=t._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===t._heartbeatsCache.heartbeats.length)return"";const r=QM(),{heartbeatsToSend:i,unsentEntries:o}=function KG(e,t=1024){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),YM(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),YM(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(t._heartbeatsCache.heartbeats),s=_c(JSON.stringify({version:2,heartbeats:i}));return t._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(t._heartbeatsCache.heartbeats=o,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),s})()}}function QM(){return(new Date).toISOString().substring(0,10)}class XG{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return rn(function*(){return!!function R3(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function x3(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){t(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return rn(function*(){if(yield t._canUseIndexedDBPromise){const r=yield function qG(e){return Gg.apply(this,arguments)}(t.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(t){var n=this;return rn(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return WM(n.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var n=this;return rn(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return WM(n.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}})()}}function YM(e){return _c(JSON.stringify({version:2,heartbeats:e})).length}!function JG(e){Sc(new Da("platform-logger",t=>new fG(t),"PRIVATE")),Sc(new Da("heartbeat",t=>new ZG(t),"PRIVATE")),Mo(Ug,"0.9.28",e),Mo(Ug,"0.9.28","esm2017"),Mo("fire-js","")}(""),Mo("firebase","10.8.1","app");const nz_firebase={apiKey:"AIzaSyD42PB50okZuTSiJU0KfUtCVVfioIRkT6w",authDomain:"shoppingapp-1c92f.firebaseapp.com",projectId:"shoppingapp-1c92f",storageBucket:"shoppingapp-1c92f.appspot.com",messagingSenderId:"492583769945",appId:"1:492583769945:web:b3e91d36df449743ae1e48"},ZM="@firebase/database";let Wg="";class rz{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){null==n?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Be(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return null==n?null:ya(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class iz{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){null==n?delete this.cache_[t]:this.cache_[t]=n}get(t){return Zn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const JM=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new rz(t)}}catch{}return new iz},ni=JM("localStorage"),qg=JM("sessionStorage"),To=new kM("@firebase/database"),e0=function(){let e=1;return function(){return e++}}(),t0=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,w(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new B3;n.update(t);const r=n.digest();return Ng.encodeByteArray(r)},Ea=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=Ea.apply(null,r):t+="object"==typeof r?Be(r):r,t+=" "}return t};let ri=null,n0=!0;const Ue=function(...e){if(!0===n0&&(n0=!1,null===ri&&!0===qg.get("logging_enabled")&&function(e,t){w(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(To.logLevel=me.VERBOSE,ri=To.log.bind(To),t&&qg.set("logging_enabled",!0)):"function"==typeof e?ri=e:(ri=null,qg.remove("logging_enabled"))}(!0)),ri){const t=Ea.apply(null,e);ri(t)}},ba=function(e){return function(...t){Ue(e,...t)}},Qg=function(...e){const t="FIREBASE INTERNAL ERROR: "+Ea(...e);To.error(t)},Sn=function(...e){const t=`FIREBASE FATAL ERROR: ${Ea(...e)}`;throw To.error(t),new Error(t)},et=function(...e){const t="FIREBASE WARNING: "+Ea(...e);To.warn(t)},Mc=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},wr="[MIN_NAME]",Xn="[MAX_NAME]",ii=function(e,t){if(e===t)return 0;if(e===wr||t===Xn)return-1;if(t===wr||e===Xn)return 1;{const n=a0(e),r=a0(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},az=function(e,t){return e===t?0:e<t?-1:1},Ia=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Be(t))},Yg=function(e){if("object"!=typeof e||null===e)return Be(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=Be(t[r]),n+=":",n+=Yg(e[t[r]]);return n+="}",n},o0=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function $e(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const s0=function(e){w(!Mc(e),"Invalid JSON number");const r=1023;let i,o,s,a,l;0===e?(o=0,s=0,i=1/e==-1/0?1:0):(i=e<0,(e=Math.abs(e))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(e/Math.pow(2,-1074))));const u=[];for(l=52;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=11;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);1===f.length&&(f="0"+f),d+=f}return d.toLowerCase()},dz=new RegExp("^-?(0*)\\d{1,10}$"),a0=function(e){if(dz.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Ao=function(e){try{e()}catch(t){setTimeout(()=>{throw et("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Sa=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class gz{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){et(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class mz{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&"auth/token-not-initialized"===n.code?(Ue("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',et(t)}}let Ma=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return e.OWNER="owner",e})();const f0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,g0="websocket",m0="long_polling";class Kg{constructor(t,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ni.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ni.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function _0(e,t,n){let r;if(w("string"==typeof t,"typeof type must == string"),w("object"==typeof n,"typeof params must == object"),t===g0)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==m0)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function _z(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return $e(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}class yz{constructor(){this.counters_={}}incrementCounter(t,n=1){Zn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return C3(this.counters_)}}const Xg={},Jg={};function em(e){const t=e.toString();return Xg[t]||(Xg[t]=new yz),Xg[t]}class Cz{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ao(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Er{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ba(t),this.stats_=em(n),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),_0(n,m0,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Cz(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new tm((...o)=>{const[s,a,l,u,c]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=l;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&f0.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Er.forceAllow_=!0}static forceDisallow(){Er.forceDisallow_=!0}static isAvailable(){return!(!Er.forceAllow_&&(Er.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Be(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=TM(n),i=o0(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Be(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class tm{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=e0(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=tm.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ue("frame writing exception"),a.stack&&Ue(a.stack),Ue(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Ue("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const s=this.pendingSegs.shift();r=r+"&seg"+i+"="+s.seg+"&ts"+i+"="+s.ts+"&d"+i+"="+s.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(i),r()})}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ue("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Ac=null;typeof MozWebSocket<"u"?Ac=MozWebSocket:typeof WebSocket<"u"&&(Ac=WebSocket);let No=(()=>{class e{constructor(n,r,i,o,s,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ba(this.connId),this.stats_=em(r),this.connURL=e.connectionURL_(r,a,l,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){const a={v:"5"};return typeof location<"u"&&location.hostname&&f0.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),o&&(a.ac=o),s&&(a.p=s),_0(n,g0,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ni.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new Ac(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==Ac&&!e.forceDisallow_}static previouslyFailed(){return ni.isInMemoryStorage||!0===ni.get("previous_websocket_failure")}markConnectionHealthy(){ni.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=ya(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(w(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=Be(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=o0(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e})(),b0=(()=>{class e{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Er,No]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=No&&No.isAvailable();let i=r&&!No.previouslyFailed();if(n.webSocketOnly&&(r||et("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[No];else{const o=this.transports_=[];for(const s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return e.globalTransportInitialized_=!1,e})();class R0{constructor(t,n,r,i,o,s,a,l,u,c){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ba("c:"+this.id+":"),this.transportManager_=new b0(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Sa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const n=t.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Ia("t",t),r=Ia("d",t);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Ia("t",t),r=Ia("d",t);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Ia("t",t);if("d"in t){const r=t.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?Qg("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Qg("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&et("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Sa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Sa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ni.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class x0{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}class O0{constructor(t){this.allowedEvents_=t,this.listeners_={},w(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(t){w(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}class Nc extends O0{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!RM()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Nc}getInitialEvent(t){return w("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class te{constructor(t,n){if(void 0===n){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(t+="/"+this.pieces_[n]);return t||"/"}}function K(){return new te("")}function U(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function br(e){return e.pieces_.length-e.pieceNum_}function ue(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new te(e.pieces_,t)}function rm(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Ta(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function k0(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new te(t,0)}function De(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof te)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new te(n,0)}function $(e){return e.pieceNum_>=e.pieces_.length}function ct(e,t){const n=U(e),r=U(t);if(null===n)return t;if(n===r)return ct(ue(e),ue(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function im(e,t){if(br(e)!==br(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Gt(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(br(e)>br(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Hz{constructor(t,n){this.errorPrefix_=n,this.parts_=Ta(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ec(this.parts_[r]);L0(this)}}function L0(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+oi(e))}function oi(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class om extends O0{constructor(){let t,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new om}getInitialEvent(t){return w("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Aa=1e3;let xc,si=(()=>{class e extends x0{constructor(n,r,i,o,s,a,l,u){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=e.nextPersistentConnectionId_++,this.log_=ba("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Aa,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");om.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&Nc.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(Be(s)),w(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();const r=new vc,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,o){this.initConnection_();const s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),w(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),w(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const l={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const s={p:i};n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest("q",s,l=>{const u=l.d,c=l.s;e.warnOnListenWarnings_(u,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",l),"ok"!==c&&this.removeListen_(i,o),n.onComplete&&n.onComplete(c,u))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&Zn(n,"w")){const i=So(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();et(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(e){const t=Dc(e).claims;return"object"==typeof t&&!0===t.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(e){const n=Dc(e).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const s=o.s,a=o.d||"error";this.authToken_===n&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),w(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);const s={p:n};o&&(s.q=i,s.t=o),this.sendRequest("n",s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){const s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();const a={p:r,d:i};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Be(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):Qg("Unrecognized action received from server: "+Be(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){w(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Aa,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Aa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Aa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return rn(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),o=n.onRealtimeDisconnect_.bind(n),s=n.id+":"+e.nextConnectionId_++,a=n.lastSessionId;let l=!1,u=null;const c=function(){u?u.close():(l=!0,o())};n.realtime_={close:c,sendRequest:function(h){w(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(h)}};const f=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[h,p]=yield Promise.all([n.authTokenProvider_.getToken(f),n.appCheckTokenProvider_.getToken(f)]);l?Ue("getToken() completed but was canceled"):(Ue("getToken() completed. Creating connection."),n.authToken_=h&&h.accessToken,n.appCheckToken_=p&&p.token,u=new R0(s,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,o,g=>{et(g+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(h){n.log_("Failed to get token: "+h),l||(n.repoInfo_.nodeAdmin&&et(h),c())}}})()}interrupt(n){Ue("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ue("Resuming connection for reason: "+n),delete this.interruptReasons_[n],OM(this.interruptReasons_)&&(this.reconnectDelay_=Aa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(s=>Yg(s)).join("$"):"default";const o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){const i=new te(n).toString();let o;if(this.listens.has(i)){const s=this.listens.get(i);o=s.get(r),s.delete(r),0===s.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Ue("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Ue("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+Wg.replace(/\./g,"-")]=1,RM()?n["framework.cordova"]=1:function N3(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Nc.getInstance().currentlyOnline();return OM(this.interruptReasons_)&&n}}return e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e})();class H{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new H(t,n)}}class Rc{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new H(wr,t),i=new H(wr,n);return 0!==this.compare(r,i)}minPost(){return H.MIN}}class j0 extends Rc{static get __EMPTY_NODE(){return xc}static set __EMPTY_NODE(t){xc=t}compare(t,n){return ii(t.name,n.name)}isDefinedOn(t){throw Io("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return H.MIN}maxPost(){return new H(Xn,xc)}makePost(t,n){return w("string"==typeof t,"KeyIndex indexValue must always be a string."),new H(t,xc)}toString(){return".key"}}const Mn=new j0;class Oc{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,t=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let am,on=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??yt.EMPTY_NODE,this.right=s??yt.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this;const s=i(n,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(n,r,i),null):0===s?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return yt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return yt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})();class yt{constructor(t,n=yt.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new yt(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,on.BLACK,null,null))}remove(t){return new yt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,on.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Oc(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Oc(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Oc(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Oc(this.root_,null,this.comparator_,!0,t)}}function Kz(e,t){return ii(e.name,t.name)}function sm(e,t){return ii(e,t)}yt.EMPTY_NODE=new class Zz{copy(t,n,r,i,o){return this}insert(t,n,r){return new on(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const U0=function(e){return"number"==typeof e?"number:"+s0(e):"string:"+e},$0=function(e){if(e.isLeafNode()){const t=e.val();w("string"==typeof t||"number"==typeof t||"object"==typeof t&&Zn(t,".sv"),"Priority must be a string or number.")}else w(e===am||e.isEmpty(),"priority of unexpected type.");w(e===am||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let H0,G0,z0,Ro=(()=>{class e{constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,w(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),$0(this.priorityNode_)}static set __childrenNodeConstructor(n){H0=n}static get __childrenNodeConstructor(){return H0}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return $(n)?this:".priority"===U(n)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=U(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(w(".priority"!==i||1===br(n),".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ue(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+U0(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?s0(this.value_):this.value_,this.lazyHash_=t0(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(w(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return w(o>=0,"Unknown leaf type: "+r),w(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e})();const _e=new class t8 extends Rc{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return 0===o?ii(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return H.MIN}maxPost(){return new H(Xn,new Ro("[PRIORITY-POST]",z0))}makePost(t,n){const r=G0(t);return new H(n,new Ro("[PRIORITY-POST]",r))}toString(){return".priority"}},n8=Math.log(2);class r8{constructor(t){this.count=parseInt(Math.log(t+1)/n8,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Pc=function(e,t,n,r){e.sort(t);const i=function(l,u){const c=u-l;let d,f;if(0===c)return null;if(1===c)return d=e[l],f=n?n(d):d,new on(f,d.node,on.BLACK,null,null);{const h=parseInt(c/2,10)+l,p=i(l,h),g=i(h+1,u);return d=e[h],f=n?n(d):d,new on(f,d.node,on.BLACK,p,g)}},a=function(l){let u=null,c=null,d=e.length;const f=function(p,g){const _=d-p,C=d;d-=p;const m=i(_+1,C),S=e[_],A=n?n(S):S;h(new on(A,S.node,g,null,m))},h=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),_=Math.pow(2,l.count-(p+1));g?f(_,on.BLACK):(f(_,on.BLACK),f(_,on.RED))}return c}(new r8(e.length));return new yt(r||t,a)};let lm;const xo={};class Jn{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return w(xo&&_e,"ChildrenNode.ts has not been loaded"),lm=lm||new Jn({".priority":xo},{".priority":_e}),lm}get(t){const n=So(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof yt?n:null}hasIndex(t){return Zn(this.indexSet_,t.toString())}addIndex(t,n){w(t!==Mn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(H.Wrap);let a,s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();a=i?Pc(r,t.getCompare()):xo;const l=t.toString(),u=Object.assign({},this.indexSet_);u[l]=t;const c=Object.assign({},this.indexes_);return c[l]=a,new Jn(c,u)}addToIndexes(t,n){const r=wc(this.indexes_,(i,o)=>{const s=So(this.indexSet_,o);if(w(s,"Missing index implementation for "+o),i===xo){if(s.isDefinedOn(t.node)){const a=[],l=n.getIterator(H.Wrap);let u=l.getNext();for(;u;)u.name!==t.name&&a.push(u),u=l.getNext();return a.push(t),Pc(a,s.getCompare())}return xo}{const a=n.get(t.name);let l=i;return a&&(l=l.remove(new H(t.name,a))),l.insert(t,t.node)}});return new Jn(r,this.indexSet_)}removeFromIndexes(t,n){const r=wc(this.indexes_,i=>{if(i===xo)return i;{const o=n.get(t.name);return o?i.remove(new H(t.name,o)):i}});return new Jn(r,this.indexSet_)}}let Na,B=(()=>{class e{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&$0(this.priorityNode_),this.children_.isEmpty()&&w(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Na||(Na=new e(new yt(sm),null,Jn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Na}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?Na:r}}getChild(n){const r=U(n);return null===r?this:this.getImmediateChild(r).getChild(ue(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(w(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new H(n,r);let o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));const a=o.isEmpty()?Na:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){const i=U(n);if(null===i)return r;{w(".priority"!==U(n)||1===br(n),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(ue(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,o=0,s=!0;if(this.forEachChild(_e,(a,l)=>{r[a]=l.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+U0(this.getPriority().val())+":"),this.forEachChild(_e,(r,i)=>{const o=i.hash();""!==o&&(n+=":"+r+":"+o)}),this.lazyHash_=""===n?"":t0(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const o=this.resolveIndex_(i);if(o){const s=o.getPredecessorKey(new H(n,r));return s?s.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new H(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new H(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,H.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,H.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Ra?-1:0}withIndex(n){if(n===Mn||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Mn||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(_e),o=r.getIterator(_e);let s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(n){return n===Mn?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})();const Ra=new class i8 extends B{constructor(){super(new yt(sm),B.EMPTY_NODE,Jn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return B.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(H,{MIN:{value:new H(wr,B.EMPTY_NODE)},MAX:{value:new H(Xn,Ra)}}),j0.__EMPTY_NODE=B.EMPTY_NODE,Ro.__childrenNodeConstructor=B,function Xz(e){am=e}(Ra),function e8(e){z0=e}(Ra);const o8=!0;function Ee(e,t=null){if(null===e)return B.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),w(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Ro(e,Ee(t));if(e instanceof Array||!o8){let n=B.EMPTY_NODE;return $e(e,(r,i)=>{if(Zn(e,r)&&"."!==r.substring(0,1)){const o=Ee(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Ee(t))}{const n=[];let r=!1;if($e(e,(s,a)=>{if("."!==s.substring(0,1)){const l=Ee(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new H(s,l)))}}),0===n.length)return B.EMPTY_NODE;const o=Pc(n,Kz,s=>s.name,sm);if(r){const s=Pc(n,_e.getCompare());return new B(o,Ee(t),new Jn({".priority":s},{".priority":_e}))}return new B(o,Ee(t),Jn.Default)}}!function Jz(e){G0=e}(Ee);class um extends Rc{constructor(t){super(),this.indexPath_=t,w(!$(t)&&".priority"!==U(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return 0===o?ii(t.name,n.name):o}makePost(t,n){const r=Ee(t),i=B.EMPTY_NODE.updateChild(this.indexPath_,r);return new H(n,i)}maxPost(){const t=B.EMPTY_NODE.updateChild(this.indexPath_,Ra);return new H(Xn,t)}toString(){return Ta(this.indexPath_,0).join("/")}}const cm=new class s8 extends Rc{compare(t,n){const r=t.node.compareTo(n.node);return 0===r?ii(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return H.MIN}maxPost(){return H.MAX}makePost(t,n){const r=Ee(t);return new H(n,r)}toString(){return".value"}};function W0(e){return{type:"value",snapshotNode:e}}function Oo(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function xa(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Oa(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class dm{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){w(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=s&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(xa(n,a)):w(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Oo(n,r)):s.trackChildChange(Oa(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return null!=r&&(t.isLeafNode()||t.forEachChild(_e,(i,o)=>{n.hasChild(i)||r.trackChildChange(xa(i,o))}),n.isLeafNode()||n.forEachChild(_e,(i,o)=>{if(t.hasChild(i)){const s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(Oa(i,o,s))}else r.trackChildChange(Oo(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?B.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Pa{constructor(t){this.indexedFilter_=new dm(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Pa.getStartPost_(t),this.endPost_=Pa.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,s){return this.matches(new H(n,r))||(r=B.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=B.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(B.EMPTY_NODE);const o=this;return n.forEachChild(_e,(s,a)=>{o.matches(new H(s,a))||(i=i.updateImmediateChild(s,B.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}return t.getIndex().maxPost()}}class l8{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Pa(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new H(n,r))||(r=B.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=B.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let o;i=B.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),s++}}}else{let o;i=n.withIndex(this.index_),i=i.updatePriority(B.EMPTY_NODE),o=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,B.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){const d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();const a=t;w(a.numChildren()===this.limit_,"");const l=new H(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;null!=f&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const h=null==f?1:s(f,l);if(c&&!r.isEmpty()&&h>=0)return o?.trackChildChange(Oa(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(xa(n,d));const g=a.updateImmediateChild(n,B.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(o?.trackChildChange(Oo(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}}return r.isEmpty()?t:c&&s(u,l)>=0?(null!=o&&(o.trackChildChange(xa(u.name,u.node)),o.trackChildChange(Oo(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,B.EMPTY_NODE)):t}}class fm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=_e}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return w(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return w(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:wr}hasEnd(){return this.endSet_}getIndexEndValue(){return w(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return w(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Xn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return w(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===_e}copy(){const t=new fm;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function q0(e){const t={};if(e.isDefault())return t;let n;if(e.index_===_e?n="$priority":e.index_===cm?n="$value":e.index_===Mn?n="$key":(w(e.index_ instanceof um,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Be(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=Be(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Be(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Be(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Be(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Q0(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==_e&&(t.i=e.index_.toString()),t}class kc extends x0{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ba("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return void 0!==n?"tag$"+n:(w(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const s=kc.getListenId_(t,r),a={};this.listens_[s]=a;const l=q0(t._queryParams);this.restRequest_(o+".json",l,(u,c)=>{let d=c;if(404===u&&(d=null,u=null),null===u&&this.onDataUpdate_(o,d,!1,r),So(this.listens_,s)===a){let f;f=u?401===u?"permission_denied":"rest_error:"+u:"ok",i(f,null)}})}unlisten(t,n){const r=kc.getListenId_(t,n);delete this.listens_[r]}get(t){const n=q0(t._queryParams),r=t._path.toString(),i=new vc;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+function V3(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=ya(a.responseText)}catch{et("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&et("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}class p8{constructor(){this.rootNode_=B.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}function Lc(){return{value:null,children:new Map}}function Po(e,t,n){if($(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=U(t);e.children.has(r)||e.children.set(r,Lc()),Po(e.children.get(r),t=ue(t),n)}}function mm(e,t,n){null!==e.value?n(t,e.value):function g8(e,t){e.children.forEach((n,r)=>{t(r,n)})}(e,(r,i)=>{mm(i,new te(t.toString()+"/"+r),n)})}class m8{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&$e(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}class v8{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new m8(t);const r=1e4+2e4*Math.random();Sa(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;$e(t,(i,o)=>{o>0&&Zn(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Sa(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Tn=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(Tn||{});function vm(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class Vc{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Tn.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if($(this.path)){if(null!=this.affectedTree.value)return w(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new te(t));return new Vc(K(),n,this.revert)}}return w(U(this.path)===t,"operationForChild called for unrelated child."),new Vc(ue(this.path),this.affectedTree,this.revert)}}class Fa{constructor(t,n){this.source=t,this.path=n,this.type=Tn.LISTEN_COMPLETE}operationForChild(t){return $(this.path)?new Fa(this.source,K()):new Fa(this.source,ue(this.path))}}class ai{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Tn.OVERWRITE}operationForChild(t){return $(this.path)?new ai(this.source,K(),this.snap.getImmediateChild(t)):new ai(this.source,ue(this.path),this.snap)}}class Fo{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Tn.MERGE}operationForChild(t){if($(this.path)){const n=this.children.subtree(new te(t));return n.isEmpty()?null:n.value?new ai(this.source,K(),n.value):new Fo(this.source,K(),n)}return w(U(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Fo(this.source,ue(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ir{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if($(t))return this.isFullyInitialized()&&!this.filtered_;const n=U(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class C8{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function ka(e,t,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>function E8(e,t,n){if(null==t.childName||null==n.childName)throw Io("Should only compare child_ events.");const r=new H(t.childName,t.snapshotNode),i=new H(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,a,l)),s.forEach(a=>{const l=function w8(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,a,o);i.forEach(u=>{u.respondsTo(a.type)&&t.push(u.createEvent(l,e.query_))})})}function Bc(e,t){return{eventCache:e,serverCache:t}}function La(e,t,n,r){return Bc(new Ir(t,n,r),e.serverCache)}function Z0(e,t,n,r){return Bc(e.eventCache,new Ir(t,n,r))}function jc(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function li(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Cm;class ye{constructor(t,n=(()=>(Cm||(Cm=new yt(az)),Cm))()){this.value=t,this.children=n}static fromObject(t){let n=new ye(null);return $e(t,(r,i)=>{n=n.set(new te(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(null!=this.value&&n(this.value))return{path:K(),value:this.value};if($(t))return null;{const r=U(t),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(ue(t),n);return null!=o?{path:De(new te(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if($(t))return this;{const n=U(t),r=this.children.get(n);return null!==r?r.subtree(ue(t)):new ye(null)}}set(t,n){if($(t))return new ye(n,this.children);{const r=U(t),o=(this.children.get(r)||new ye(null)).set(ue(t),n),s=this.children.insert(r,o);return new ye(this.value,s)}}remove(t){if($(t))return this.children.isEmpty()?new ye(null):new ye(null,this.children);{const n=U(t),r=this.children.get(n);if(r){const i=r.remove(ue(t));let o;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new ye(null):new ye(this.value,o)}return this}}get(t){if($(t))return this.value;{const n=U(t),r=this.children.get(n);return r?r.get(ue(t)):null}}setTree(t,n){if($(t))return n;{const r=U(t),o=(this.children.get(r)||new ye(null)).setTree(ue(t),n);let s;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new ye(this.value,s)}}fold(t){return this.fold_(K(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(De(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,K(),n)}findOnPath_(t,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if($(t))return null;{const o=U(t),s=this.children.get(o);return s?s.findOnPath_(ue(t),De(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,K(),n)}foreachOnPath_(t,n,r){if($(t))return this;{this.value&&r(n,this.value);const i=U(t),o=this.children.get(i);return o?o.foreachOnPath_(ue(t),De(n,i),r):new ye(null)}}foreach(t){this.foreach_(K(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(De(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}class sn{constructor(t){this.writeTree_=t}static empty(){return new sn(new ye(null))}}function Va(e,t,n){if($(t))return new sn(new ye(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=ct(i,t);return o=o.updateChild(s,n),new sn(e.writeTree_.set(i,o))}{const i=new ye(n),o=e.writeTree_.setTree(t,i);return new sn(o)}}}function Dm(e,t,n){let r=e;return $e(n,(i,o)=>{r=Va(r,De(t,i),o)}),r}function K0(e,t){if($(t))return sn.empty();{const n=e.writeTree_.setTree(t,new ye(null));return new sn(n)}}function wm(e,t){return null!=ui(e,t)}function ui(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(ct(n.path,t)):null}function X0(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(_e,(r,i)=>{t.push(new H(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&t.push(new H(r,i.value))}),t}function Sr(e,t){if($(t))return e;{const n=ui(e,t);return new sn(null!=n?new ye(n):e.writeTree_.subtree(t))}}function Em(e){return e.writeTree_.isEmpty()}function ko(e,t){return J0(K(),e.writeTree_,t)}function J0(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{".priority"===i?(w(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=J0(De(e,i),o,n)}),!n.getChild(e).isEmpty()&&null!==r&&(n=n.updateChild(De(e,".priority"),r)),n}}function Uc(e,t){return iT(t,e)}function A8(e,t){if(e.snap)return Gt(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Gt(De(e.path,n),t))return!0;return!1}function R8(e){return e.visible}function eT(e,t,n){let r=sn.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const s=o.path;let a;if(o.snap)Gt(n,s)?(a=ct(n,s),r=Va(r,a,o.snap)):Gt(s,n)&&(a=ct(s,n),r=Va(r,K(),o.snap.getChild(a)));else{if(!o.children)throw Io("WriteRecord should have .snap or .children");if(Gt(n,s))a=ct(n,s),r=Dm(r,a,o.children);else if(Gt(s,n))if(a=ct(s,n),$(a))r=Dm(r,K(),o.children);else{const l=So(o.children,U(a));if(l){const u=l.getChild(ue(a));r=Va(r,K(),u)}}}}}return r}function tT(e,t,n,r,i){if(r||i){const o=Sr(e.visibleWrites,t);return!i&&Em(o)?n:i||null!=n||wm(o,K())?ko(eT(e.allWrites,function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Gt(u.path,t)||Gt(t,u.path))},t),n||B.EMPTY_NODE):null}{const o=ui(e.visibleWrites,t);if(null!=o)return o;{const s=Sr(e.visibleWrites,t);return Em(s)?n:null!=n||wm(s,K())?ko(s,n||B.EMPTY_NODE):null}}}function $c(e,t,n,r){return tT(e.writeTree,e.treePath,t,n,r)}function bm(e,t){return function x8(e,t,n){let r=B.EMPTY_NODE;const i=ui(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(_e,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=Sr(e.visibleWrites,t);return n.forEachChild(_e,(s,a)=>{const l=ko(Sr(o,new te(s)),a);r=r.updateImmediateChild(s,l)}),X0(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}return X0(Sr(e.visibleWrites,t)).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}(e.writeTree,e.treePath,t)}function nT(e,t,n,r){return function O8(e,t,n,r,i){w(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=De(t,n);if(wm(e.visibleWrites,o))return null;{const s=Sr(e.visibleWrites,o);return Em(s)?i.getChild(n):ko(s,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Hc(e,t){return function F8(e,t){return ui(e.visibleWrites,t)}(e.writeTree,De(e.treePath,t))}function Im(e,t,n){return function P8(e,t,n,r){const i=De(t,n),o=ui(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?ko(Sr(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function rT(e,t){return iT(De(e.treePath,t),e.writeTree)}function iT(e,t){return{treePath:e,writeTree:t}}class B8{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;w("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),w(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===n&&"child_removed"===o)this.changeMap.set(r,Oa(r,t.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===o)this.changeMap.set(r,xa(r,i.oldSnap));else if("child_changed"===n&&"child_added"===o)this.changeMap.set(r,Oo(r,t.snapshotNode));else{if("child_changed"!==n||"child_changed"!==o)throw Io("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(r,Oa(r,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const oT=new class j8{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}};class Sm{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new Ir(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Im(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:li(this.viewCache_),o=function V8(e,t,n,r,i,o){return function k8(e,t,n,r,i,o,s){let a;const l=Sr(e.visibleWrites,t),u=ui(l,K());if(null!=u)a=u;else{if(null==n)return[];a=ko(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const c=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let h=f.getNext();for(;h&&c.length<i;)0!==d(h,r)&&c.push(h),h=f.getNext();return c}}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,i,n,1,r,t);return 0===o.length?null:o[0]}}function sT(e,t,n,r,i,o){const s=t.eventCache;if(null!=Hc(r,n))return t;{let a,l;if($(n))if(w(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=li(t),d=bm(r,u instanceof B?u:B.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{const u=$c(r,li(t));a=e.filter.updateFullNode(t.eventCache.getNode(),u,o)}else{const u=U(n);if(".priority"===u){w(1===br(n),"Can't have a priority with additional path components");const c=s.getNode();l=t.serverCache.getNode();const d=nT(r,n,c,l);a=null!=d?e.filter.updatePriority(c,d):s.getNode()}else{const c=ue(n);let d;if(s.isCompleteForChild(u)){l=t.serverCache.getNode();const f=nT(r,n,s.getNode(),l);d=null!=f?s.getNode().getImmediateChild(u).updateChild(c,f):s.getNode().getImmediateChild(u)}else d=Im(r,u,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),u,d,c,i,o):s.getNode()}}return La(t,a,s.isFullyInitialized()||$(n),e.filter.filtersNodes())}}function Gc(e,t,n,r,i,o,s,a){const l=t.serverCache;let u;const c=s?e.filter:e.filter.getIndexedFilter();if($(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),h,null)}else{const h=U(n);if(!l.isCompleteForPath(n)&&br(n)>1)return t;const p=ue(n),_=l.getNode().getImmediateChild(h).updateChild(p,r);u=".priority"===h?c.updatePriority(l.getNode(),_):c.updateChild(l.getNode(),h,_,p,oT,null)}const d=Z0(t,u,l.isFullyInitialized()||$(n),c.filtersNodes());return sT(e,d,n,i,new Sm(i,d,o),a)}function Mm(e,t,n,r,i,o,s){const a=t.eventCache;let l,u;const c=new Sm(i,t,o);if($(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=La(t,u,!0,e.filter.filtersNodes());else{const d=U(n);if(".priority"===d)u=e.filter.updatePriority(t.eventCache.getNode(),r),l=La(t,u,a.isFullyInitialized(),a.isFiltered());else{const f=ue(n),h=a.getNode().getImmediateChild(d);let p;if($(f))p=r;else{const g=c.getCompleteChild(d);p=null!=g?".priority"===rm(f)&&g.getChild(k0(f)).isEmpty()?g:g.updateChild(f,r):B.EMPTY_NODE}l=h.equals(p)?t:La(t,e.filter.updateChild(a.getNode(),d,p,f,c,s),a.isFullyInitialized(),e.filter.filtersNodes())}}return l}function aT(e,t){return e.eventCache.isCompleteForChild(t)}function lT(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function Tm(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let u,l=t;u=$(n)?r:new ye(null).setTree(n,r);const c=t.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const p=lT(0,t.serverCache.getNode().getImmediateChild(d),f);l=Gc(e,l,new te(d),p,i,o,s,a)}}),u.children.inorderTraversal((d,f)=>{const h=!t.serverCache.isCompleteForChild(d)&&null===f.value;if(!c.hasChild(d)&&!h){const g=lT(0,t.serverCache.getNode().getImmediateChild(d),f);l=Gc(e,l,new te(d),g,i,o,s,a)}}),l}class Y8{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new dm(r.getIndex()),o=function u8(e){return e.loadsAllData()?new dm(e.getIndex()):e.hasLimit()?new l8(e):new Pa(e)}(r);this.processor_=function U8(e){return{filter:e}}(o);const s=n.serverCache,a=n.eventCache,l=i.updateFullNode(B.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(B.EMPTY_NODE,a.getNode(),null),c=new Ir(l,s.isFullyInitialized(),i.filtersNodes()),d=new Ir(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Bc(d,c),this.eventGenerator_=new C8(this.query_)}get query(){return this.query_}}function X8(e,t){const n=li(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!$(t)&&!n.getImmediateChild(U(t)).isEmpty())?n.getChild(t):null}function uT(e){return 0===e.eventRegistrations_.length}function cT(e,t,n){const r=[];if(n){w(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){const s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}else i.push(s)}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function dT(e,t,n,r){t.type===Tn.MERGE&&null!==t.source.queryId&&(w(li(e.viewCache_),"We should always have a full cache before handling merges"),w(jc(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=function H8(e,t,n,r,i){const o=new B8;let s,a;if(n.type===Tn.OVERWRITE){const u=n;u.source.fromUser?s=Mm(e,t,u.path,u.snap,r,i,o):(w(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!$(u.path),s=Gc(e,t,u.path,u.snap,r,i,a,o))}else if(n.type===Tn.MERGE){const u=n;u.source.fromUser?s=function z8(e,t,n,r,i,o,s){let a=t;return r.foreach((l,u)=>{const c=De(n,l);aT(t,U(c))&&(a=Mm(e,a,c,u,i,o,s))}),r.foreach((l,u)=>{const c=De(n,l);aT(t,U(c))||(a=Mm(e,a,c,u,i,o,s))}),a}(e,t,u.path,u.children,r,i,o):(w(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered(),s=Tm(e,t,u.path,u.children,r,i,a,o))}else if(n.type===Tn.ACK_USER_WRITE){const u=n;s=u.revert?function Q8(e,t,n,r,i,o){let s;if(null!=Hc(r,n))return t;{const a=new Sm(r,t,i),l=t.eventCache.getNode();let u;if($(n)||".priority"===U(n)){let c;if(t.serverCache.isFullyInitialized())c=$c(r,li(t));else{const d=t.serverCache.getNode();w(d instanceof B,"serverChildren would be complete if leaf node"),c=bm(r,d)}u=e.filter.updateFullNode(l,c,o)}else{const c=U(n);let d=Im(r,c,t.serverCache);null==d&&t.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),u=null!=d?e.filter.updateChild(l,c,d,ue(n),a,o):t.eventCache.getNode().hasChild(c)?e.filter.updateChild(l,c,B.EMPTY_NODE,ue(n),a,o):l,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=$c(r,li(t)),s.isLeafNode()&&(u=e.filter.updateFullNode(u,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=Hc(r,K()),La(t,u,s,e.filter.filtersNodes())}}(e,t,u.path,r,i,o):function W8(e,t,n,r,i,o,s){if(null!=Hc(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if($(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Gc(e,t,n,l.getNode().getChild(n),i,o,a,s);if($(n)){let u=new ye(null);return l.getNode().forEachChild(Mn,(c,d)=>{u=u.set(new te(c),d)}),Tm(e,t,n,u,i,o,a,s)}return t}{let u=new ye(null);return r.foreach((c,d)=>{const f=De(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),Tm(e,t,n,u,i,o,a,s)}}(e,t,u.path,u.affectedTree,r,i,o)}else{if(n.type!==Tn.LISTEN_COMPLETE)throw Io("Unknown operation type: "+n.type);s=function q8(e,t,n,r,i){const o=t.serverCache;return sT(e,Z0(t,o.getNode(),o.isFullyInitialized()||$(n),o.isFiltered()),n,r,oT,i)}(e,t,n.path,r,o)}const l=o.getChanges();return function G8(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=jc(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(W0(jc(t)))}}(t,s,l),{viewCache:s,changes:l}}(e.processor_,i,t,n,r);return function $8(e,t){w(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),w(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}(e.processor_,o.viewCache),w(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,fT(e,o.changes,o.viewCache.eventCache.getNode(),null)}function fT(e,t,n,r){return function D8(e,t,n,r){const i=[],o=[];return t.forEach(s=>{"child_changed"===s.type&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function a8(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}(s.childName,s.snapshotNode))}),ka(e,i,"child_removed",t,r,n),ka(e,i,"child_added",t,r,n),ka(e,i,"child_moved",o,r,n),ka(e,i,"child_changed",t,r,n),ka(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,r?[r]:e.eventRegistrations_)}let zc,qc;class hT{constructor(){this.views=new Map}}function Am(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return w(null!=o,"SyncTree gave us an op for an invalid query."),dT(o,t,n,r)}{let o=[];for(const s of e.views.values())o=o.concat(dT(s,t,n,r));return o}}function pT(e,t,n,r,i){const s=e.views.get(t._queryIdentifier);if(!s){let a=$c(n,i?r:null),l=!1;a?l=!0:r instanceof B?(a=bm(n,r),l=!1):(a=B.EMPTY_NODE,l=!1);const u=Bc(new Ir(a,l,!1),new Ir(r,i,!1));return new Y8(t,u)}return s}function gT(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Mr(e,t){let n=null;for(const r of e.views.values())n=n||X8(r,t);return n}function mT(e,t){return t._queryParams.loadsAllData()?Wc(e):e.views.get(t._queryIdentifier)}function _T(e,t){return null!=mT(e,t)}function Tr(e){return null!=Wc(e)}function Wc(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let lW=1;class yT{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ye(null),this.pendingWriteTree_=function L8(){return{visibleWrites:sn.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Nm(e,t,n,r,i){return function I8(e,t,n,r,i){w(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Va(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Lo(e,new ai({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Ar(e,t,n=!1){const r=function M8(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function T8(e,t){const n=e.allWrites.findIndex(a=>a.writeId===t);w(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const a=e.allWrites[s];a.visible&&(s>=n&&A8(a,r.path)?i=!1:Gt(r.path,a.path)&&(o=!0)),s--}return!!i&&(o?(function N8(e){e.visibleWrites=eT(e.allWrites,R8,K()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(r.snap?e.visibleWrites=K0(e.visibleWrites,r.path):$e(r.children,l=>{e.visibleWrites=K0(e.visibleWrites,De(r.path,l))}),!0))}(e.pendingWriteTree_,t)){let o=new ye(null);return null!=r.snap?o=o.set(K(),!0):$e(r.children,s=>{o=o.set(new te(s),!0)}),Lo(e,new Vc(r.path,o,n))}return[]}function Ba(e,t,n){return Lo(e,new ai({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Qc(e,t,n,r,i=!1){const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||_T(s,t))){const l=function oW(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=Tr(e);if("default"===i)for(const[l,u]of e.views.entries())s=s.concat(cT(u,n,r)),uT(u)&&(e.views.delete(l),u.query._queryParams.loadsAllData()||o.push(u.query));else{const l=e.views.get(i);l&&(s=s.concat(cT(l,n,r)),uT(l)&&(e.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!Tr(e)&&o.push(new(function nW(){return w(zc,"Reference.ts has not been loaded"),zc}())(t._repo,t._path)),{removed:o,events:s}}(s,t,n,r);(function rW(e){return 0===e.views.size})(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));const u=l.removed;if(a=l.events,!i){const c=-1!==u.findIndex(f=>f._queryParams.loadsAllData()),d=e.syncPointTree_.findOnPath(o,(f,h)=>Tr(h));if(c&&!d){const f=e.syncPointTree_.subtree(o);if(!f.isEmpty()){const h=function gW(e){return e.fold((t,n,r)=>{if(n&&Tr(n))return[Wc(n)];{let i=[];return n&&(i=gT(n)),$e(r,(o,s)=>{i=i.concat(s)}),i}})}(f);for(let p=0;p<h.length;++p){const g=h[p],_=g.query,C=wT(e,g);e.listenProvider_.startListening(Ua(_),ja(e,_),C.hashFn,C.onComplete)}}}!d&&u.length>0&&!r&&(c?e.listenProvider_.stopListening(Ua(t),null):u.forEach(f=>{const h=e.queryToTagMap.get(Zc(f));e.listenProvider_.stopListening(Ua(f),h)}))}!function mW(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=Zc(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function vT(e,t,n,r){const i=xm(e,r);if(null!=i){const o=Om(i),s=o.path,a=o.queryId,l=ct(s,t);return Pm(e,s,new ai(vm(a),l,n))}return[]}function Rm(e,t,n,r=!1){const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(f,h)=>{const p=ct(f,i);o=o||Mr(h,p),s=s||Tr(h)});let l,a=e.syncPointTree_.get(i);a?(s=s||Tr(a),o=o||Mr(a,K())):(a=new hT,e.syncPointTree_=e.syncPointTree_.set(i,a)),null!=o?l=!0:(l=!1,o=B.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((h,p)=>{const g=Mr(p,K());g&&(o=o.updateImmediateChild(h,g))}));const u=_T(a,t);if(!u&&!t._queryParams.loadsAllData()){const f=Zc(t);w(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=function _W(){return lW++}();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}let d=function iW(e,t,n,r,i,o){const s=pT(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function J8(e,t){e.eventRegistrations_.push(t)}(s,n),function eW(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(_e,(o,s)=>{r.push(Oo(o,s))}),n.isFullyInitialized()&&r.push(W0(n.getNode())),fT(e,r,n.getNode(),t)}(s,n)}(a,t,n,Uc(e.pendingWriteTree_,i),o,l);if(!u&&!s&&!r){const f=mT(a,t);d=d.concat(function yW(e,t,n){const r=t._path,i=ja(e,t),o=wT(e,n),s=e.listenProvider_.startListening(Ua(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)w(!Tr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!$(u)&&c&&Tr(c))return[Wc(c).query];{let f=[];return c&&(f=f.concat(gT(c).map(h=>h.query))),$e(d,(h,p)=>{f=f.concat(p)}),f}});for(let u=0;u<l.length;++u){const c=l[u];e.listenProvider_.stopListening(Ua(c),ja(e,c))}}return s}(e,t,f))}return d}function Yc(e,t,n){const i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{const u=Mr(a,ct(s,t));if(u)return u});return tT(i,t,o,n,!0)}function Lo(e,t){return CT(t,e.syncPointTree_,null,Uc(e.pendingWriteTree_,K()))}function CT(e,t,n,r){if($(e.path))return DT(e,t,n,r);{const i=t.get(K());null==n&&null!=i&&(n=Mr(i,K()));let o=[];const s=U(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const u=n?n.getImmediateChild(s):null,c=rT(r,s);o=o.concat(CT(a,l,u,c))}return i&&(o=o.concat(Am(i,e,r,n))),o}}function DT(e,t,n,r){const i=t.get(K());null==n&&null!=i&&(n=Mr(i,K()));let o=[];return t.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,u=rT(r,s),c=e.operationForChild(s);c&&(o=o.concat(DT(c,a,l,u)))}),i&&(o=o.concat(Am(i,e,r,n))),o}function wT(e,t){const n=t.query,r=ja(e,n);return{hashFn:()=>(function Z8(e){return e.viewCache_.serverCache.getNode()}(t)||B.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function fW(e,t,n){const r=xm(e,n);if(r){const i=Om(r),o=i.path,s=i.queryId,a=ct(o,t);return Pm(e,o,new Fa(vm(s),a))}return[]}(e,n._path,r):function dW(e,t){return Lo(e,new Fa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const o=function cz(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(i,n);return Qc(e,n,null,o)}}}}function ja(e,t){const n=Zc(t);return e.queryToTagMap.get(n)}function Zc(e){return e._path.toString()+"$"+e._queryIdentifier}function xm(e,t){return e.tagToQueryMap.get(t)}function Om(e){const t=e.indexOf("$");return w(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new te(e.substr(0,t))}}function Pm(e,t,n){const r=e.syncPointTree_.get(t);return w(r,"Missing sync point for query tag that we're tracking"),Am(r,n,Uc(e.pendingWriteTree_,t),null)}function Ua(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(function aW(){return w(qc,"Reference.ts has not been loaded"),qc}())(e._repo,e._path):e}class Fm{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new Fm(n)}node(){return this.node_}}class km{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=De(this.path_,t);return new km(this.syncTree_,n)}node(){return Yc(this.syncTree_,this.path_)}}const vW=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},ET=function(e,t,n){return e&&"object"==typeof e?(w(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?CW(e[".sv"],t,n):"object"==typeof e[".sv"]?DW(e[".sv"],t):void w(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},CW=function(e,t,n){if("timestamp"===e)return n.timestamp;w(!1,"Unexpected server value: "+e)},DW=function(e,t,n){e.hasOwnProperty("increment")||w(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&w(!1,"Unexpected increment value: "+r);const i=t.node();if(w(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},bT=function(e,t,n,r){return Vm(t,new km(n,e),r)},Lm=function(e,t,n){return Vm(e,new Fm(t),n)};function Vm(e,t,n){const r=e.getPriority().val(),i=ET(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const s=e,a=ET(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new Ro(a,Ee(i)):e}{const s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Ro(i))),s.forEachChild(_e,(a,l)=>{const u=Vm(l,t.getImmediateChild(a),n);u!==l&&(o=o.updateImmediateChild(a,u))}),o}}class Bm{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function Kc(e,t){let n=t instanceof te?t:new te(t),r=e,i=U(n);for(;null!==i;){const o=So(r.node.children,i)||{children:{},childCount:0};r=new Bm(i,r,o),n=ue(n),i=U(n)}return r}function ci(e){return e.node.value}function jm(e,t){e.node.value=t,Um(e)}function IT(e){return e.node.childCount>0}function Xc(e,t){$e(e.node.children,(n,r)=>{t(new Bm(n,e,r))})}function ST(e,t,n,r){n&&!r&&t(e),Xc(e,i=>{ST(i,t,!0,r)}),n&&r&&t(e)}function $a(e){return new te(null===e.parent?e.name:$a(e.parent)+"/"+e.name)}function Um(e){null!==e.parent&&function bW(e,t,n){const r=function wW(e){return void 0===ci(e)&&!IT(e)}(n),i=Zn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Um(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,Um(e))}(e.parent,e.name,e)}const IW=/[\[\].#$\/\u0000-\u001F\u007F]/,SW=/[\[\].#$\u0000-\u001F\u007F]/,$m=10485760,Jc=function(e){return"string"==typeof e&&0!==e.length&&!IW.test(e)},MT=function(e){return"string"==typeof e&&0!==e.length&&!SW.test(e)},Ga=function(e,t,n){const r=n instanceof te?new Hz(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+oi(r));if("function"==typeof t)throw new Error(e+"contains a function "+oi(r)+" with contents = "+t.toString());if(Mc(t))throw new Error(e+"contains "+t.toString()+" "+oi(r));if("string"==typeof t&&t.length>$m/3&&Ec(t)>$m)throw new Error(e+"contains a string greater than "+$m+" utf8 bytes "+oi(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let i=!1,o=!1;if($e(t,(s,a)=>{if(".value"===s)i=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!Jc(s)))throw new Error(e+" contains an invalid key ("+s+") "+oi(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Gz(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Ec(t),L0(e)})(r,s),Ga(e,a,r),function zz(e){const t=e.parts_.pop();e.byteLength_-=Ec(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),i&&o)throw new Error(e+' contains ".value" child '+oi(r)+" in addition to actual children.")}},Gm=function(e,t,n,r){if(!(r&&void 0===n||MT(n)))throw new Error(va(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},AW=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Gm(e,t,n,r)};class NW{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Nt(e,t,n){(function ed(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null!==n&&!im(o,n.path)&&(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)})(e,n),function RT(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(RW(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}(e,r=>Gt(r,t)||Gt(t,r))}function RW(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();ri&&Ue("event: "+n.toString()),Ao(r)}}}const xW=25;class OW{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new NW,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lc(),this.transactionQueueTree_=new Bm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function OT(e){const n=e.infoData_.getNode(new te(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Wa(e){return vW({timestamp:OT(e)})}function PT(e,t,n,r,i){e.dataUpdateCount++;const o=new te(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const l=wc(n,u=>Ee(u));s=function hW(e,t,n,r){const i=xm(e,r);if(i){const o=Om(i),s=o.path,a=o.queryId,l=ct(s,t),u=ye.fromObject(n);return Pm(e,s,new Fo(vm(a),l,u))}return[]}(e.serverSyncTree_,o,l,i)}else{const l=Ee(n);s=vT(e.serverSyncTree_,o,l,i)}else if(r){const l=wc(n,u=>Ee(u));s=function cW(e,t,n){const r=ye.fromObject(n);return Lo(e,new Fo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,l)}else{const l=Ee(n);s=Ba(e.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Bo(e,o)),Nt(e.eventQueue_,a,s)}function FT(e,t){zm(e,"connected",t),!1===t&&function VW(e){Vo(e,"onDisconnectEvents");const t=Wa(e),n=Lc();mm(e.onDisconnect_,K(),(i,o)=>{const s=bT(i,o,e.serverSyncTree_,t);Po(n,i,s)});let r=[];mm(n,K(),(i,o)=>{r=r.concat(Ba(e.serverSyncTree_,i,o));const s=function Ym(e,t){const n=$a(VT(e,t)),r=Kc(e.transactionQueueTree_,t);return function EW(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,i=>{Zm(e,i)}),Zm(e,r),ST(r,i=>{Zm(e,i)}),n}(e,i);Bo(e,s)}),e.onDisconnect_=Lc(),Nt(e.eventQueue_,K(),r)}(e)}function zm(e,t,n){const r=new te("/.info/"+t),i=Ee(n);e.infoData_.updateSnapshot(r,i);const o=Ba(e.infoSyncTree_,r,i);Nt(e.eventQueue_,r,o)}function td(e){return e.nextWriteId_++}function Vo(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Ue(n,...t)}function Qm(e,t,n){return Yc(e.serverSyncTree_,t,n)||B.EMPTY_NODE}function nd(e,t=e.transactionQueueTree_){if(t||rd(e,t),ci(t)){const n=BT(e,t);w(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function zW(e,t,n){const r=n.map(u=>u.currentWriteId),i=Qm(e,t,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const c=n[u];w(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=ct(t,c.path);o=o.updateChild(d,c.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,u=>{Vo(e,"transaction put response",{path:l.toString(),status:u});let c=[];if("ok"===u){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(Ar(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();rd(e,Kc(e.transactionQueueTree_,t)),nd(e,e.transactionQueueTree_),Nt(e.eventQueue_,t,c);for(let f=0;f<d.length;f++)Ao(d[f])}else{if("datastale"===u)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{et("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Bo(e,t)}},s)}(e,$a(t),n)}else IT(t)&&Xc(t,n=>{nd(e,n)})}function Bo(e,t){const n=VT(e,t),r=$a(n);return function WW(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const l=t[a],u=ct(n,l.path);let d,c=!1;if(w(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)c=!0,d=l.abortReason,i=i.concat(Ar(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=xW)c=!0,d="maxretry",i=i.concat(Ar(e.serverSyncTree_,l.currentWriteId,!0));else{const f=Qm(e,l.path,s);l.currentInputSnapshot=f;const h=t[a].update(f.val());if(void 0!==h){Ga("transaction failed: Data returned ",h,l.path);let p=Ee(h);"object"==typeof h&&null!=h&&Zn(h,".priority")||(p=p.updatePriority(f.getPriority()));const _=l.currentWriteId,C=Wa(e),m=Lm(p,f,C);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=m,l.currentWriteId=td(e),s.splice(s.indexOf(_),1),i=i.concat(Nm(e.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally)),i=i.concat(Ar(e.serverSyncTree_,_,!0))}else c=!0,d="nodata",i=i.concat(Ar(e.serverSyncTree_,l.currentWriteId,!0))}Nt(e.eventQueue_,n,i),i=[],c&&(t[a].status=2,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete&&r.push("nodata"===d?()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot):()=>t[a].onComplete(new Error(d),!1,null)))}rd(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Ao(r[a]);nd(e,e.transactionQueueTree_)}(e,BT(e,n),r),r}function VT(e,t){let n,r=e.transactionQueueTree_;for(n=U(t);null!==n&&void 0===ci(r);)r=Kc(r,n),n=U(t=ue(t));return r}function BT(e,t){const n=[];return jT(e,t,n),n.sort((r,i)=>r.order-i.order),n}function jT(e,t,n){const r=ci(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Xc(t,i=>{jT(e,i,n)})}function rd(e,t){const n=ci(t);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,jm(t,n.length>0?n:void 0)}Xc(t,r=>{rd(e,r)})}function Zm(e,t){const n=ci(t);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(w(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(w(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Ar(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?jm(t,void 0):n.length=o+1,Nt(e.eventQueue_,$a(t),i);for(let s=0;s<r.length;s++)Ao(r[s])}}const Km=function(e,t){const n=YW(e),r=n.namespace;return"firebase.com"===n.domain&&Sn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&Sn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&et("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Kg(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,t,"",r!==n.subdomain),path:new te(n.pathString)}},YW=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"==typeof e){let u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");-1===c&&(c=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=function qW(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}(e.substring(c,d)));const f=function QW(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):et(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(u+1),10)):u=t.length;const h=t.slice(0,u);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{const p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};class $T{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Be(this.snapshot.exportVal())}}class HT{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Xm{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return w(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Rt{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return $(this._path)?null:rm(this._path)}get ref(){return new an(this._repo,this._path)}get _queryIdentifier(){const t=Q0(this._queryParams),n=Yg(t);return"{}"===n?"default":n}get _queryObject(){return Q0(this._queryParams)}isEqual(t){if(!((t=Ca(t))instanceof Rt))return!1;const n=this._repo===t._repo,r=im(this._path,t._path);return n&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Uz(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class an extends Rt{constructor(t,n){super(t,n,new fm,!1)}get parent(){const t=k0(this._path);return null===t?null:new an(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class di{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new te(t),r=jo(this.ref,t);return new di(this._node.getChild(n),r,_e)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>t(new di(i,jo(this.ref,r),_e)))}hasChild(t){const n=new te(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function jo(e,t){return null===U((e=Ca(e))._path)?AW("child","path",t,!1):Gm("child","path",t,!1),new an(e._repo,De(e._path,t))}function XW(e){e=Ca(e);const t=new Xm(()=>{}),n=new qa(t);return function kW(e,t,n){const r=function pW(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(u,c)=>{const d=ct(u,n);r=r||Mr(c,d)});let i=e.syncPointTree_.get(n);i?r=r||Mr(i,K()):(i=new hT,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,s=o?new Ir(r,!0,!1):null;return function K8(e){return jc(e.viewCache_)}(pT(i,t,Uc(e.pendingWriteTree_,t._path),o?s.getNode():B.EMPTY_NODE,o))}(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then(i=>{const o=Ee(i).withIndex(t._queryParams.getIndex());let s;if(Rm(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())s=Ba(e.serverSyncTree_,t._path,o);else{const a=ja(e.serverSyncTree_,t);s=vT(e.serverSyncTree_,t._path,o,a)}return Nt(e.eventQueue_,t._path,s),Qc(e.serverSyncTree_,t,n,null,!0),o},i=>(Vo(e,"get for query "+Be(t)+" failed: "+i),Promise.reject(new Error(i))))}(e._repo,e,n).then(r=>new di(r,new an(e._repo,e._path),e._queryParams.getIndex()))}class qa{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,n){const r=n._queryParams.getIndex();return new $T("value",this,new di(t.snapshotNode,new an(n._repo,n._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new HT(this,t,n):null}matches(t){return t instanceof qa&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}(function tW(e){w(!zc,"__referenceConstructor has already been defined"),zc=e})(an),function sW(e){w(!qc,"__referenceConstructor has already been defined"),qc=e}(an);const Jm={};function YT(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||Sn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ue("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let l,u,s=Km(o,i),a=s.repoInfo;typeof process<"u"&&process.env&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(l=!0,o=`http://${u}?ns=${a.namespace}`,s=Km(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const c=i&&l?new Ma(Ma.OWNER):new mz(e.name,e.options,t);(function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Jc(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),MT(e)}(n))throw new Error(va(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",s),$(s.path)||Sn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function f4(e,t,n,r){let i=Jm[t.name];i||(i={},Jm[t.name]=i);let o=i[e.toURLString()];return o&&Sn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new OW(e,false,n,r),i[e.toURLString()]=o,o}(a,e,c,new gz(e.name,n));return new p4(d,e)}class p4{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function PW(e,t,n){if(e.stats_=em(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new kc(e.repoInfo_,(r,i,o,s)=>{PT(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>FT(e,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Be(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new si(e.repoInfo_,t,(r,i,o,s)=>{PT(e,r,i,o,s)},r=>{FT(e,r)},r=>{!function FW(e,t){$e(t,(n,r)=>{zm(e,n,r)})}(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=function vz(e,t){const n=e.toString();return Jg[n]||(Jg[n]=t()),Jg[n]}(e.repoInfo_,()=>new v8(e.stats_,e.server_)),e.infoData_=new p8,e.infoSyncTree_=new yT({startListening:(r,i,o,s)=>{let a=[];const l=e.infoData_.getNode(r._path);return l.isEmpty()||(a=Ba(e.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),zm(e,"connected",!1),e.serverSyncTree_=new yT({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,l)=>{const u=s(a,l);Nt(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new an(this._repo,K())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function d4(e,t){const n=Jm[t];(!n||n[e.key]!==e)&&Sn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),function LT(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Sn("Cannot call "+t+" on a deleted database.")}}function g4(e=function GG(e=bc){const t=ti.get(e);if(!t&&e===bc&&NM())return GM();if(!t)throw Kn.create("no-app",{appName:e});return t}(),t){const n=function HM(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=(e=>{const t=(e=>{var t,n;return null===(n=null===(t=yc())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("database");r&&function m4(e,t,n,r={}){(e=Ca(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Sn("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Sn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ma(Ma.OWNER);else if(r.mockUserToken){const s="string"==typeof r.mockUserToken?r.mockUserToken:function T3(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[_c(JSON.stringify({alg:"none",type:"JWT"})),_c(JSON.stringify(s)),""].join(".")}(r.mockUserToken,e.app.options.projectId);o=new Ma(s)}!function c4(e,t,n,r){e.repoInfo_=new Kg(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}(n,...r)}return n}si.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},si.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},function _4(e){(function XM(e){Wg=e})("10.8.1"),Sc(new Da("database",(t,{instanceIdentifier:n})=>YT(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),Mo(ZM,"1.0.3",e),Mo(ZM,"1.0.3","esm2017")}();let C4=(()=>{class e{constructor(){}ngOnInit(){this.writeData()}writeData(){const i=function GT(e,t){return(e=Ca(e))._checkNotDeleted("ref"),void 0!==t?jo(e._root,t):e._root}(g4(GM(nz_firebase)),"users/");let o;console.log("aaaaaaaa1"),console.log("aaaaa2"),XW(i).then(s=>{s.exists()?(console.log(s.val()),o=JSON.parse(s.val()),console.log(o)):console.log("No data available")}).catch(s=>{console.error(s)}),console.log(o)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=dn({type:e,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"main-div"]],template:function(r,i){1&r&&(se(0,"div",0),Le(1,"router-outlet"),W())},dependencies:[Xu]})}return e})(),D4=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=fn({type:e,bootstrap:[C4]});static#n=this.\u0275inj=Wt({imports:[Ej,_3,p3]})}return e})();Dj().bootstrapModule(D4).catch(e=>console.error(e))}},oe=>{oe(oe.s=59)}]);